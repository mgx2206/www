%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: jlp.dvi
%%Pages: 49
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSCommandLine: dvips -t a4 jlp
%DVIPSParameters: dpi=600, compressed, comments removed
%DVIPSSource:  TeX output 1996.03.04:1101
%%BeginProcSet: texc.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
1 sub]/id ch-image N /rw ch-width 7 add 8 idiv string N /rc 0 N /gp 0 N
/cp 0 N{rc 0 ne{rc 1 sub /rc X rw}{G}ifelse}imagemask restore}B /G{{id
gp get /gp gp 1 add N dup 18 mod S 18 idiv pl S get exec}loop}B /adv{cp
add /cp X}B /chg{rw cp id gp 4 index getinterval putinterval dup gp add
/gp X adv}B /nd{/cp 0 N rw exit}B /lsh{rw cp 2 copy get dup 0 eq{pop 1}{
dup 255 eq{pop 254}{dup dup add 255 and S 1 and or}ifelse}ifelse put 1
adv}B /rsh{rw cp 2 copy get dup 0 eq{pop 128}{dup 255 eq{pop 127}{dup 2
idiv S 128 and or}ifelse}ifelse put 1 adv}B /clr{rw cp 2 index string
putinterval adv}B /set{rw cp fillstr 0 4 index getinterval putinterval
adv}B /fillstr 18 string 0 1 17{2 copy 255 put pop}for N /pl[{adv 1 chg}
{adv 1 chg nd}{1 add chg}{1 add chg nd}{adv lsh}{adv lsh nd}{adv rsh}{
adv rsh nd}{1 add adv}{/rc X nd}{1 add set}{1 add clr}{adv 2 chg}{adv 2
chg nd}{pop nd}]dup{bind pop}forall N /D{/cc X dup type /stringtype ne{]
}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (jlp.dvi)
@start /Fa 44 128 df<923803FF80031F13F092383F00F803F8133C4A48133E4A4813
7E17FE4A5A17FC17384A481300A3141F92C8FCA55C143E011FB612E0A217C09039007E00
07147C160F1780A214FC4A131F1700A301015C4A133EA3167E0103147C5C1718EEFC1CEE
F83C010715385C1778177016F0010F15F04AEBF8E01679EE3FC0011FEC0F0093C7FC91C9
FCA3133EA21238EA7E3C137CEAFE7812FC485AEA79E0EA3FC0000FCAFC2F4582B42B>12
D<EA0380EA0FE0121FA5EA0760120013E013C0A2120113801203EA07001206120E5A5A5A
5A5A0B176FB318>39 D<B51280A46C1300110579911B>45 D<EC0FE0EC3FF8ECF03E9038
03C01F903907800F80EB0F00011EEB07C0131C5BD978C013E0EB70E0EBF06013E0120113
C0ECE00F000301C013C013801381EC801F01831480903887003F018E1400D801FC137ED8
00F05B90380001F84A5A4A5A4A5A4AC7FC147E14F8EB03E0EB0FC049C8FC133E13784848
EB0380485A4913074848140048C75A121E001C141E003F143E01F85B397DFF80F838781F
FF486C5BD8E0035B6D1380D9007EC7FC23347AB127>50 D<1370EA01FC1203A413F8EA00
E01300B0121C127F5AA45A12380E20779F18>58 D<161C163CA2167C16FCA21501821503
A2ED077E150F150E151CA21538A2157015F015E0EC01C0A2913803807F82EC0700A2140E
141E141C5CA25CA25C49B6FCA25B913880003F49C7EA1F80A2130E131E131C133C13385B
13F05B12011203D80FF0EC3FC0D8FFFE903807FFFEA32F367BB539>65
D<DB1FF013C09238FFFC010203EBFF03913A0FF00F878091393F8003CF9139FE0001EF49
48EB00FFD903F01500D90FE080495A49488091C8123E137E13FE485A4848153CA2485AA2
48481538A2485A94C7FC123F5BA3127F90CBFCA412FEA2EE03C0A25F127E160794C7FC5E
160E007F151E6C5D5E6C6C147016F06C6C495A6C6CEB07C06C6C49C8FC6C6C133E6CB413
FC90387FFFF0011F13C0D903FEC9FC323775B437>67 D<0107B712F05B18E0903A003F80
001F1707170392C7FC17015C18C0147EA214FEA24A130EA20101EC1E03041C13804A91C7
FC163C13035E9138F001F891B5FC5B5EECE0011500130F5E5C1707011F01015BEEC00E02
80141E92C7121C133F173C91C812381778495DA2017E14014C5A01FE14074C5A49141F00
014AB45A007FB7FCB8FC94C7FC34337CB234>69 D<0107B712E05B18C0903A003F80003F
170F170792C7FC17035C1880147EA214FEA25C161C0101EC3C07043813004A91C7FCA201
03147816704A13F0150349B5FCA25EECE003130F6F5A14C0A2011F13035E1480A2013F90
C9FCA291CAFCA25BA2137EA213FEA25B1201387FFFFCB5FCA233337CB232>I<92391FE0
01809238FFF8030207EBFE07913A1FF01F0F0091393F80079F9139FE0003DFD901F86DB4
FCD907F05C49481300495A4948147E49C8127C137E13FE485A48481578A2485AA2484815
70A2485A94C7FC123F5BA3127F90CBFCA400FE91383FFFFCA25F9238003F8094C7FCA200
7E5DA2167EA2007F15FE7E5E6C6C1301A26C6C495A6D13076C6CEB0F786C6C133E3A00FF
01FC3090387FFFF0011F01C0C8FCD903FEC9FC313775B43B>I<0107B548B512C0495CA2
903C003FC0000FF0004B5CA292C75BA24A141F60147EA202FE143F95C7FC5CA201015D17
7E5CA2010315FE5F5C91B6FC5B5F9138E00001A2010F14035F5CA2011F14075F5CA2013F
140F5F91C7FCA249141F5F137EA201FE143F94C8FC5B00015D3B7FFFF01FFFFCB55BA23A
337BB239>I<010FB51280A216009038003FC05DA292C7FCA25CA2147EA214FEA25CA213
01A25CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA291C8FCA25BA2137EA2
13FEA25B1201B512F8A25C21337BB21E>I<0107B512C05BA29026003FC0C7FC5DA292C8
FCA25CA2147EA214FEA25CA21301A25CA21303A25CA21307A25CA2130FA25C17E0011F14
0117C05C1603013F1580160791C7FCEE0F005B5E017E143EA201FE5CED01FC4913030001
EC1FF8007FB6FCB7FC5E2B337CB230>76 D<902607FFC0ED7FFC4917FF81D9003F4B1300
611803023BED077CA2027BED0EFC610273151C1838DAF1F01439F071F014E118E10101ED
01C36102C1EC0383EF070301031607050E5BEC80F8171C0107ED380F6102001470A249ED
E01FDC01C090C7FC130EEE0380011E017C5C933807003E011C140EA2013C4A137E187C01
385C5E017816FC6F485B1370ED3FC001F0EC80016000011500D807F81503277FFF803E90
B512C0B5EB3C01151C46337BB245>I<902607FF8090383FFFC0496D5BA2D9001F913803
F8004A6C6D5A6060EC3BF0027B140360EC71F8A202F11407DAF0FC91C7FC14E0A2010101
7E5B170E14C0810103151EEE801CEC801FA20107ECC03C030F1338140016E04901071378
1770010E14F01503011E15F0705A011C1301A2013C14FD03005B133816FF0178147F5F01
70143FA213F070C8FC1201EA07F8267FFF807FB5140EA23A337BB239>I<0107B612C049
15F883903A003F8001FEEE003FEF1F8092C713C0170F5C18E0147EA214FEEF1FC05CA201
011680173F4A1500177E010315FE5F4AEB03F8EE07E00107EC3FC091B6C7FC16F802E0C9
FC130FA25CA2131FA25CA2133FA291CAFCA25BA2137EA213FEA25B1201387FFFF0B5FCA2
33337CB234>80 D<0107B512FE49ECFFC017F0903A003F8007F8EE01FCEE007E92C7127F
835C1880147EA214FEEF7F005CA2010115FE5F4A13015F01034A5AEE0FC04A495A04FEC7
FC49B512F016C09138E003E0ED01F8010F6D7E167C4A137EA2131FA25CA2013F14FEA291
C7FCA24913015E137EEF01C001FE150318805B00011607277FFFF0001400B5ECFE0EEE7E
1CC9EA1FF8EE07E032357BB238>82 D<913901FC018091380FFF03023F13C791387E07EF
903A01F801FF0049487E4A7F495A4948133E131F91C7FC5B013E143CA3137E1638A293C7
FC137FA26D7E14E014FE90381FFFC06D13F86D7F01017F6D6C7E020F7F1400153F6F7E15
0FA4120EA2001E5D121CA2151F003C92C7FCA2003E143E5D127E007F5C6D485A9038C007
E039F3F80FC000F0B5C8FC38E03FFC38C00FF029377AB42B>I<0003B812C05A1880903A
F800FC003F260FC001141F0180150F01005B001EEE07001403121C003C4A5BA200380107
140E127800705CA2020F141E00F0161CC74990C7FCA2141FA25DA2143FA292C9FCA25CA2
147EA214FEA25CA21301A25CA21303A25CA21307A25C497E001FB512F05AA2323374B237
>I<B53CC03FFFF003FFF8601480280FF00001FCC7EA7F806C484AEC3E00193CA2193861
15036115074E5A030F140361031D4AC7FCA2DB38FC130EA203705C15F06C6C01E05C1401
03C05CDA038014F060DA0700130160020E4A5AA24A4AC8FCA24A140E147802705C5C5FD9
F1C014781770D9F3805CA201F7C7EA7FC0A201FE5DA26C4892C9FCA249147E5B167C5B16
78491470453570B24D>87 D<EB03F0EB0FF890383E1C6090387C0FF0EBF807EA01F0EA03
E00007EB03E0EA0FC0A2381F800715C0EA3F00A2140F481480127EA2141F00FE14005A15
06EC3F07EC3E0F150E147E007C141EECFE1CEB01FCD83C03133C393E07BE38391F0E1E78
3907FC0FF03901F003C0202278A027>97 D<137EEA0FFE121F5B1200A35BA21201A25BA2
1203A25BA21207A2EBC3E0EBCFF8380FDC3EEBF81F497E01E01380EA1FC0138015C01300
5AA2123EA2007E131F1580127CA2143F00FC14005AA2147EA25CA2387801F85C495A6C48
5A495A6C48C7FCEA0FFCEA03F01A3578B323>I<14FCEB07FF90381F078090383E03C0EB
FC013801F8033803F0073807E00F13C0120F391F80070091C7FC48C8FCA35A127EA312FE
5AA4007C14C0EC01E0A2EC03C06CEB0F80EC1F006C137C380F81F03803FFC0C648C7FC1B
2278A023>I<ED0FC0EC03FFA21680EC001FA31600A25DA2153EA2157EA2157CA215FCA2
903803F0F8EB0FF8EB3E1DEB7C0F496C5AEA01F0EA03E000071303D80FC05BA2381F8007
A2D83F005BA2140F5A007E5CA2141F12FE4891C7FC1506EC3F075DEC3E0E147E007C141E
ECFE1CEB01FCD83C03133C393E07BE38391F0E1E783907FC0FF03901F003C0223578B327
>I<EB03F8EB0FFEEB3E0F9038F807803801F003EA03E0EA07C0120FEA1F801407D83F00
13005C007E133EEB03F8387FFFE04848C7FC00FCC8FCA45AA4EC0180EC03C0A2007CEB07
80EC1F00003C133E6C13F8380F03E03807FF80D801FCC7FC1A2277A023>I<151FED7FC0
EDF0E0020113F0EC03E3A2EC07C316E0EDC1C091380FC0005DA4141F92C7FCA45C143E90
381FFFFEA3D9007EC7FC147CA414FC5CA513015CA413035CA413075CA3130FA25CA3131F
91C8FCA35B133E1238EA7E3CA2EAFE7812FC485AEA78E0EA3FC0000FC9FC244582B418>
I<143FECFF80903803E1E6903807C0FF90380F807FEB1F00133E017E133F49133EA24848
137EA24848137CA215FC12074913F8A21401A2D80FC013F0A21403120715E01407140F14
1F3903E03FC00001137FEBF0FF38007FCF90381F0F801300141FA21500A25C143E123800
7E137E5C00FE5B48485A387803E0387C0F80D81FFFC7FCEA07F820317CA023>I<EB0FC0
EA03FFA25CEA001FA391C8FCA25BA2133EA2137EA2137CA213FCA29038F83F80ECFFE039
01FBE0F09038FF80F8EC007849137C485A5B5BA2484813FC5D5BA2000F13015D1380A200
1F13035DEB0007EDC0C048ECC1E0020F13C0003E1481A2007E1483ED0380007C14071600
00FC140E151E48EB07F80070EB01F023357BB327>I<EB0180EB07E0A2130FEB07C0EB03
8090C7FCABEA01F0EA03FCEA0F1E120E121C123C1238EA783E1270A2137EEAF07CEA60FC
C65AA212015BA212035BA2000713C0EBC1E0000F13C01381A21383EB038013071400130E
131EEA07F8EA01F013337AB118>I<EB0FC0EA01FF5A5CEA001FA391C7FCA25BA2133EA2
137EA2137CA213FCA2491378EC01FE0001EB078FEC0E0F9038F01C3F143800031370ECE0
3E9038E1C01C9038E38000D807E7C7FC13EE5B13F8120F13FFEB9FC0EB83F0EA1F81EB80
F81300150C48141E151C123EA2007E143C1538127C157800FCEB787015E048EB3FC00070
EB0F8020357BB323>107 D<133FEA07FF5A13FEEA007EA3137CA213FCA213F8A21201A2
13F0A21203A213E0A21207A213C0A2120FA21380A2121FA21300A25AA2123EA2127EA212
7C1318EAFC1C133CEAF838A21378137012F013F0EAF8E01279EA3FC0EA0F00103579B314
>I<2703C003F8137F3C0FF00FFE01FFC03C1E783C1F07C1E03C1C7CF00F8F01F03B3C3D
E0079E0026383FC001FC7FD97F805B007001005B5E137ED8F0FC90380FC00100E05FD860
F8148012000001021F130360491400A200034A13076049013E130FF081800007027EEC83
C0051F138049017C1403A2000F02FC1407053E130049495CEF1E0E001F01015D183C0100
49EB0FF0000E6D48EB03E03A227AA03F>I<3903C007F0390FF01FFC391E787C1E391C7C
F01F393C3DE00F26383FC01380EB7F8000781300EA707EA2D8F0FC131F00E01500EA60F8
120000015C153E5BA20003147E157C4913FCEDF8180007153C0201133801C013F0A2000F
1578EDE070018014F016E0001FECE1C015E390C7EAFF00000E143E26227AA02B>I<14FC
EB07FF90381F07C090383E03E09038FC01F0EA01F83903F000F8485A5B120F484813FCA2
48C7FCA214014814F8127EA2140300FE14F05AA2EC07E0A2007CEB0FC01580141FEC3F00
6C137E5C381F01F0380F83E03803FF80D800FCC7FC1E2278A027>I<011E137C90387F81
FF9039F3C387C09039E3EF03E03901E1FE01D9C1FC13F0EBC3F8000313F0018314F814E0
EA07871307000313C01200010F130316F01480A2011F130716E01400A249EB0FC0A2013E
EB1F80A2017EEB3F00017F133E5D5D9038FF81F09038FDC3E09038F8FF80027EC7FC0001
90C8FCA25BA21203A25BA21207A25BB5FCA325307FA027>I<3903C00FC0390FF03FF039
1E78F078391C7DE03C393C3FC0FC00381380EB7F00007814F8D8707E13701500EAF0FC12
E0EA60F812001201A25BA21203A25BA21207A25BA2120FA25BA2121FA290C8FC120E1E22
7AA020>114 D<EB03F0EB1FFCEB3C1EEB780FEBF007EA01E0140F0003131F13C0A2EBE0
0414007FEBFF8014E06C13F06C13F8EB7FFC1307EB00FE147E143E123800FC133CA3147C
00F013784813F0EAF001387803E0383C0F80381FFE00EA03F818227AA01F>I<1303EB0F
80A3131FA21400A25BA2133EA2137EA2137C387FFFF8A2B5FC3800F800A21201A25BA212
03A25BA21207A25BA2120FA25B1460001F13F014E01300130114C01303001E1380EB0700
5BEA0F1EEA07F8EA01E015307AAE19>I<EA01F0D803FC1307D80F1E5B000E5C121C123C
00385CD8783E133E1270A2017E137ED8F07C137CEA60FCC65A15FC00015C5BA214010003
5C13E0166002031370EDE0F0D807C014E0A20003EB07E116C09038E00FC1EC1FC3000190
383FE3809038F071E73A007FE0FF0090381F803C24227AA029>I<01F01338D803FC13FC
EA0F1E120E121C123C0038147CEA783E0070143CA2137ED8F07C1338EA60FCC65A157800
0114705BA215F0000314E05BA2EC01C0A2EBC003158014071500EBE00EA26C6C5A3800F8
78EB7FE0EB1F801E227AA023>I<D801F01538D803FC010E13FCD80F1E131E000E143E12
1C123C0038027E137CD8783E137C0070163CA2017E13FCD8F07C491338EA60FCC65A0201
147800014A137013F0A2020314F0000316E001E05BA2160117C001C013C00207EB0380A2
9039E00FE0071700021F130E3A01F03DF01E3A00F878F83C90393FF03FF090390FC00FC0
2E227AA033>I<011F137C90387FC1FF3A01E1E787803A03C0F703C0903880FE0FEA0700
4813FC000E1580001E9038F80700001C91C7FC1301003C5B1218120013035CA31307A25C
1506010F130F150E14800038141ED87C1F131C00FC143C1538013F5B39F07FC0E03970F3
C3C0393FE1FF80260F807EC7FC22227CA023>I<13F0D803FC1307D80F1E130F000E141F
121C123C0038143FD8783E133E1270A2017E137ED8F07C137CEA60FCC65A15FC000114F8
5BA21401000314F013E0A2140315E0EA07C0A20003130715C0EBE00F141F0001133F9038
F07F8038007FEFEB1F8FEB001F1500A25C003E133E007E137E147C5C007C5BEA7001495A
38380780D83C1FC7FCEA0FFCEA07F020317AA025>I<001E13F0387F01F81303EAFF07A3
38FE03F0383801C015086CB227>127 D E /Fb 1 1 df<B712FEA327037A8F34>0
D E /Fc 76 124 df<91393FE00FE0903A01FFF83FF8903A07E01EF83C903A1F800FF07E
903A3F001FE0FE017E133F4914C0485A1738484890381F8000ACB812C0A33B03F0001F80
00B3A7486C497EB50083B5FCA32F357FB42D>11 D<EC1FF891B512C0903803F00F90380F
C01FEB1F80EB3F00137E5B150F485AACB7FCA33901F8000FB3A7486CEB1FE0267FFFE3B5
FCA328357FB42B>13 D<DA1FE013FF9126FFFC0713E0903B03F01E1F80F0903B0FC0077E
003CD91F805B90273F001FF8137E017E4A13FE495CA248485C030F147C95C7FCA9187EB9
12FEA33B01F8000FC000187EB3A6486C496C13FF297FFFC1FFFE0F13F8A33D357FB440>
I<123C127E12FFA8127EAB123E123CAB1218A61200A7123C127E12FFA4127E123C08367A
B515>33 D<123C127EB4FCA21380A2127F123D1201A412031300A25A1206120E120C121C
5A5A126009177AB315>39 D<14C01301EB0380EB0F00130E5B133C5B5BA2485A485AA212
075B120F90C7FC5AA2121E123EA3123C127CA55AB0127CA5123C123EA3121E121FA27E7F
12077F1203A26C7E6C7EA213787F131C7F130FEB0380EB01C01300124A79B71E>I<12C0
7E1270123C121C7E120F6C7E6C7EA26C7E6C7EA27F1378137C133C133EA2131E131FA37F
1480A5EB07C0B0EB0F80A514005BA3131E133EA2133C137C137813F85BA2485A485AA248
5A48C7FC120E5A123C12705A5A124A7CB71E>I<156015F0B3A4007FB812C0B912E0A26C
17C0C800F0C8FCB3A4156033327CAB3C>43 D<123C127EB4FCA21380A2127F123D1201A4
12031300A25A1206120E120C121C5A5A126009177A8715>I<B512F0A514057F921A>I<12
3C127E12FFA4127E123C08087A8715>I<1530157815F8A215F01401A215E01403A215C0
1407A21580140FA215005CA2143EA2143C147CA2147814F8A25C1301A25C1303A25C1307
A2495AA291C7FC5BA2131E133EA2133C137CA2137813F8A25B1201A25B1203A2485AA25B
120FA290C8FC5AA2121E123EA2123C127CA2127812F8A25A12601D4B7CB726>I<EB0FE0
EB7FFCEBF83E3903E00F803907C007C0EB8003000F14E0391F0001F0A24814F8A2003E13
00007E14FCA500FE14FEB2007E14FCA56CEB01F8A36C14F0A2390F8003E03907C007C0A2
3903E00F803900F83E00EB7FFCEB0FE01F347DB126>I<13075B5B137FEA07FFB5FC13BF
EAF83F1200B3B3A2497E007FB51280A319327AB126>I<EB3FC0EBFFF0000313FC380F80
FF391E007F80001CEB3FC048EB1FE048130F15F00060130712FC6C14F87E1403A3007E13
07123CC7FC15F0A2140F15E0EC1FC0A2EC3F801500147E5C495A5C495A495A495A49C7FC
133E133C4913185B485A48481330485A48C7FC001C1470001FB512F05A5AB612E0A31D32
7CB126>I<EB1FE0EBFFFC4813FF3907E03F80390F001FC0001EEB0FE0001CEB07F0123F
018013F8140313C01380A2381F0007C7FC15F0A2EC0FE015C0141FEC3F80EC7E00EB01F8
EB7FE014FCEB003FEC1FC0EC0FE0EC07F015F8140315FC140115FEA3127EB4FCA415FC48
130312780070EB07F86C14F0003C130F001FEB1FE0390FE03F800003B51200C613FCEB1F
E01F347DB126>I<EC01C0A214031407A2140F141FA2143F147F146F14CF1301EB038F14
0F1307130E130C131C13381330137013E013C0EA0180120313001206120E120C5A123812
305A12E0B71280A3C7380FC000A94A7E0107B51280A321337EB226>I<000C14C0380FC0
0F90B5128015005C5C14F014C0D80C18C7FC90C8FCA9EB0FC0EB7FF8EBF07C380FC03F90
38001F80EC0FC0120E000CEB07E0A2C713F01403A215F8A41218127E12FEA315F0140712
F8006014E01270EC0FC06C131F003C14806CEB7F00380F80FE3807FFF8000113E038003F
801D347CB126>I<14FE903807FF80011F13E090383F00F0017C13703901F801F8EBF003
EA03E01207EA0FC0EC01F04848C7FCA248C8FCA35A127EEB07F0EB1FFC38FE381F903870
0F809038E007C039FFC003E0018013F0EC01F8130015FC1400A24814FEA5127EA4127F6C
14FCA26C1301018013F8000F14F0EBC0030007EB07E03903E00FC03901F81F806CB51200
EB3FFCEB0FE01F347DB126>I<1230123C003FB6FCA34814FEA215FC0070C71238006014
30157015E04814C01401EC0380C7EA07001406140E5C141814385CA25CA2495A1303A349
5AA2130FA3131F91C7FCA25BA55BA9131C20347CB126>I<EB0FE0EB7FFC90B5FC3903F0
1F803907C007C0390F0003E0000EEB01F0001E1300001C14F8003C1478A3123EA2003F14
F86D13F0EBC001D81FF013E09038F803C0390FFE07803907FF0F006C13DE6C13F87EEB3F
FE8001F713C0D803E313E0D8078013F0390F007FF8001E131F003EEB07FC003C13034813
01EC007E12F848143EA2151EA37E153C1278007C14787E6C14F0390F8003E03907F01FC0
0001B5120038007FFCEB1FE01F347DB126>I<EB0FE0EB7FF8EBFFFE3803F83F3907E00F
80390FC007C0D81F8013E0EC03F0EA3F0048EB01F8127EA200FE14FC1400A415FEA5007E
1301A2127F7E1403EA1F80000F13073807C00E3803E01C3801F03838007FF090381FC0FC
90C7FC1401A215F8A215F01403001F14E0383F800715C0140FEC1F809038003F00001C13
7E381F01FC380FFFF0000313C0C690C7FC1F347DB126>I<123C127E12FFA4127E123C12
00B0123C127E12FFA4127E123C08207A9F15>I<007FB812C0B912E0A26C17C0CCFCAC00
7FB812C0B912E0A26C17C033147C9C3C>61 D<EBFFC0000313F8380F00FE001C133F48EB
1F804814C0140F00FC14E07EA4127CC7EA1FC0A2EC3F80EC7F0014FE14F8495A495A5C49
5AA249C7FC130EA2130C131CA21318A890C8FCA7133C137E13FFA4137E133C1B357CB424
>63 D<15E0A34A7EA24A7EA34A7EA3EC0DFE140CA2EC187FA34A6C7EA202707FEC601FA2
02E07FECC00FA2D901807F1507A249486C7EA301066D7EA2010E80010FB5FCA249800118
C77EA24981163FA2496E7EA3496E7EA20001821607487ED81FF04A7ED8FFFE49B512E0A3
33367DB53A>65 D<B7FC16E016F83A03FC0003FE0001EC00FFEE7F80EE3FC0161F17E016
0F17F0A617E0161F17C0EE3F80EE7F0016FEED03FC90B612F05E9039FC0007FCED00FEEE
3F80EE1FC0EE0FE017F0160717F8160317FCA617F81607A2EE0FF0EE1FE0163FEE7FC000
03913803FF00B75A16F816C02E337DB236>I<DA03FE130C91393FFF801C91B512E0903A
03FE01F83C903A0FF0003C7CD91FC0EB0EFCD97F80130701FEC712034848140100031500
5B4848157C485A173C485A171C123F5B007F160CA390C9FC481600AB7E6D150CA3123F7F
001F161C17186C7E17386C6C15306C6C15706D15E012016C6CEC01C0D97F80EB0380D91F
C0EB0F00D90FF0131ED903FE13FC0100B512F0023F13C0DA03FEC7FC2E377CB437>I<B7
7E16F016FE3A01FE0001FF00009138003FC0EE0FE0707E707E707E707E177E177FEF3F80
A2EF1FC0A3EF0FE0A418F0AA18E0A3171F18C0A21880173F18005F17FE5F4C5AEE07F04C
5AEE3FC000014AB45AB748C7FC16F8168034337EB23B>I<B812C0A3D803FCC7127F0001
150FEE03E01601A21600A21760A403061330A41700150EA2151E157E90B512FEA39038FC
007E151E150EA21506170CA3171892C7FCA41738A21770A217F01601160316070003157F
B812E0A32E337DB234>I<B81280A3D803FCC7FC0001151FEE07C01603A21601A21600A4
1760150CA31700A2151CA2153C15FC90B5FCA3EBFC00153C151CA2150CA592C8FCAB487E
B512FEA32B337DB232>I<DA03FE130C91393FFF801C91B512E0903A03FE01F83C903A0F
F0003C7CD91FC0EB0EFCD97F80130701FEC7120348481401000315005B4848157C485A17
3C485A171C123F5B007F160CA390C9FC4893C7FCAA0303B512E07E7F92390003FE00705A
123F7F121FA26C7E7F12076C7E7F6C6C14036C7E6D6C1307D91FC0EB0E7CD90FF0EB1C3C
D903FEEBF81C0100B5EAF00C023F01C0C7FCDA03FEC8FC33377CB43C>I<B5D8FE03B512
F8A3000190C73807FC006C486E5AB390B7FCA349C71203B3A3486C4A7EB5D8FE03B512F8
A335337EB23A>I<B512FEA3000113006C5AB3B3A7487EB512FEA317337EB21C>I<017FB5
FCA39038003FE0EC1FC0B3B1127EB4FCA4EC3F805A0060140000705B6C13FE6C485A380F
03F03803FFC0C690C7FC20357DB227>I<B500FE903807FFF8A3000190C7000113006C48
EC00FC17F04C5A4C5A4CC7FC160E5E5E5E5E4B5A4B5A4BC8FC150E5D5D15F84A7E14034A
7EEC0EFF5C4A6C7E4A6C7EECE01FD9FFC07F4A6C7E4A6C7E5B6F7E6F7EA26F7E707EA270
7E707E160F83707E707EA283486C913807FF80B500FE013F13FCA336337EB23C>I<B512
FEA3D803FEC9FC6C5AB3A9EE0180A416031700A45EA25E5E5E5E16FE00031407B7FCA329
337DB230>I<D8FFFC923801FFF86D5DA20003EFFE00D801BFED06FCA3D99F80140CA2D9
8FC01418A3D987E01430A2D983F01460A3D981F814C0A3D980FCEB0180A2027EEB0300A3
6E1306A26E6C5AA36E6C5AA36E6C5AA26E6C5AA36E6C5AA3913800FD80A2037FC7FCA348
6C133ED80FF04B7EB5011C90387FFFF8A33D337CB246>I<D8FFFE91381FFFF87F80C603
0013006E143CD9DFE01418EBCFF0A2EBC7F8EBC3FCA2EBC1FEEBC0FF6E7EA26E7E6E7EA2
6E7E6E7E6E7EA26E7E6E7EA2ED7F80ED3FC0ED1FE0A2ED0FF0ED07F8A2ED03FCED01FEED
00FFA2EE7F98EE3FD8A2EE1FF8160F1607A216031601A2486C1400D807F81578B500C014
38A2171835337EB23A>I<EC07FC91387FFFC0903901FC07F0903907E000FCD90F80133E
013FC76C7E017E6E7E496E7E48486E7E48486E7EA248486E7E000F8249157E001F167FA2
4848ED3F80A2007F17C0A290C9121FA24817E0AB6C17C06D153FA3003F17806D157FA200
1F17006D5D000F5E6C6C4A5AA26C6C4A5A00015E6C6C4A5A017E4A5A6D4A5AD91FC0017F
C7FCD907E013FC903901FC07F09039007FFFC0DA07FCC8FC33377CB43C>I<B612FEEDFF
C016F03A03FC0007FC0001EC00FE167FEE3F80EE1FC017E0160FA217F0A617E0A2EE1FC0
A2EE3F80EE7F0016FEED07F890B65A168001FCC9FCB3A2487EB512F8A32C337DB234>I<
B612FCEDFF8016F03A01FE0007FC0000EC01FEED007F707E707E83160F83A65FA24C5AA2
4C5A047EC7FC4B5AED0FF090B612C093C8FC9039FE001FC0ED07F06F7E6F7E150082167E
167FA583A5180C17C0A2043F131C486C1618B500FEEB1FE0040F1338933807F070C93801
FFE09338003F8036357EB239>82 D<90381FE00390387FFC0748B5FC3907F01FCF390F80
03FF48C7FC003E80814880A200788000F880A46C80A27E92C7FC127F13C0EA3FF013FF6C
13F06C13FF6C14C06C14F0C680013F7F01037F9038003FFF140302001380157F153FED1F
C0150F12C0A21507A37EA26CEC0F80A26C15006C5C6C143E6C147E01C05B39F1FC03F800
E0B512E0011F138026C003FEC7FC22377CB42B>I<007FB712FEA390398007F001D87C00
EC003E0078161E0070160EA20060160600E01607A3481603A6C71500B3AB4A7E011FB512
FCA330337DB237>I<B500FE90381FFFF8A3000190C813006C48153C1718B3AF1738017F
1530A217706D6C1460011F15E06E495A010F14036D6C495A6D6C49C7FCD901FC131E6DB4
13FC91383FFFF0020F13C0020190C8FC35357EB23A>I<B500F0903803FFF8A3D807FEC8
EA7FC06C48ED1F000001161E6D151C00001618A26D15386D1530A26D6C5CA26E14E0011F
5DA26D6C495AA28001074AC7FCA26D6C1306A28001015CA26E131C01001418806E5BA2ED
8070023F1360A26E6C5AA215E1020F5BA2DA07F3C8FCA215FBEC03FEA36E5AA26E5AA315
70A235357EB23A>I<B5D8F007B539800FFFF0A3000390C7273FF000011300D801FC6E48
EB007C1A386D140F00001930836D020715706D1860A26E496C14E0013F60A26ED919FC13
01011F60A26ED930FE1303010F95C7FCA26ED9607F5B01071706A26E9039C03F800E0103
170CA2913BFC01801FC01C01011718A2913BFE03000FE03801001730A2DAFF06EB07F002
7F5EA2038CEB03F8023F5EA203D8EB01FC021FEDFD80A203F0EB00FF020F93C8FCA24B80
0207157EA24B143E0203153CA24B141C020115184C357FB24F>I<B500F8ECFFFEA30003
0180EC3FE06C90C8EA1F806CEE0E006D6C5C6D6C141817386D6C14305F6D6C14E06D6C5C
16016D6C5C6D6C49C7FC5E6D6C13065E91387F801C91383FC018163891381FE0306E6C5A
16E06E6C5AEDF980EC03FF6E90C8FC5D1400B14A7E91B512FCA337337FB23A>89
D<003FB612FCA39039F80007F813C090C7EA0FF0003EEC1FE0123C0038EC3FC00078EC7F
801270EDFF004A5AA20060495AA24A5A4A5AC7FC4A5A4A5AA24A5A4AC7FCA2495A495AA2
495A495AA24948130C495AA2495A49C7FCA24848141CA2485A485A1638485A4848147816
F84848130148481307153FB7FCA326337CB22F>I<EB7F803803FFF0380F80FC381C003E
003F133F6D6C7E6E7EA26E7EEA1F00C7FCA4EB01FF131FEBFF873803FC07EA0FF0EA1FC0
EA3F80127F13004815C05AA3140FA26C131F6C133B3A3F8071F180391FC1E1FF2607FFC0
13003900FE003C22237DA126>97 D<EA03F012FFA312071203AEEC3F80ECFFE09038F3C0
F89038F7007E01FE7F49EB1F8049EB0FC05BED07E016F0A2150316F8AA16F0150716E0A2
ED0FC07F6DEB1F8001ECEB3F0001CF137C90388381F8903801FFE0C76CC7FC25357EB32B
>I<EB07F8EB3FFF9038FC07C03901F000E03903E003F03807C007120FEA1F80123F9038
0003E04890C7FCA2127E12FEAA127FA26C14187F001F14386D1330000F14706C6C13E039
03F001C03900FC0F8090383FFE00EB07F01D237EA122>I<153FEC0FFFA3EC007F81AEEB
07F0EB3FFCEBFC0F3901F003BF3907E001FF48487E48487F8148C7FCA25A127E12FEAA12
7E127FA27E6C6C5BA26C6C5B6C6C4813803A03F007BFFC3900F81E3FEB3FFCD90FE01300
26357DB32B>I<EB0FE0EB7FFCEBF83F3903F00F80D807E013C0390FC007E0381F800315
F0EA3F0014014814F8127EA212FEA2B6FCA248C8FCA5127E127FA26C1418A26C6C133800
0F14306D13706C6C13E03901F003C03900FC0F00EB3FFEEB07F01D237EA122>I<EB01FC
EB07FF90381F078090383E0FC0EB7C1F13FCEA01F8A20003EB070049C7FCACB512F0A3D8
03F0C7FCB3A7487E387FFFE0A31A357FB417>I<151F90391FC07F809039FFF8E3C03901
F07FC73907E03F033A0FC01F83809039800F8000001F80EB00074880A66C5CEB800F000F
5CEBC01F6C6C48C7FCEBF07C380EFFF8380C1FC0001CC9FCA3121EA2121F380FFFFEECFF
C06C14F06C14FC4880381F0001003EEB007F4880ED1F8048140FA56C141F007C15006C14
3E6C5C390FC001F83903F007E0C6B51280D91FFCC7FC22337EA126>I<EA03F012FFA312
071203AEEC1FC0EC7FF09038F1E0FC9038F3807C9038F7007E13FE497FA25BA25BB3486C
EB7F80B538C7FFFCA326347EB32B>I<EA0780EA0FC0EA1FE0A4EA0FC0EA0780C7FCAAEA
07E012FFA3120F1207B3A6EA0FF0B5FCA310337EB215>I<EB03C0EB07E0EB0FF0A4EB07
E0EB03C090C7FCAAEB03F013FFA313071303B3B01238127C00FE13E0130714C0130F007C
138038381F00EA1FFCEA07F0144384B217>I<EA03F012FFA312071203AF913803FFE0A3
6E1300EC00F8EC01E05D4A5A020FC7FC141C5C5C14F0EBF3F8EBF7FC13FEEBFC7EEBF87F
496C7E141F6E7E8114076E7E8114016E7E81486CEBFF80B500C313F0A324347EB329>I<
EA07E012FFA3120F1207B3B3A7EA0FF0B5FCA310347EB315>I<2703F01FE013FF00FF90
267FF80313C0903BF1E07C0F03E0903BF3803E1C01F02807F7003F387FD803FE1470496D
486C7EA2495CA2495CB3486C496C487EB53BC7FFFE3FFFF0A33C217EA041>I<3903F01F
C000FFEB7FF09038F1E0FC9038F3807C3907F7007EEA03FE497FA25BA25BB3486CEB7F80
B538C7FFFCA326217EA02B>I<EB07F0EB3FFE9038FC1F803901F007C03903C001E00007
8048486C7E48C7127CA248147E003E143E007E143FA300FE1580A8007E1500A36C147EA2
6C147C6D13FC6C6C485A00075C3903F007E03900FC1F80D93FFEC7FCEB07F021237EA126
>I<3903F03F8000FFEBFFE09038F3C0F89038F7007ED807FE7F6C48EB1F804914C04913
0F16E0ED07F0A3ED03F8A9150716F0A216E0150F16C06D131F6DEB3F80160001FF13FC90
38F381F89038F1FFE0D9F07FC7FC91C8FCAA487EB512C0A325307EA02B>I<903807F003
90383FFC07EBFC0F3901F8038F3807E001000F14DF48486CB4FC497F123F90C77E5AA25A
5AA9127FA36C6C5B121F6D5B000F5B3907E003BF3903F0073F3800F81EEB3FF8EB0FE090
C7FCAAED7F8091380FFFFCA326307DA029>I<3803E07C38FFE1FF9038E38F809038E71F
C0EA07EEEA03ECA29038FC0F8049C7FCA35BB2487EB512E0A31A217FA01E>I<EBFF0600
0713CE381F00FE003C133E48131E140E5A1406A27EA200FE90C7FC6C7EEA7FFC383FFFC0
14F0000F7F6C7FC67FEB0FFF1300EC3F8000C0131F140F6C1307A37E15006C5B6C130E6C
5B38F7807838E1FFE038C07F8019237EA11E>I<1330A51370A313F0A21201A212031207
381FFFFEB5FCA23803F000AF1403A814073801F806A23800FC0EEB7E1CEB1FF8EB07E018
2F7FAD1E>I<D803F0133F00FFEB0FFFA30007EB007F000380B35DA35D12016D48138000
00903803BFFC90387E073FEB1FFED907F8130026227EA02B>I<B5EBFFF0A3D80FF0EB3F
800007EC1F000003140E150C6D131C00011418A26C6C5BA26D1370017E1360137F6D5BA2
90381F8180A214C3010F90C7FCA2EB07E6A214FE6D5AA26D5AA36D5AA2146024217E9F29
>I<B53A1FFF81FFF0A33C07F801FC003F8001F049EB1E0000030100141C816C6C017C13
18A26D017E1338000002FE1330A290267E01FF5B159F168090263F030F5BA216C0903A1F
8607C180A202C613E390260FCC0390C7FCA2D907FC13F6ECF80116FE6D486C5AA36D4813
78A36D48133034217F9F37>I<B53801FFF8A32603FE0013806C48EB7C0000001478017E
1370017F5B90383F81C090381F8380D90FC3C7FCEB07E614FE6D5A6D5A6D7E80805B9038
039F809038071FC09038060FE0EB0C0790381C03F0496C7E01707FEBF000000180000FEC
FF8026FFFC0313FCA326207F9F29>I<3A7FFF807FF8A33A07F8001FC00003EC0F800001
EC070015066C6C5BA26D131C017E1318A26D5BA2EC8070011F1360ECC0E0010F5BA29038
07E180A214F3010390C7FC14FBEB01FEA26D5AA31478A21430A25CA214E05CA2495A1278
D8FC03C8FCA21306130EEA701CEA7838EA1FF0EA0FC025307F9F29>I<003FB512F0A2EB
000F003C14E00038EB1FC00030EB3F800070137F1500006013FE495A13035CC6485A495A
A2495A495A49C7FC153013FE485A12035B48481370485A001F14604913E0485A387F0003
48130F90B5FCA21C207E9F22>I<B712F8A22502809426>I E /Fd
18 86 df<120FEA3FC0EA7FE0EAFFF0A6EA7FE0EA3FC0EA0F000C0C7A8B19>46
D<147814F81303131FEA03FFB5FCA3EAFC1F1200B3B2007FB512FEA41F317AB02C>49
D<EB1FFC90B57E000314E0000F14F8391FE03FFC393F800FFF48487E6D6C1380D8FFC014
C06D7E16E080A36C5A6C5A6CC7FCC8FC16C05C16805C16004A5A4A5A5D4A5AEC3FC04A5A
02FEC7FC495A495A903907E001E0EB0FC0EB1F8090383E00034914C05B4848130748B6FC
5A5A5A5A5AB71280A423317CB02C>I<EB0FFC90387FFF8048B512F03903F01FF83907C0
0FFE380F8007486C6C7E01F01480123F13F8A5D81FF014006C485AD803805BC7FC4A5A4A
5A4A5AECFFC0013F90C7FC14FCECFFC09038001FF0EC0FFC6E7E6E7E16806E13C0A2000F
15E0EA3FC0EA7FE0EAFFF0A416C0A2495AD87FC0148049481300003F5B391FF01FFE6CB5
12F8000314E0C61480D91FFCC7FC23327CB02C>I<151F5D5DA25D5C5C5C5CA25C143D14
7D14F9EB01F114E1EB03C1EB0781130FEB1F01133E133C137813F01201EA03E0EA07C013
80EA0F00121E123E5A5AB712FEA4C700031300A80103B512FEA427317EB02C>I<000C14
0ED80FE013FE90B5FC5D5D5D5D5D92C7FC14FC14F091C8FC1380A6EB87FE9038BFFFC090
B512F09038FC0FF89038E003FE01C07F497E01001480000E6D13C0C8FCA216E0A3121FEA
7F807F487EA316C05B5CD87F801480D87C0014006C5B393F8007FE391FE01FFC0007B512
F06C14C0C691C7FCEB1FF823327CB02C>I<EC7FC0903803FFF0010F13FC90383FE07E90
387F801F4848485A4848EBFF8048485A13F8120FEA1FF0A2123F6E13004848133C92C7FC
A2142039FFE1FF8001E713E001EF13F89038FE03FC496C7E01F87F6E13805B16C0A24914
E0A5127FA5123F16C0121F6D1480000F5B01F814006C6C485A6C6C485A6CB55A6C6C5B01
1F13C0D907FEC7FC23327CB02C>I<123C123F90B612F8A44815F016E016C0168016005D
007CC7127E00785C4A5A00F8495A48495A4A5A4A5AC7FC4AC7FC147E14FE5C13015C1303
A2495AA2130FA2131FA25C133FA4137FA96D5AA2010FC8FC25337BB12C>I<ED1F80A24B
7EA24B7EA34B7EA24A7FA34A7FA24A7F15CFA2020F7F1587021F801503023F80EC3E01A2
027E80EC7C0002FC804A137FA20101814A133F0103814A131FA249B67EA24981A290271F
8000077F91C77EA24982013E80017E82017C80A201FC8249157FB500F0013FB512F0A43C
347DB343>65 D<B712FEEEFFC017F817FEC69039C0001FFF04071380040113C0A27013E0
A2EF7FF0A6EFFFE0A24C13C0A24C138093380FFE00EE3FFC91B612F017C017F89139C000
07FE933803FF80040013C018E0EF7FF018F8173FA218FCA618F8A2177FEFFFF04C13E05E
040F13C0B912005F17F0178036337DB23F>I<B812FEA4C69038E0000FEE01FF82838383
A283A3DB01E013801707A4030390C7FCA21507151F91B5FCA4ECE01F1507150318F01501
A2EF01E0A392C7FCA21703A2EF07C0A2170F171F173F17FF1607B91280A434337DB23A>
69 D<B812FCA4C69038E0001FEE03FE16011600177E173EA2171EA3923803C01F170FA4
03071300A2150F153F91B5FCA4ECE03F150F1507A21503A592C8FCABB612F8A430337DB2
38>I<912601FFE01370021F01FC13F091B61201010315C3010F9038C00FFF90393FFE00
03D97FF81300D9FFE0147F4849143F4849141F4890C8120F485A1707485A1703485AA200
7F1601A25B94C8FC12FFA90303B612C0A2127F7F92C7387FF000A2123FA26C7EA26C7EA2
6C7E6C7F6C7F6C6D14FFEB7FF8D93FFE130390390FFFE00F010390B512E301001580021F
9038FE0030020101F090C7FC3A357BB345>I<B612E0A4C6EBE000B3B3A7B612E0A41B33
7DB221>73 D<B612F8A4C601E0C8FCB3A81778A417F817F0A31601A21603A21607160F16
1F167F923803FFE0B8FCA42D337DB235>76 D<B712E016FEEEFFC017F0C6D9E00013FCEE
1FFEEE07FF707FA2707FA284A660A24C5B95C7FC4C5AEE1FFCEEFFF891B612C094C8FC83
DAE0037F03007FEE3FF083707EA2707EA583A4193CA2188082F0C07CB6D8E003147870EB
E1F070EBFFE0053F13C0CA000313803E347DB242>82 D<003FB812F8A4D9F003EB801FD8
7F80ED03FC01001501007E1600007C177CA20078173CA400F8173E48171EA4C71600B3A9
011FB612F0A437327DB13E>84 D<B600E090B512F8A4C601E0C8EAF800B3B0017F15016E
5DA2013F4B5A6E1407011F5E6D6C140F6D6CEC3F806D6C6C01FFC7FC6D9038F007FE6D6C
B512F8021F5C020714C09126007FFCC8FC3D347DB244>I E /Fe
7 111 df<124012F812FE6C7EEA3FE0EA0FF8EA03FEC66C7EEB3FE0EB0FF8EB03FE9038
00FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0FF8ED03FE923800FF80EE3FE0EE0F
F8EE03FE933800FF80EF3FC0A2EFFF80933803FE00EE0FF8EE3FE0EEFF80DB03FEC7FCED
0FF8ED3FE0EDFF80DA03FEC8FCEC0FF8EC3FE0ECFF80D903FEC9FCEB0FF8EB3FE0EBFF80
D803FECAFCEA0FF8EA3FE0EAFF8048CBFC12F81260323279AD41>62
D<1760177017F01601A21603A21607160FA24C7EA216331673166316C3A2ED0183A2ED03
03150683150C160115181530A21560A215C014011580DA03007FA202061300140E140C5C
021FB5FC5CA20260C7FC5C83495A8349C8FC1306A25BA25B13385B01F01680487E000716
FFB56C013F13FF5EA2383C7DBB3E>65 D<0103B7FC4916E018F8903B0007F80007FE4BEB
00FFF03F80020FED1FC0180F4B15E0F007F0021F1503A24B15F81801143F19FC5DA2147F
A292C8FCA25C18035CA2130119F84A1507A2130319F04A150FA2010717E0181F4A16C0A2
010FEE3F80A24AED7F00187E011F16FE4D5A4A5D4D5A013F4B5A4D5A4A4A5A057FC7FC01
7F15FEEE03FC91C7EA0FF049EC7FC0B8C8FC16FC16C03E397DB845>68
D<003FB56C48B51280485DA226007F80C7381FF00091C8EA07C0604993C7FCA2491506A2
0001160E170C5BA20003161C17185BA20007163817305BA2000F167017605BA2001F16E0
5F5BA2003F15015F5BA2007F150394C8FC90C8FCA25E4815065A160E160C161C16181638
5E127E5E4B5A6C4A5A4BC9FC6C6C131E6C6C5B6C6C13F83903F807E06CB55A6C6C48CAFC
EB0FF0393B7BB839>85 D<14E0EB03F8A21307A314F0EB01C090C7FCAB13F8EA03FEEA07
0F000E1380121C121812381230EA701F1260133F00E0130012C05BEA007EA213FE5B1201
A25B12035BA20007131813E01438000F133013C01470EB806014E014C01381EB83803807
8700EA03FEEA00F815397EB71D>105 D<150FED3F80A2157FA31600151C92C7FCABEC0F
80EC3FE0ECF0F0903801C0F849487E14005B130E130C131CEB1801133801305BA2EB0003
A25DA21407A25DA2140FA25DA2141FA25DA2143FA292C7FCA25CA2147EA214FEA25CA213
01001E5B123F387F83F0A238FF87E0495A00FE5BD87C1FC8FCEA707EEA3FF8EA0FC02149
81B722>I<D803E0137F3A07F801FFE03A0E3C0781F03A1C3E1E00F826383F387F00305B
4A137C00705B00605BA200E090C712FC485A137EA20000140101FE5C5BA2150300015D5B
15075E120349010F133016C0031F13700007ED80605B17E0EE00C0000F15014915801603
EE0700001FEC0F0E49EB07FC0007C7EA01F02C267EA432>110 D
E /Ff 47 122 df<9138FF807E01079038E1FF80903A1F807FC3C0D93E00EB87E049EBFF
074913FE485A00039138FC018049017CC7FCAAB712FCA22703E0007CC7FCB3A6486C13FE
3A7FFF0FFFF0A22B2F7FAE29>11 D<14FF010713E090381F80F090383E003849137C4913
FC485A1203491378153092C7FCA7157CB612FCA23803E000157CB3A5486C13FE3A7FFF0F
FFE0A2232F7FAE27>I<003C13F0387E01F838FF03FCA2EB83FEA2EA7F81383D80F60001
1306A30003130EEB000CA248131C00061318000E13384813704813E0387001C000601380
17157EAD23>34 D<13031307130E131C1338137013F0EA01E013C01203EA0780A2EA0F00
A2121EA35AA45AA512F8A25AAB7EA21278A57EA47EA37EA2EA0780A2EA03C0120113E0EA
00F013701338131C130E1307130310437AB11B>40 D<12C07E12707E7E7E120FEA078012
0313C0EA01E0A2EA00F0A21378A3133CA4131EA5131FA2130FAB131FA2131EA5133CA413
78A313F0A2EA01E0A2EA03C013801207EA0F00120E5A5A5A5A5A10437CB11B>I<123C12
7EB4FCA21380A2127F123D1201A312031300A25A1206120E5A5A5A126009157A8714>44
D<123C127E12FFA4127E123C08087A8714>46 D<130C133C137CEA03FC12FFEAFC7C1200
B3B113FE387FFFFEA2172C7AAB23>49 D<EB03F8EB0FFE90383E0780EBF8013901F007C0
3803E00FEA07C0EA0F80A2391F00078091C7FC123EA2127EA2127CEB0FC038FC3FF0EBF0
7C38FDC01EB4487E01001380EC07C04814E0A214034814F0A4127CA3127EA2003E14E014
07121E001F14C06CEB0F803907801F003803C03E6C6C5A38007FF0EB1FC01C2D7DAB23>
54 D<EB1FC0EBFFF03803E07C3807801E48487E001EEB0780A248EB03C0A4123E140700
3F1480381FC00F01E01300EBF81E6C6C5A3807FFF86C13E0C6FCEB3FF8EBFFFC3803C7FF
D807831380D81F0013C0001E133F48EB1FE0007C13070078EB03F012F84813011400A46C
14E000781301007C14C0003C13036CEB0780390F800F003807E03C3801FFF038003FC01C
2D7DAB23>56 D<4A7E4A7EA34A7EA24A7EA3EC1BF81419A2EC30FCA2EC70FEEC607EA24A
7EA349486C7EA2010380EC000FA201066D7EA3496D7EA2011FB57EA29038180001496D7E
A349147EA201E0147F4980A20001ED1F801203000716C0D80FF0EC3FE0D8FFFC0103B5FC
A2302F7EAE35>65 D<DA1FF013C09138FFFE01903903F00F8390390F8001E3013FC71277
017C143F4848141F4848140F48481407A248481403121F491401123F90C8FC481500A300
FE1600AB127F17C0A27E7F001F15016D1580120F6C6C1403EE07006C6C14066C6C140ED8
007C5C013F147890390F8001E0903903F00FC0902600FFFEC7FCEC1FF02A2F7CAD33>67
D<B712FCA23903F800030001EC007C163E161E160EA21606A3160716031518A21600A315
38157815F890B5FCA2EBF800157815381518A592C7FCAB487EB512F8A2282D7EAC2E>70
D<DA1FF013C09138FFFE01903903F00F8390390F8001E3013FC71277017C143F4848141F
4848140F48481407A248481403121F491401123F90C8FC481500A300FE1600A992381FFF
FEA2007F9138001FE0EE0FC0A27E7F121F7F120F6C7EA26C7E6C6C141FEA007C013F143F
D90F8013F3903903F007C10100B51200DA1FF813002F2F7CAD37>I<B539F03FFFFCA2D8
03FCC713006C48147EB290B612FEA201F8C7127EB3486C14FFB5D8F03F13FCA22E2D7DAC
35>I<D8FFF8903803FFFC7F00019138003FC06DEC0F006D1406EBBF80A2EB9FC0EB8FE0
138780EB83F8138180EB80FE147E147FEC3F80EC1FC0140F15E0EC07F0140315F8EC01FC
140015FE157FED3F86151F16C6ED0FE6150716F6ED03FE1501A21500167E163EA2486C14
1ED80FF0140EB5FC16062E2D7DAC35>78 D<90383F80303901FFF0703807C07C390F000E
F0001E13074813034813011400127000F01470A315307EA26C1400127E127FEA3FE013FE
381FFFE06C13FC6C13FF00011480D8003F13E013039038003FF0EC07F81401140015FC15
7C12C0153CA37EA215787E6C14706C14F06CEB01E039F78003C039E3F00F0038E07FFE38
C00FF01E2F7CAD27>83 D<007FB712F8A29039000FC003007C150000701638A200601618
A200E0161CA248160CA5C71500B3A94A7E011FB512E0A22E2D7EAC33>I<B539F003FFFC
A2D803FCC7EA3FC06C48EC0F001606B3AB160E0000150C7F161C017C1418017E14386D5C
6D146090390F8001E0903907E00380902601F80FC7FC9038007FFCEC0FF02E2E7DAC35>
I<EAFFE0A3EAE000B3B3B3A7EAFFE0A30B4379B114>91 D<0003130C48131C000E133848
13704813E0003013C0EA700100601380A2EAE00300C01300A300DE137800FF13FCEB83FE
A2EA7F81A2383F00FC001E1378171577AD23>I<EAFFE0A31200B3B3B3A712FFA30B437F
B114>I<13FF000713C0380F01F0381C00F8003F137C80A2143F001E7FC7FCA4EB07FF13
7F3801FE1FEA07F0EA1FC0EA3F80EA7F00127E00FE14065AA3143F7E007E137F007FEBEF
8C391F83C7FC390FFF03F83901FC01E01F207D9E23>97 D<EA07C012FFA2120F1207AC14
FE9038C7FF809038CF03E09038DC01F09038F8007C49137E49133E497F1680A2150F16C0
A9ED1F80A216005D6D133E6D5B01B05B9038BC01F090380E07E0390607FF80260001FCC7
FC222F7EAD27>I<EB1FE0EB7FFC3801F01E3803E0073907C01F80EA0F80EA1F005A003E
EB0F00007E90C7FCA2127C12FCA9127EA215C07E6C130101801380380FC0033907E00700
3801F03E38007FF8EB1FC01A207E9E1F>I<15F8141FA214011400ACEB0FE0EB7FF83801
F81E3803E0073807C003380F8001EA1F00481300123E127EA25AA9127C127EA2003E1301
7EEB8003000F13073903E00EFC3A01F03CFFC038007FF090391FC0F800222F7EAD27>I<
EB1F80EBFFF03803E0783807C03E380F801E381F001FEC0F80123E007E130715C0127C12
FCA3B6FCA200FCC8FCA5127EA2003E14C0123F6C1301390F80038001C013003803E00F38
01F03C38007FF8EB1FC01A207E9E1F>I<EB03F0EB0FFCEB3E1EEB7C3F13F8EA01F0A238
03E00C1400AAB512E0A23803E000B3A6487E387FFF80A2182F7FAE16>I<013F13F89038
FFC3FE3903E1FF1E3807807C000F140C391F003E00A2003E7FA76C133EA26C6C5A000713
78380FE1F0380CFFC0D81C3FC7FC90C8FCA3121E121F380FFFF814FF6C14C04814F0391E
0007F848130048147C12F848143CA46C147C007C14F86CEB01F06CEB03E03907E01F8039
01FFFE0038003FF01F2D7E9D23>I<EA07C012FFA2120F1207AC14FE9038C3FF809038C7
03E09038DE01F013F8496C7EA25BA25BB2486C487E3AFFFE1FFFC0A2222E7EAD27>I<EA
0780EA0FC0EA1FE0A4EA0FC0EA0780C7FCA8EA07C012FFA2120F1207B3A5EA0FE0EAFFFC
A20E2E7EAD14>I<130FEB1F80EB3FC0A4EB1F80EB0F0090C7FCA8EB07C013FFA2130F13
07B3AD1230127838FC0F80A21400485AEA783EEA3FF8EA07E0123C83AD16>I<EA07C012
FFA2120F1207ADEC1FFEA2EC0FF0EC07C05D020EC7FC5C5C5C5CEBC3C013C7EBCFE0EBDF
F013F9EBF0F8497EEBC07E143E80816E7E14076E7E816E7E486C487E3AFFFE07FF80A221
2E7EAD25>I<EA07C012FFA2120F1207B3B3A3EA0FE0EAFFFEA20F2E7EAD14>I<2607C07F
EB07F03BFFC3FFC03FFC903AC783F0783F3C0FCE01F8E01F803B07DC00F9C00F01F8D9FF
8013C04990387F000749137EA249137CB2486C01FEEB0FE03CFFFE0FFFE0FFFEA2371E7E
9D3C>I<3807C0FE39FFC3FF809038C703E0390FDE01F0EA07F8496C7EA25BA25BB2486C
487E3AFFFE1FFFC0A2221E7E9D27>I<EB1FE0EB7FF83801F03E3803C00F390780078039
0F0003C04814E0003EEB01F0A248EB00F8A300FC14FCA9007C14F8A26CEB01F0A26CEB03
E0A2390F8007C03907C00F803901F03E0038007FF8EB1FE01E207E9E23>I<3807C0FE39
FFC7FF809038CF03E0390FDC01F03907F800FC49137E49133E49133FED1F80A3ED0FC0A8
151F1680A2ED3F00A26D137E6D137C5D9038FC01F09038CE07E09038C7FF80D9C1FCC7FC
01C0C8FCA9487EEAFFFEA2222B7E9D27>I<90380FE01890387FF8383801F81C3903E00E
783807C007390F8003F8001F1301EA3F00A2007E1300A212FE5AA8127EA36C13017EEB80
03380FC0073803E00E3801F03C38007FF0EB1FC090C7FCA94A7E91381FFFC0A2222B7E9D
25>I<380781F838FF87FEEB8E3FEA0F9CEA07B813B0EBF01EEBE000A45BB0487EB5FCA2
181E7E9D1C>I<3801FE183807FFB8381E01F8EA3C00481378481338A21418A27E7EB413
00EA7FF06CB4FC6C13C06C13F0000113F838001FFC130138C0007E143EA26C131EA27EA2
6C133CA26C137838FF01F038E3FFC000C0130017207E9E1C>I<1360A413E0A312011203
A21207121FB512F0A23803E000AF1418A714383801F03014703800F860EB3FE0EB0F8015
2A7FA81B>I<D807C013F800FF131FA2000F130100071300B21401A314033803E007EC0E
FC3A01F81CFFC038007FF890391FE0F800221F7E9D27>I<3AFFFC01FFC0A23A0FE0007E
000007147C15380003143015706C6C1360A26C6C5BA390387C0180A26D48C7FCA2EB3F07
EB1F06A2EB0F8CA214DCEB07D8A2EB03F0A36D5AA26D5A221E7F9C25>I<3BFFFC3FFE07
FFA23B0FE003F001F801C09038E000F00007010114E0812603E00314C0A2913807F80127
01F006781380A29039F80E7C030000D90C3C1300A290397C181E06A2151F6D486C5AA216
8C90391F600798A216D890390FC003F0A36D486C5AA36DC75A301E7F9C33>I<3AFFFC07
FF80A23A0FF003FC000003EB01F0000114C06D485A000091C7FCEB7C06EB3E0E6D5A14B8
EB0FB0EB07E013036D7E497E1307EB067C497EEB1C1F01387FEB700F496C7E6E7ED803C0
7F00076D7E391FE003FC3AFFF007FFC0A2221D7F9C25>I<3AFFFC01FFC0A23A0FE0007E
000007147C1538000314306D137000011460A26C6C5BA2EBFC01017C5BEB7E03013E90C7
FCA2EB1F06A2148EEB0F8CA2EB07D8A2EB03F0A36D5AA26D5AA2495AA2130391C8FC1278
EAFC06A25B131CEA7838EA7070EA3FE0EA0F80222B7F9C25>I E
/Fg 1 50 df<13E01201120712FF12F91201B3A7487EB512C0A212217AA01E>49
D E /Fh 2 111 df<130E131F5BA2133E131C90C7FCA7EA03E0487EEA0C78EA187C1230
A212605B12C0A2EA01F0A3485AA2485AA2EBC180EA0F81A2381F0300A213066C5A131CEA
07F06C5A11287DA617>105 D<3907801FC0390FE07FF03918F0E0F83930F1807CEBFB00
D860FE133C5B5B00C1147C5B1201A248485BA34A5AEA07C01660EC03E0A23A0F8007C0C0
A2EDC180913803C300D81F0013C7EC01FE000EEB00F8231B7D9929>110
D E /Fi 1 50 df<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521
>49 D E /Fj 41 123 df<007FB5FCB6FCA214FEA21805789723>45
D<120FEA3FC0127FA212FFA31380EA7F00123C0A0A76891E>I<16C01501A215031507ED
0F80151F153F157F913801FF005C140F147F903807FCFEEB0FF0EB0700EB00015DA31403
5DA314075DA3140F5DA3141F5DA3143F5DA3147F92C7FCA35C5CA313015CA313035CA313
075CA2130FA2131F133FB612FCA25D224276C132>49 D<ED3FC0913801FFF0913807C07C
4AC67E021CEB1F800278130F4AEB07C0494814E04A1303494814F0130749C7FCEB0E06D9
1E0714F8EB1C03133C1338137813704A1307D9F00614F013E0140E020C130F0001011C14
E0EBC0180238131F4A14C06C6C48EB3F80D9E1C0137FD97F801400013EC712FE90C7485A
4B5A4B5A4B5AED1F804BC7FC15FC4A5AEC03E0EC0FC0023FC8FC147CEB01F0495AEB0780
011FC9FC133E49EC03805B49140748481500485A48485C90C8121E5A001E5D001C157CD8
3FFC5C9038FFC0013A7C0FFC07F0D87803B55AEA700126F0007F5B486D90C7FCEC0FFEEC
03F82D4478C132>I<ED1FE0EDFFFC913803E03F91390F000F80023EEB07C00278EB03E0
5C4948EB01F0495A495A91C713F85BEB0E0CEB1E0EEB1C061603013C15F01338A2020E13
07020C14E0141CD91C78EB0FC0D90FE0131F6D48148090C8EA3F00167E5E4B5A4B5AED0F
E091383FFF804A48C7FC15F8EC007E151F6F7E6F7E82150382A482A34B5A121FEA7F80A2
150F48C75BA2484A5A12F800E04A5AA24BC7FC007014FE5D0078495A0038495A003CEB0F
C06C495A260780FEC8FC3803FFF038007F802D4477C132>I<EE0380EE0FC0A2161F1780
A3163F1700A3167EA35EA34B5AA34B5AA25E1507A24B5AA24B5AA293C7FC5D153E157E15
7C15FC5D4A5AA24A5A14075D4A5A16E091381F01F0EC3E03143C147CECF807D901F05B14
E01303903807C00FD90F805BEB1F00131E49131F495C5B485A3903FFC03F000F01F890C7
FC4813FF397E003FFF007801071480480101EBFFC000606D7EC8EBFE0003FEC7FC5DA314
015DA314035DA314075DA4EC03802A557DC132>I<026014300278EB01F091397F801FE0
91B612C01780170016FC4914F016C0DACFFEC7FC02C0C8FC13035CA3130791C9FCA35B13
0EA3131E90381C07F8EC3FFE9138F80F8090393DC007C0D93F807F90383E0003013C8049
6D7E1370A290C7FC82A41503A415075E120E123F486C130F00FF5DA390C7485A5A00F84A
5A12E04B5A93C7FC15FE14016C5C0070495A0078495A6CEB1FC0003E495A261F80FEC8FC
6CB45A000313E0C66CC9FC2C4476C132>I<ED03FCED1FFF037F13C0913801FE07913903
F001E091380FE00091381F800391383F000F027E131F5C495A495A010715C04948EB0700
4A90C7FC131F495AA249C9FCA213FE1201A2485AEC07F09038F83FFC0007EBF81F9039F9
C00F803A0FFB8007C0EBF70001FE80491303001F815B5B82485AA3491307127F5BA2150F
5E90C7FCA2151F485DA25A4B5AA2007E5D157F93C7FC5D5D4A5A003E495A003F5C4A5A6C
6C485A000FEB3F80D9C0FEC8FC3803FFFC6C13F038007F802B4475C132>I<9026380FC0
131C9038787FE0902671FFF0133C01F3157801EF15F090B5FC4801E0EB01E09139007003
C04848EB380701F8EC1F804848EB1C3F4990381FFF004848EB07DF49EB001E48C85A121E
5E4815F800385D0078140100705D00F01403485D1507C8485AA24BC7FCA25D153E157E15
7C15FC5D1401A24A5AA214075D140F5D141FA25D143FA24AC8FCA314FEA21301A25C1303
A25C1307A35C130FA35C5C6D5A2E4472C132>I<ED1FE0EDFFFC020313FF913907E03F80
91391F800FC091393E0007E04A13034A14F049481301495AA2495AA2495AA21603011F15
E0A216076E14C0EE0F806E131F6EEB3F006E133E6D6C5B02FF13F0ED83E06DEBC7C06D01
FFC7FC6D13FC6D5B6E7E6E7E91B57ED901EF7FD907837FEB1F01D93E007F496D7E49133F
4848131F4848130F48486D7E48481303001F140190C7FC5A003E1400007E5D127CA21501
00FC5D5A4B5AA24B5A127C4B5A4BC7FC6C143E003F5C6C495A390FC003F03907F01FC06C
B5C8FCC613FCEB1FE02C4477C132>I<91B712FCF0FF8019E00201903980001FF06E90C7
EA07F84A6F7E727E4B81841A800203167F5DA314075D19FFA2020F17004B5C611803021F
5E4B4A5A180F4E5A023F4B5A4BEC7F804EC7FCEF03FC027FEC0FF84BEBFFC092B6C8FC18
E0913AFF800007F892C7EA01FC717E187F49834A6F7EA30103835CA313075CA3010F5F4A
157FA24E5A131F4A4A90C7FC601703013F4B5A4A4A5A4D5A017F4B5A4D5A4A4948C8FC01
FFEC0FFEB812F817C04CC9FC41447AC345>66 D<91B712F818FF19C00201903980003FF0
6E90C7EA0FF84AED03FCF000FE4B157FA2F13F800203EE1FC05DF10FE0A214074B16F019
07A2140F5D1AF8A2141F5DA2190F143F5D1AF0A2147F4B151FA302FF17E092C9123FA349
18C04A167F1A80A2010317FF4A1700A24E5A13074A4B5A611807010F5F4A4B5A181F6101
1F4C5A4A4BC7FC18FE4D5A013F4B5A4A4A5A4D5A017FED3FC005FFC8FC4AEB03FE01FFEC
1FF8B812E094C9FC16F845447AC34A>68 D<91B6D8803FB512E0A302010180C7387FE000
6E90C86C5A4A167FA24B5EA219FF14034B93C7FCA26014074B5DA21803140F4B5DA21807
141F4B5DA2180F143F4B5DA2181F147F92B75AA3DAFF80C7123F92C85BA2187F5B4A5EA2
18FF13034A93C8FCA25F13074A5DA21703130F4A5DA21707131F4A5DA2170F133F4A5DA2
017F151FA24A5D496C4A7EB6D8803FB512E0A34B447AC348>72 D<027FB512E091B6FCA2
0200EBE000ED7F8015FFA293C7FCA35C5DA314035DA314075DA3140F5DA3141F5DA3143F
5DA3147F5DA314FF92C8FCA35B5CA313035CA313075CA3130F5CA3131F5CA2133FA25CEB
FFE0B612E0A25D2B447BC326>I<91B56C93387FFFC08298B5FC02014DEBC0006E614A5F
A203DF4C6CC7FC1A0E63912603CFE05D038F5F1A381A711407030FEEE1FCA2F101C3020F
EE0383020E60F107036F6C1507021E160E021C60191CF1380F143C023804705BA2F1E01F
0278ED01C091267003F85EF003801A3F02F0ED070002E0030E5CA24E137F130102C04B91
C8FC606201036D6C5B02805F4D5A943803800113070200DA07005BA2050E1303495D010E
606F6C5A1907011E5D011C4B5CA27048130F133C01384B5C017892C7FC191F01F85C486C
027E5DD807FE027C4A7EB500F00178013FB512C0A216705A447AC357>77
D<91B712F018FEF0FF800201903980007FE06E90C7EA1FF04AED07F818034B15FCF001FE
1403A24B15FFA21407A25DA2140FF003FE5DA2021F16FC18074B15F8180F023F16F0F01F
E04B15C0F03F80027FED7F0018FE4BEB03FCEF0FF002FFEC7FC092B6C7FC17F892CAFC5B
A25CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133FA25CA2137FA25C497EB67E
A340447AC342>80 D<91B77E18F818FE020190398001FF806E90C7EA3FC04AED1FE0F00F
F04BEC07F8180319FC14034B15FEA314075DA3020FED07FC5DA2F00FF8141F4B15F0F01F
E0F03FC0023F16804BEC7F0018FEEF03F8027F4A5A4BEB1FC04CB4C7FC92B512F891B612
E092380003F8EE00FE177F496F7E4A6E7EA28413034A140FA2171F13075CA2173F130F5C
A24D5A131F5CA3013F170E5CA2017FEE801E191C4A163C496C1638B66C90383FC070051F
13F094380FE1E0CA3803FF80943800FE003F467AC347>82 D<DB03FE130C92390FFF801C
037FEBE03C9238FE03F8913A03F0007C7C4A48EB3EF84A48131F4A48130F4AC7FC027EEC
07F05C1703495A18E0495AA213074A15C0A3130F1880A28094C7FCA280806D7EECFFE015
FC6DEBFF806D14F016FC6D14FF023F80020F801403DA003F7F150703007F163F161F160F
A21607A3120716031607A2485EA2120E160F001E5EA2001F4B5AA2484BC7FC6D143E167E
6D5C007F4A5A6D495AD87CF0495AD8787CEB1F8027F03F807FC8FC90381FFFFCD8E00713
F039C0007F80364879C537>I<48B912F85AA2913B0007FC001FF0D807F84A130701E001
0F140349160148485C90C71500A2001E021F15E05E121C123C0038143F4C1301007818C0
127000F0147F485DA3C800FF91C7FC93C9FCA35C5DA314035DA314075DA3140F5DA3141F
5DA3143F5DA3147F5DA314FF92CAFCA35B5CA21303A21307497E007FB612C0A25E3D446F
C346>I<EC1F80EC7FE0903901F07070903907C039F890380F801D90381F001F013E6D5A
137E5B484813075E485A120749130F000F5DA2485A151F003F5D5BA2153F007F92C7FC90
C7FCA25D157E12FEA29238FE0380EDFC071700A2007E13015E913803F80E1407003E010F
131E161C6C131C02385B3A0F80F078783A07C3E07C703A01FF801FE03A007E000780292D
76AB32>97 D<EC0FE0EC7FF8903801F81E903807E00F90390F80078090381F0003017E14
C049131F0001143F5B4848EB7F801207485AED3E00484890C7FCA2485AA2127F90C9FCA3
5A5AA45AA5ED0180ED03C0ED0780A2007CEC0F00007E141E003E147C15F06CEB03E0390F
800F802607C07EC7FC3801FFF838007FC0222D75AB2D>99 D<EE07F0ED03FFA39238000F
E01607160FA217C0A2161FA21780A2163FA21700A25EA2167EA216FEA25EEC1F80EC7FE1
903801F071903907C039F890380F801D90381F001F013E130F017E5C5B48481307A24848
5C120749130F120F5E485A151F123F495CA2153F127F90C790C7FCA25DA200FE147EA292
38FE0380160703FC1300A2007E13015E913803F80E1407003E010F131E161C6C131C0238
5B3A0F80F078783A07C3E07C703A01FF801FE03A007E0007802C4676C432>I<EC0FE0EC
7FF8903801F83E903807C00F90391F800780EB3F00017E14C0491303485A484813070007
15805B000F140F484814005D4848133E15FCEC07F0007FEBFFC0D9FFFEC7FC14C090C9FC
5A5AA55AA4ED0180ED03C0007CEC0780A2007EEC0F00003E141E157C6C14F06CEB03E039
07800F802603C07EC7FC3801FFF838003FC0222D75AB2D>I<EE0F80EE3FE0EEF8709238
01F038923803E0F8923807E1FC16C3ED0FC7A2EE87F892381F83F0EE81E0EE8000153F93
C7FCA45D157EA415FE5DA349B512FEA390260001F8C7FCA314035DA414075DA4140F5DA4
141F5DA4143F92C8FCA55C147EA314FE5CA413015CA4495AA35C1307121C007F5B12FF49
5AA291C9FC485AEAF81E485AEA7878EA1FF0EA07C02E5A83C51E>I<15FCEC03FF91390F
83838091393E01CFC091387C00EF4A13FF4948137F010315804948133F495A131F4A1400
133F91C75A5B167E13FE16FE1201495CA215011203495CA21503A2495CA21507A25EA215
0F151F5E0001143F157F6C6C13FF913801DF8090387C039F90383E0F3FEB0FFCD903F090
C7FC90C7FC5DA2157EA215FEA25DA2001C495A127F48495A14074A5A485C023FC8FC00F8
137E387C01F8381FFFE0000390C9FC2A407BAB2D>I<14FE137FA3EB01FC13001301A25C
A21303A25CA21307A25CA2130FA25CA2131FA25C157F90393F83FFC091388F81F091381E
00F802387F4948137C5C4A137EA2495A91C7FCA25B484814FE5E5BA2000314015E5BA200
0714035E5B1507000F5DA249130F5E001F1678031F1370491480A2003F023F13F0EE00E0
90C7FC160148023E13C01603007E1680EE070000FEEC1E0FED1F1E48EC0FF80038EC03E0
2D467AC432>I<143C147E14FE1301A3EB00FC14701400AE137C48B4FC3803C780380703
C0000F13E0120E121C13071238A21278EA700F14C0131F00F0138012E0EA003F1400A25B
137EA213FE5B12015BA212035B141E0007131C13E0A2000F133CEBC038A21478EB807014
F014E0EB81C0EA0783EBC7803803FE00EA00F8174378C11E>I<14FE137FA3EB01FC1300
1301A25CA21303A25CA21307A25CA2130FA25CA2131FA25C167E013F49B4FC92380783C0
9138000E07ED3C1F491370ED603F017E13E0EC01C09026FE03801380913907000E00D9FC
0E90C7FC5C00015B5C495AEBF9C03803FB8001FFC9FCA214F03807F3FCEBF07F9038E01F
C06E7E000F130781EBC003A2001F150FA20180140EA2003F151E161C010013E0A2485DA2
007E1578167000FE01015B15F1489038007F800038021FC7FC2A467AC42D>107
D<EB03F8EA01FFA3380007F013031307A214E0A2130FA214C0A2131FA21480A2133FA214
00A25BA2137EA213FEA25BA21201A25BA21203A25BA21207A25BA2120FA25BA2121FA25B
A2123FA290C7FCA2387F01C01303007E1380A2130700FE130012FCA25B130EEA7C1E131C
EA3C3CEA3E786C5AEA07C0154678C419>I<D801F0D90FE0EB07F0D803FCD97FF8EB3FFC
28071E01F03EEBF81F3E0E1F03C01F01E00F80271E0F8700D983807F001C018E90390F87
0007003C019C148E003801B802DC8002F814FC26781FF05C0070495CA24A5C00F0494948
130FD8E03F6091C75B1200043F141F4960017E92C7FCA24C143F01FE95C7FC49147E6104
FE147E1201494A14FE610301EE0780000305011400494A14F8A2030302035B0007F0F00E
495C1A1E0307EDE01C000F193C494A153862030F020113F0001FF0F1E0494A903800FF80
0007C7D80380023EC7FC492D78AB50>I<D801F0EB0FE0D803FCEB7FF83A071E01F03E3A
0E0F03C01F001ED987001380001C018E130F003C139C003801B814C014F838781FF00070
5BA25C00F049131FD8E03F158091C7FC1200163F491500137EA25E01FE147E5B16FE5E12
014913015E170F00030203130E4914F0A20307131E0007EDE01C5B173CEEC038000F1678
49157017E0ED03C1001FEDE3C049903801FF000007C8127C302D78AB37>I<EC0FE0EC7F
FC903801F83E903907E00F8090390F8007C0EB1F00017EEB03E04914F0A2484813014848
14F81207485AA2485AA2485A1503127F90C7FCA215074815F05AA2150F16E05AED1FC0A2
1680153F16005D157E5D007C495A007E495A003E5C4A5A6CEB1F80260F803EC7FC3807C0
FC3801FFF038003F80252D75AB32>I<D903E0137E903A07F801FF80903A0E3C0783E090
3A1C1E0F01F0903A3C1F1C00F801385B017849137C01705BA24A48137E01E05BA292C7FC
00015B13C0147EC7FC02FE14FEA25CA20101140117FC5CA20103140317F85CA20107EC07
F0A24AEB0FE0A2010F15C0EE1F80163F1700496C137E5E4B5A9138B803F090393F9C07E0
91389E0F80DA07FEC7FCEC01F849C9FCA2137EA213FEA25BA21201A25BA21203A21207B5
12F0A25C2F3F7FAB32>I<D801F0EB3F803A03FC01FFF03A071E03C0F83A0E0F0F007C00
1E90389E01FC001C139CECB803003813F0A2D91FE013F80078EC00E00070491300A200F0
5BEAE03F91C8FC1200A25B137EA313FE5BA312015BA312035BA312075BA3120F5BA3121F
5B0007C9FC262D78AB29>114 D<EC0FE0EC7FF8903801F01E903803C00F903907800780
90380F0003011E14C0150749131FA2017CEB3F801378137CED0E0092C7FC137E137F14F0
14FF6D13C06D13F06D7F6D7F1300EC0FFE14011400157F81120E003F141E487EA2153E48
C7123CA200FC5C12705D0078495A6C495A6CEB0F80260F803EC7FC3803FFF838007FC022
2D7AAB28>I<1470EB01F8A313035CA313075CA3130F5CA3131F5CA2007FB512E0B6FC15
C0D8003FC7FCA25B137EA313FE5BA312015BA312035BA312075BA3120F5BA2EC0780001F
140013805C140E003F131EEB001C143C14385C6C13F0495A6C485AEB8780D807FEC7FCEA
01F81B3F78BD20>I<137C48B414072603C780EB1F80380703C0000F7F000E153F121C01
07150012385E1278D8700F147E5C011F14FE00F05B00E05DEA003FEC0001A2495C137E15
0313FE495CA215071201495CA2030F13380003167849ECC070A3031F13F0EE80E0153F00
011581037F13C06DEBEF8300000101148090397C03C787903A3E0F07C70090391FFE01FE
903903F000782D2D78AB34>I<017C143848B414FC3A03C78001FE380703C0000F13E012
0E001C14000107147E1238163E1278D8700F141E5C131F00F049131C12E0EA003F91C712
3C16385B137E167801FE14705BA216F0000115E05B150116C0A24848EB0380A2ED0700A2
150E12015D6D5B000014786D5B90387C01E090383F0780D90FFFC7FCEB03F8272D78AB2D
>I<02F8133FD907FEEBFFE0903A0F0F83C0F0903A1C07C780F890393803CF03017013EE
01E0EBFC07120101C013F8000316F00180EC01C000074AC7FC13001407485C120EC7FC14
0F5DA3141F5DA3143F92C8FCA34AEB03C01780147EA202FEEB0700121E003F5D267F81FC
130E6E5BD8FF83143CD903BE5B26FE079E5B3A7C0F1F01E03A3C1E0F83C0271FF803FFC7
FC3907E000FC2D2D7CAB2D>120 D<137C48B414072603C780EB1F80380703C0000F7F00
0E153F001C1600130712385E0078157EEA700F5C011F14FE00F0495B12E0EA003FEC0001
5E5B137E150301FE5C5BA2150700015D5BA2150F00035D5BA2151F5EA2153F12014BC7FC
6D5B00005BEB7C0390383E0F7EEB1FFEEB03F090C712FE5DA214015D121F397F8003F0A2
4A5A4848485A5D48131F00F049C8FC0070137E007813F8383801F0381E07C06CB4C9FCEA
01FC294078AB2F>I<027C130749B4130F49EB800E010F141E49EBC03CEDE03890393F03
F07890397C00FDF00178EB3FE00170EB03C001F0148049130790C7EA0F00151E5D5D5D4A
5A4A5A4A5A4AC7FC141E5C5C5C495A495A495A49C8FC011E14F04914E05B491301485A48
48EB03C0D807B0130701FEEB0F80390FCF801F3A1F07E07F00393E03FFFED83C015B486C
5B00705C00F0EB7FC048011FC7FC282D7BAB28>I E /Fk 76 125
df<121C127FEAFF80B1EA7F00AF123EC7FCA8121C127FA2EAFF80A3EA7F00A2121C0934
6FB32C>33 D<003C131E007F137F481480A66C1400A6007E7FA6003E133EA3003C131E00
1C131C191977B32C>I<010F133C90381F807EA8013F13FE4A5AA4007FB612F0B712F8A4
003F15F03A007E01F800A5EBFE0301FC5BA6003FB612F0B712F8A46C15F03A01F807E000
A30003130F01F05BA86C486C5A25337DB22C>I<EB0FC0EB3FE0497E497E80EA01F8EBF0
7C147E0003133E13E0A5147E147C9138FC3FF89039F0F87FFCEA01F1EBF3F001F7EB3FF8
9138E01F009038FFC03F6CEB803EA2EC007E49137C485A486C13FC00075CEBFF01D80FDF
5B381F9F81383F8F8390380FC3E0387E07E75D38FC03F7EB01FF5D6D1410ED007C80A26C
EBFF80D87E0113C0D87F03EBE0FC3A3F87F7F1F89038FFE3FF6C01C113F06C13806C9038
007FC0D801FCEB1F8026357EB32C>38 D<143814FC13011303EB07F8EB0FF0EB1FC0EB3F
80EB7F0013FE485A485A5B12075B120F5B485AA2123F90C7FCA25A127EA312FE5AAC7E12
7EA3127F7EA27F121FA26C7E7F12077F12037F6C7E6C7E137FEB3F80EB1FC0EB0FF0EB07
F8EB03FC130113001438164272B92C>40 D<127012FC7E7E6C7E6C7EEA0FE06C7E6C7E6C
7E6C7E137F7F1480131F14C0130FEB07E0A214F01303A214F81301A314FC1300AC130114
F8A3130314F0A2130714E0A2EB0FC0131F1480133F14005B13FE485A485A485A485AEA3F
C0485A48C7FC5A5A1270164279B92C>I<EB0380497EA60020140800F8143E00FE14FE00
FF13C1EBC7C7EBE7CF003FB512F8000F14E0000314806C140038007FFCA248B5FC481480
000F14E0003F14F839FFE7CFFEEBC7C7EB07C100FE13C000F8143E0020140800001400A6
6D5A1F247AAA2C>I<147814FCAF007FB612F0B712F8A46C15F0C700FCC7FCAF14782526
7DAB2C>I<EA0F80EA1FE0EA3FF0EA7FF8A213FCA3123F121F120F120013F8A21201EA03
F01207EA1FE0EA7FC0EAFF80130012FC12700E17718A2C>I<007FB6FCB71280A46C1500
21067B9B2C>I<121FEA3F80EA7FC0EAFFE0A5EA7FC0EA3F80EA1F000B0B708A2C>I<1507
ED0F80151FA2153F16005D157E15FE5D14015D14035DA214075D140F5D141F5D143F92C7
FC5C147E14FE5CA213015C13035C13075C130F5C131F5CA2133F91C8FC5B137E13FE5B12
015B12035B12075BA2120F5B121F5B123F90C9FC5A127E12FE5AA25A127821417BB92C>
I<EB03F8EB0FFE90383FFF80497F90B57E3901FE0FF03903F803F848486C7EEBE0004848
137EA248487FA248C7EA1F80A2003E140F007E15C0A3007C140700FC15E0AC6C140F007E
15C0A46CEC1F80A36C6CEB3F00A26C6C137E6D13FE00075CEBF0016C6C485A3901FE0FF0
6CB55A6D5B6D5BD90FFEC7FCEB03F823357CB32C>I<1307497EA2131FA2133F137F13FF
5A1207127FB5FC13DF139FEA7C1F1200B3AE007FB512E0B612F0A36C14E01C3477B32C>
I<EB0FF890387FFF8048B512E00007804814FC391FF80FFE393FE001FF903880007F48C7
EA3F80007E141F00FE15C0150F6C15E01507A3127E123CC8FCA2150F16C0151F1680153F
16005D15FE4A5A14034A5A4A5A4A5A4A5AECFF804948C7FC495A495A495AEB3FE0EB7F80
49C8FC485A4848EB03C04848EB07E0EA1FE0485A48B6FCB7FCA36C15C023347CB32C>I<
EB0FFC90387FFF8048B512E0000714F84880391FF807FEEBC0004848137F6D7F1680151F
A26C5A6CC7FCC8FC153F16005D15FE14014A5AEC1FF890381FFFF0495BA215F86D7F9038
0007FEEC00FF81ED3F80ED1FC0150FA216E01507A2123C127EB4FC150F16C0A248141F00
7FEC3F806DEB7F006C6C5B391FF807FE6CB55A6C5C6C14E0C66C1380D90FFCC7FC23357C
B32C>I<EC07F04A7E141F143FA2147EA214FCEB01F8A2EB03F0EB07E0A2EB0FC0EB1F80
A2EB3F00137EA25B485AA2485A5B1207485AA2485A48C7FCA2127E5AB712FC16FEA36C15
FCC8EAF800AA91387FFFF091B512F8A36E13F027347EB32C>I<000FB512FE4880A35D01
80C8FCADEB83FE90389FFF8090B512E015F8819038FE03FE9038F000FF01C07F49EB3F80
90C7121F6C15C0C8120FA2ED07E0A4123C127EB4FC150F16C0A248141F007EEC3F80007F
EC7F006C6C5B6D485A391FF80FFC6CB55A6C5C000114C06C6C90C7FCEB0FF823347CB22C
>I<121FEA3F80EA7FC0EAFFE0A5EA7FC0EA3F80EA1F00C7FCAE121FEA3F80EA7FC0EAFF
E0A5EA7FC0EA3F80EA1F000B2470A32C>58 D<EA0F80EA1FC0EA3FE0EA7FF0A5EA3FE0EA
1FC0EA0F80C7FCAEEA0F80EA1FC0EA3FE0127F13F0A4123F121F120F1201120313E01207
EA0FC0A2EA3F80EA7F005A5A12F812700C3071A32C>I<1507ED1F80153F15FF14034A13
00EC1FFC4A5AECFFE0491380010790C7FCEB0FFCEB3FF8EB7FE048485A4890C8FCEA0FFE
EA1FF8EA7FF0EAFFC05BA27FEA7FF0EA1FF8EA0FFEEA03FF6C13C06C6C7EEB3FF8EB0FFC
6DB4FC01017F6D13E0EC3FF86E7EEC07FF6E13801400153F151FED0700212A7BAD2C>I<
003FB612E04815F0B712F8A36C15F0CAFCA8007FB612F0B712F8A36C15F06C15E025147D
A22C>I<127012FC7E6C7E13E06C7EEA1FFC6C7E3803FF80C67FEB7FF0EB1FF8EB0FFEEB
03FF6D13C06D6C7EEC3FF8EC0FFC6EB4FC0201138080A25C02071300EC0FFCEC3FF8EC7F
E049485A4990C7FCEB0FFEEB1FF8EB7FF0EBFFC000035BD80FFEC8FC485AEA7FF0485A13
8048C9FC5A1270212A7BAD2C>I<14FE497EA4497FA214EFA2130781A214C7A2010F7FA3
14C390381F83F0A590383F01F8A490387E00FCA549137E90B512FEA34880A29038F8003F
A34848EB1F80A4000715C049130FD87FFEEBFFFC6D5AB514FE6C15FC497E27347EB32C>
65 D<007FB512E015F8B612FE6C8016C03903F0003FED0FE0ED07F01503A2ED01F8A6ED
03F0A21507ED0FE0ED1FC0EDFF8090B612005D5D15FF16C09039F0001FE0ED07F0ED03F8
1501ED00FCA216FE167EA616FE16FC1501ED03F8150FED3FF0007FB612E016C0B712806C
ECFE0015F027337FB22C>I<02FF13700107EBE0F84913F9013F13FD4913FFEBFF813901
FE007F4848131FD807F0130F1507485A491303485A150148C7FCA25A007EEC00F01600A2
12FE5AAB7E127EA3007F15F06CEC01F8A26C7EA26C6C13036D14F06C6C130716E0D803FC
131F6C6CEB3FC03A00FF81FF806DB512006D5B010F5B6D13F00100138025357DB32C>I<
007FB5FCB612C015F0816C803907E003FEEC00FFED7F80153FED1FC0ED0FE0A2150716F0
150316F81501A4ED00FCACED01F8A3150316F0A2150716E0150FED1FC0153FED7F80EDFF
00EC03FE007FB55AB65A5D15C06C91C7FC26337EB22C>I<007FB612F0B712F8A37E3903
F00001A7ED00F01600A4EC01E04A7EA490B5FCA5EBF003A46E5A91C8FCA5163C167EA800
7FB612FEB7FCA36C15FC27337EB22C>I<007FB612F8B712FCA37ED803F0C7FCA7167816
00A515F04A7EA490B5FCA5EBF001A46E5A92C7FCAD387FFFE0B5FC805C7E26337EB22C>
I<903901FC038090390FFF87C04913EF017F13FF90B6FC4813073803FC01497E4848137F
4848133F49131F121F5B003F140F90C7FCA2127EED078092C7FCA212FE5AA8913803FFF8
4A13FCA27E007E6D13F89138000FC0A36C141FA27F121F6D133F120F6D137F6C7E6C6C13
FF6D5A3801FF076C90B5FC6D13EF011F13CF6DEB0780D901FCC7FC26357DB32C>I<D87F
FEEBFFFCB54813FEA36C486C13FCD807E0EB0FC0B190B6FCA59038E0000FB3D87FFEEBFF
FCB54813FEA36C486C13FC27337EB22C>I<007FB512F8B612FCA36C14F839000FC000B3
B3A5007FB512F8B612FCA36C14F81E3379B22C>I<D87FFCEB7FF8486CEBFFFCA36C48EB
7FF8D807C0EB1F80153FED7F00157E5D4A5A14034A5A5D4A5A4A5A143F4AC7FC147E5CEB
C1F813C3EBC7FCA2EBCFFEEBDFBEEBFFBF141F01FE7F496C7E13F86E7EEBF00301E07FEB
C001816E7EA2157E153E153F811680ED0FC0A2ED07E0D87FFCEB1FFC486CEB3FFEA36C48
EB1FFC27337EB22C>75 D<387FFFE0B57EA36C5BD803F0C8FCB3AE16F0ED01F8A8007FB6
FCB7FCA36C15F025337DB22C>I<D87FE0EB0FFC486CEB1FFEA26D133F007F15FC000F15
E001BC137BA4019E13F3A3EB9F01A2018F13E3A21483A2018713C314C7A201831383A214
EFA201811303A214FFEB80FEA3147C14381400ACD87FF0EB1FFC486CEB3FFEA36C48EB1F
FC27337EB22C>I<D87FF0EB7FFC486CEBFFFEA27F007FEC7FFCD807FEEB07C013DEA213
DF13CFA2148013C714C0A213C314E0A213C114F0A213C014F8A2147CA3143EA2141E141F
A2140F1587A2140715C7A2140315E71401A215F71400A215FFD87FFC137F487E153FA26C
48EB1F8027337EB22C>I<007FB512C0B612F88115FF6C15802603F00013C0153FED0FE0
ED07F0A2150316F81501A6150316F01507A2ED0FE0ED3FC015FF90B61280160015FC5D15
C001F0C8FCB0387FFF80B57EA36C5B25337EB22C>80 D<387FFFFCB67E15E015F86C8039
07E007FE1401EC007F6F7E151FA26F7EA64B5AA2153F4BC7FCEC01FE140790B55A5D15E0
81819038E007FCEC01FE1400157F81A8160FEE1F80A5D87FFEEB1FBFB5ECFF00815E6C48
6D5AC8EA01F029347EB22C>82 D<90381FF80790B5EA0F804814CF000714FF5A381FF01F
383FC003497E48C7FC007E147F00FE143F5A151FA46CEC0F00007E91C7FC127F7FEA3FE0
EA1FFCEBFFC06C13FC0003EBFFC06C14F06C6C7F01077F9038007FFEEC07FF0200138015
3FED1FC0A2ED0FE0A20078140712FCA56CEC0FC0A26CEC1F806D133F01E0EB7F009038FE
01FF90B55A5D00F914F0D8F83F13C0D8700790C7FC23357CB32C>I<007FB612FCB712FE
A43AFC007E007EA70078153CC71400B3AF90383FFFFCA2497F6D5BA227337EB22C>I<3B
7FFF803FFFC0B56C4813E0A36C496C13C03B03F00001F800B3AF6D130300015DA26D1307
00005D6D130F017F495A6D6C485AECE0FF6DB5C7FC6D5B010313F86D5B9038003F802B34
80B22C>I<D87FFCEB7FFC486CEBFFFEA36C48EB7FFCD80FC0EB07E06D130F000715C0A3
6D131F00031580A36D133F00011500A36D5B0000147EA4017E5BA46D485AA490381F83F0
A4010F5B14C7A301075BA214EFA201035BA214FFA26D90C7FCA46D5A27347EB22C>I<D8
7FF0EB07FF486C491380A36C486D1300001FC8127CA46C6C5CA76C6C495AA4143E147FA3
3A03E0FF83E0A214F7A201E113C3A3000101E35BA201F113C701F313E7A314C1A200005D
A201F713F71480A301FF13FF017F91C7FC4A7EA4013E133E29347FB22C>I<3A3FFF03FF
E0484913F0148714076C6D13E03A01F800FE007F0000495A13FE017E5BEB7F03013F5B14
87011F5B14CF010F5B14FF6D5BA26D90C7FCA26D5AA26D5AA2497EA2497EA2497F81EB0F
CF81EB1FC7EC87F0EB3F83EC03F8EB7F01017E7FEBFE00497F0001147E49137F00038049
1480151FD87FFEEBFFFC6D5AB514FE6C15FC497E27337EB22C>I<D87FFCEB7FFC486CEB
FFFEA36C48EB7FFCD807F0EB0FC0151F000315806D133F12016DEB7F0012006D137E017E
13FE017F5BEB3F01EC81F8131FEC83F0EB0FC314C7903807E7E0A201035B14EF6DB45AA2
92C7FC7F5C147EB0903807FFE0497FA36D5B27337EB22C>I<003FB612C04815E0A4007E
C7EA1FC0ED3F80A2ED7F00157E15FE4A5A003C5CC712034A5AA24A5A4A5AA24A5A4AC7FC
A214FE495AA2495A495AA2495A495AA2495A49C8FCA213FE485AA24848EB03C049EB07E0
1207485A5B121F485AA248C7FCB7FCA46C15C023337CB22C>I<387FFFFCB512FEA314FC
00FCC7FCB3B3B3B512FC14FEA36C13FC17416FB92C>I<127812F87EA27E127E127F7E7F
121F7F120F7F1207A27F12037F12017F12007F137E137F7F80131FA280130F8013078013
03801301801300A280147E147F8081141F81140F811407811403A281140181140081157E
157F811680151FA2150FED070021417BB92C>I<387FFFFCB512FEA37EC7127EB3B3B338
7FFFFEB5FCA36C13FC17417DB92C>I<007FB6FCB71280A46C150021067B7D2C>95
D<3801FFF0000713FE001F6D7E15E048809038C01FF81407EC01FC381F80000006C77EC8
127EA3ECFFFE131F90B5FC1203120F48EB807E383FF800EA7FC090C7FC12FE5AA47E007F
14FEEB8003383FE01F6CB612FC6C15FE6C14BF0001EBFE1F3A003FF007FC27247CA32C>
97 D<EA7FF0487EA3127F1201AAEC1FE0ECFFF801FB13FE90B6FC16809138F07FC09138
801FE091380007F049EB03F85BED01FC491300A216FE167EA816FE6D14FCA2ED01F86D13
036DEB07F0150F9138801FE09138E07FC091B51280160001FB5B01F813F83900F03FC027
337FB22C>I<903803FFE0011F13F8017F13FE48B5FC48804848C6FCEA0FF0485A49137E
4848131890C9FC5A127EA25AA8127EA2127F6C140F6DEB1F806C7E6D133F6C6CEB7F0039
07FE03FF6CB55A6C5C6C6C5B011F13E0010390C7FC21247AA32C>I<EC0FFE4A7EA380EC
003FAAEB07F8EB3FFE90B512BF4814FF5A3807FC0F380FF00348487E497E48487F90C7FC
007E80A212FE5AA87E007E5CA2007F5C6C7E5C6C6C5A380FF0073807FC1F6CB612FC6CEC
BFFE6C143FEB3FFC90390FF01FFC27337DB22C>I<EB03FE90381FFFC0017F13F048B57E
48803907FE03FE390FF800FFD81FE0EB3F805B4848EB1FC090C7120F5A007E15E015075A
B7FCA416C000FCC9FC7E127EA2127F6CEC03C06DEB07E06C7ED80FF0130F6C6CEB3FC001
FF13FF000190B512806C1500013F13FC010F13F00101138023247CA32C>I<EC0FF8EC3F
FE91B5FC4914805B903807FC7F14F090390FE03F0014C092C7FCA6007FB512FEB7FCA36C
5C26000FC0C7FCB3A8003FB512F04880A36C5C21337DB22C>I<ED03F8903907F80FFC90
391FFE3FFE017FB6FC48B7FC48ECFE7F9038FC0FF82607F003133E3A0FE001FC1CD9C000
1300001F8049137EA66D13FE000F5CEBE0016C6C485A3903FC0FF048B5FC5D481480D99F
FEC7FCEB87F80180C8FCA37F6C7E90B512F06C14FE48ECFF804815E04815F03A3FC0001F
F848C7EA03FC007E1400007C157C00FC157E48153EA46C157E007E15FCD87F801303D83F
E0EB0FF8D81FFCEB7FF06CB612E0000315806C1500D8003F13F8010713C028387EA42C>
I<EA7FF0487EA3127F1201AAEC1FE0EC7FFC9038F9FFFE01FB7F90B6FC9138F03F80ECC0
1F02807FEC000F5B5BA25BB3267FFFE0B5FCB500F11480A36C01E0140029337FB22C>I<
1307EB1FC0A2497EA36D5AA20107C7FC90C8FCA7387FFFC080B5FC7EA2EA0007B3A8007F
B512FCB612FEA36C14FC1F3479B32C>I<EA7FE0487EA3127F1201AA91381FFFF04A13F8
A36E13F0913800FE004A5A4A5A4A5A4A5A4A5A4A5A4AC7FC14FEEBF1FC13F3EBF7FE90B5
FCA2EC9F80EC0FC001FE7FEBFC07496C7E496C7E811400157E811680151F3A7FFFC0FFFC
B500E113FEA36C01C013FC27337EB22C>107 D<387FFFE0B57EA37EEA0003B3B3A5007F
B61280B712C0A36C158022337BB22C>I<3A7F83F007E09039CFFC1FF83AFFDFFE3FFCD8
7FFF13FF91B57E3A07FE1FFC3E01FCEBF83F496C487E01F013E001E013C0A301C01380B3
3B7FFC3FF87FF0027F13FFD8FFFE6D13F8D87FFC4913F0023F137F2D2481A32C>I<397F
F01FE039FFF87FFC9038F9FFFE01FB7F6CB6FC00019038F03F80ECC01F02807FEC000F5B
5BA25BB3267FFFE0B5FCB500F11480A36C01E0140029247FA32C>I<EB07FCEB1FFF017F
13C048B512F048803907FC07FC390FF001FE48486C7E0180133F003F158090C7121F007E
EC0FC0A348EC07E0A76C140F007E15C0A2007F141F6C15806D133F6C6CEB7F006D5B6C6C
485A3907FC07FC6CB55A6C5C6C6C13C0011F90C7FCEB07FC23247CA32C>I<397FF01FE0
39FFF8FFF801FB13FE90B6FC6C158000019038F07FC09138801FE091380007F049EB03F8
5BED01FC491300A216FE167EA816FE6D14FCA2ED01F86D13036DEB07F0150F9138801FE0
9138E07FC091B51280160001FB5B01F813F8EC3FC091C8FCAD387FFFE0B57EA36C5B2736
7FA32C>I<903903FC078090391FFF0FC0017F13CF48B512EF4814FF3807FE07380FF001
48487E49137F4848133F90C7FC48141F127E150F5AA87E007E141FA26C143F7F6C6C137F
6D13FF380FF0033807FC0F6CB6FC6C14EF6C6C138F6D130FEB07F890C7FCAD0203B5FC4A
1480A36E140029367DA32C>I<D87FFEEB3FC0B53801FFF0020713F8021F13FC6C5B3900
3F7FE1ECFF019138FC00F84A13704A13005CA25C5CA391C8FCAF007FB512E0B67EA36C5C
26247EA32C>I<90387FF8700003B512F8120F5A5A387FC00F387E00034813015AA36CEB
00F0007F140013F0383FFFC06C13FE6CEBFF80000314E0C66C13F8010113FCEB0007EC00
FE0078147F00FC143F151F7EA26C143F6D133E6D13FE9038F007FC90B5FC15F815E000F8
148039701FFC0020247AA32C>I<131E133FA9007FB6FCB71280A36C1500D8003FC8FCB1
ED03C0ED07E0A5EC800F011FEB1FC0ECE07F6DB51280160001035B6D13F89038003FE023
2E7EAD2C>I<3A7FF003FF80486C487FA3007F7F0001EB000FB3A3151FA2153F6D137F39
00FE03FF90B7FC6D15807F6D13CF902603FE07130029247FA32C>I<3A7FFF01FFFCB514
FE148314016C15FC3A03E0000F80A26D131F00011500A26D5B0000143EA26D137E017C13
7CA2017E13FC013E5BA2EB3F01011F5BA21483010F5BA214C701075BA214EF01035BA214
FF6D90C7FCA26D5A147C27247EA32C>I<D87FFFEB7FFF6EB5FCB515806C16004A7ED807
C0EB01F0A66C6C495AA3143E147FA2D801F0495AECFF87A214F7A201F113C700005D9038
F9E3CFA201FB13EFA3D97BC190C7FC017F13FFA21480A2013F5B90381F007C29247FA32C
>I<3A3FFF03FFF048018713F8A36C010313F03A00FC007E005D90387E01F8013F5BEB1F
83EC87E090380FCFC0903807EF80EB03FF6D90C7FC5C6D5A147C14FE130180903803EF80
903807CFC0EB0FC7EC83E090381F01F0013F7FEB7E00017C137C49137E0001803A7FFF01
FFFC1483B514FE6C15FC140127247EA32C>I<3A7FFF01FFFCB5008113FE148314816C01
0113FC3A03E0000F806C7E151F6D140012005D6D133E137C017E137E013E137CA2013F13
FC6D5BA2EB0F815DA2EB07C1ECC3E0A2EB03E3ECE7C0130114F75DEB00FFA292C7FC80A2
143EA2147E147CA214FC5CA2EA0C01003F5BEA7F83EB87E0EA7E0F495A387FFF806C90C8
FC6C5A6C5AEA07E027367EA32C>I<003FB612E04815F0A4007EC7EA1FE0ED3FC0ED7F80
EDFF004A5A003C495AC7485A4A5A4A5A4A5A4A5A4AC7FCEB01FC495AEB0FF0495A495A49
5A49C8FC4848EB01E04848EB03F0485A485A485A485A485AB7FCA46C15E024247DA32C>
I<127812FCB3B3B3A9127806416DB92C>124 D E /Fl 39 123 df<EE3FFC4BB5128092
3907E007C092391F8001E0DB3F0013F0037E13034B1307A24A5A18E04A48EB038094C7FC
A314075DA4140F5DA3010FB7FCA25F903A001F80007EA217FE023F5C92C7FCA216015F5C
147E16035FA214FE4A13075FA30101140F5F4AECC1C0A2161F1783010316805CA2EF8700
13074A5CEE0F8EEE079EEE03FC010FEC00F04A91C7FCA35C131FA2001C90CAFC127E5BEA
FE3E133C137CEAF878EA78F0EA3FE0EA0F80344C82BA2F>12 D<EE7FE0923903FFFC7E92
380FC03E92381F000F033EEB3FFE4B137F03FC14FC5D1401173D4A48EB01F8A21703A24A
4814F0A21707A2020F15E05D170FA218C0010FB7FCA3903B001F80001F80A2173F143F92
C71300A25FA24A147E147E17FEA25F14FE4A1301A25FA2010114035CEFF070A216070103
16F04AECE0E0A3EFE1C013074A14C3933803E380EE01E7933800FF004948143C94C7FCA3
495AA3001C90CAFC127E133E12FE133C137CEAF878EA78F0EA3FE0EA0F80374C82BA31>
I<EA03C0EA07F0120F121F13F8A313F0EA07B0EA003013701360A213E013C01201EA0380
13005A120E5A5A5A5A5A0D197A8819>44 D<387FFFF8A2B5FCA214F0150579941E>I<12
0EEA3F80127F12FFA31300127E123C0909778819>I<EE01C01603A21607160FA2161F83
163FA2167F16FF16EF150116CFED038FA2ED070FA2150E151E151C1538A203707FA2EDE0
07A2EC01C014031580EC0700A2140EA25CA25C027FB5FCA291B6FC9139E00007F8494813
03A2495A130791C7FC5B130E5BA25B1378137013F0EA03F8486C4A7EB56C48B512F0A334
3C7BBB3E>65 D<DB03FE130E92393FFF801E92B5EAE03C913903FE01F0913A0FF000787C
DA3FC0EB3CFC4AC7EA1FF802FE140FEB03FC49481407494815F049481403495A5C49C813
E05B485A5B000317C0485AA2485A1880485A94C7FCA2485AA3127F5BA312FF90CBFCA417
38A217784816707E17F06C5E16015F16036C6C4A5A94C7FC001F150E6D141E000F5D6D5C
6C6C495A6C6CEB03C0D801FEEB0F8027007F807EC8FC6DB45A010F13E0010090C9FC373D
74BA3B>67 D<0107B8FCA3903A000FF000034BEB007F183E141F181E5DA2143FA25D181C
147FA29238000380A24A130718004A91C7FC5E13015E4A133E167E49B512FEA25EECF800
0107147C163C4A1338A2010F147818E04A13701701011F16C016004A14031880013F1507
18004A5CA2017F151E173E91C8123C177C4915FC4C5A4914070001ED7FF0B8FCA25F3839
7BB838>69 D<0103B512F8A390390007F8005DA2140FA25DA2141FA25DA2143FA25DA214
7FA292C7FCA25CA25CA21301A25CA21303A25CA21307A25CA2130FA25CA2131FA25CA213
3FA25CA2137FA291C8FC497EB6FCA25C25397CB820>73 D<0107B512FCA25E9026000FF8
C7FC5D5D141FA25DA2143FA25DA2147FA292C8FCA25CA25CA21301A25CA21303A25CA213
07A25CA2130F170C4A141CA2011F153C17384A1478A2013F157017F04A14E01601017F14
0317C091C71207160F49EC1F80163F4914FF000102071300B8FCA25E2E397BB834>76
D<902607FFF8923807FFF0614F13E0D9000FEFF0004F5AA2021F167FF1EFC0141DDA1CFC
EC01CF023C16DF9538039F800238ED071FA20278ED0E3F97C7FC0270151CA202F04B5AF0
707E14E0037E14E0010117FE4D485A02C0EC0380A20103ED0701610280140EA20107ED1C
0305385B14006F137049160705E05B010EEC01C0A2011E913803800F61011CEC0700A201
3C020E131F4C5C1338ED1FB80178163F04F091C8FC01705CA201F04A5B187E00015DD807
F816FEB500C09039007FFFFC151E150E4C397AB84A>I<ED03FE92383FFFC09238FC07F0
913903E001F891390F80007C023FC77E027E8002F815804948EC0FC0EB07E04948EC07E0
131F4A15F049C81203137E01FE16F8485AA2485AA2485AA2120F5B001F16075B123FA348
48ED0FF0A448C9EA1FE0A3EF3FC0A21880177F18005F5F16015F6C4B5A4C5AA24C5A6C4B
5A6D4A5A001F93C7FC6D147E000F5D6C6CEB03F06C6C495A6C6CEB0F806C6C013FC8FC90
383F01FC90381FFFE0010190C9FC353D74BA40>79 D<0007B812E0A25AD9F800EB001F01
C049EB07C0485AD900011403121E001C5C003C17801403123800785C00701607140700F0
1700485CA2140FC792C7FC5DA2141FA25DA2143FA25DA2147FA292C9FCA25CA25CA21301
A25CA21303A25CA21307A25CA2130FA25CEB3FF0007FB512F8B6FCA2333971B83B>84
D<B5D8F80FB590381FFFF06102F018E0D807FEC7D87FE0903803FE00D803F8DA3F806D5A
F100F0A24F5A621903621907047F92C7FC190E16FF4B5DA2DB03BF5C7F0001DA073F5CA2
030E5D83DB1C1F495A180303385D4EC8FC157003F0140E15E0DA01C05CA2DA03805CA2DA
07005CA2020E5D17C14A5DEFC3805C027802C7C9FC14704A14CE13FE6C6C4814DCA24A14
F8A291C75B160F495D5F5B5F5B4992CAFCA249140E4C3B6FB853>87
D<14F8EB07FE90381F871C90383E03FE137CEBF801120148486C5A485A120FEBC001001F
5CA2EA3F801403007F5C1300A21407485C5AA2140F5D48ECC1C0A2141F15831680143F15
87007C017F1300ECFF076C485B9038038F8E391F0F079E3907FE03FC3901F000F0222677
A42A>97 D<133FEA1FFFA3C67E137EA313FE5BA312015BA312035BA31207EBE0F8EBE7FE
9038EF0F80390FFC07C013F89038F003E013E0D81FC013F0A21380A2123F1300A214075A
127EA2140F12FE4814E0A2141F15C05AEC3F80A215005C147E5C387801F8007C5B383C03
E0383E07C0381E1F80D80FFEC7FCEA01F01C3B77B926>I<147F903803FFC090380FC1E0
90381F0070017E13784913383901F801F83803F003120713E0120FD81FC013F091C7FC48
5AA2127F90C8FCA35A5AA45AA3153015381578007C14F0007EEB01E0003EEB03C0EC0F80
6CEB3E00380F81F83803FFE0C690C7FC1D2677A426>I<ED01F815FFA3150316F0A21507
A216E0A2150FA216C0A2151FA21680A2153FA202F81300EB07FE90381F877F90383E03FF
017C5BEBF80112013803F00048485B120FEBC001121F5DEA3F801403127F01005BA21407
5A485CA2140FA248ECC1C0A2141F15C3ED8380143F1587007C017F1300ECFF076C485B90
38038F8E391F0F079E3907FE03FC3901F000F0253B77B92A>I<147F903803FFC090380F
C1E090383F00F0017E13785B485A485A485A120F4913F8001F14F0383F8001EC07E0EC1F
80397F81FF00EBFFF891C7FC90C8FC5A5AA55AA21530007C14381578007E14F0003EEB01
E0EC03C06CEB0F806CEB3E00380781F83803FFE0C690C7FC1D2677A426>I<ED07C0ED1F
F0ED3E38ED7C3CEDF8FC15F9140115F1020313F8EDF0F0160014075DA4140F5DA4141F5D
010FB512C05B16809039003F800092C7FCA45C147EA414FE5CA413015CA413035CA41307
5CA4130F5CA3131F5CA391C8FC5B121CEA7E3EA2EAFE3C137C1378EAF8F01278EA3FC0EA
0F80264C82BA19>I<EC07C0EC3FF09138FC38E0903901F01FF0EB03E0903807C00FEB0F
80011F1307D93F0013E05B017E130F13FE4914C01201151F1203491480A2153F12074914
00A25DA249137EA215FEA25D00031301140314076C6C485A0000131FEB787BEB3FF39038
0FC3F0EB00031407A25DA2140F5D121C007E131F5D00FE49C7FC147E5C387801F8387C07
E0381FFF80D803FEC8FC24367CA426>I<EB03F0EA01FFA3EA00075CA3130F5CA3131F5C
A3133F91C8FCA35B90387E07F0EC1FFCEC783E9038FFE01F02C01380EC800F1400485A16
C05B49EB1F8012035BA2153F000715005BA25D000F147E5B15FE5D121FD98001131C15F8
163C003F01031338010013F0A216704814E0007E15F016E0EDE1C000FE903801E3804890
3800FF000038143C263B7BB92A>I<EB01C0EB07E014F0130F14E01307EB038090C7FCAB
13F0EA03FCEA071EEA0E1F121CA212385B1270A25BEAF07E12E013FEC65AA212015B1203
A25B12075BA2000F13E013C013C1001F13C01381A2EB83801303EB0700A2130E6C5AEA07
F8EA01E0143879B619>I<EB03F0EA01FFA3EA00075CA3130F5CA3131F5CA3133F91C8FC
A35B017EEB0F80ED3FE015F09039FE01C1F09038FC0387EC0707140E0001011C13E0EBF8
3891383003800270C7FC00035BEBF1C0EBF38001FFC8FCEA07FC7FEBFFC0EBE7F8380FE1
FCEBC07E147F80001F809039801F81C0A21583003F013F138001001303A2150748150000
7E133EEC1E0E151E00FE6D5A48EB07F80038EB01E0243B7BB926>107
D<EB0FC0EA07FFA3EA001F1480A2133FA21400A25BA2137EA213FEA25BA21201A25BA212
03A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25AA2EA7E0EA212FE131E
EAFC1CA2133C133812F81378EA7870EA7CE0121FEA0F80123B79B915>I<D801E001FEEB
07F03C07F803FF801FFC3C0E3C0F07C0783E3C1E3E3C03E1E01F261C1F78D9F3C013803C
383FF001F7800F02E01400007801C013FE007018C002805B4A4848EB1F80EAF07FD8E07E
5CA200000207143F01FE1700495CA2030F5C0001177E495C18FE031F5C120349DA800113
1C18F8033F153C00070403133849020013F0A24B1570000F17E049017E15F019E003FEEC
E1C0001FEE01E34949903800FF000007C70038143C3E2679A444>I<D801E013FE3A07F8
03FF803A0E3C0F07C03A1E3E3C03E0261C1F787F39383FF00114E0007813C00070811480
4A485AEAF07FEAE07EA20000140701FE5C5BA2150F00015D5B151F5E12034990383F8380
160316070007027F130049137EA2160E000F147C49141E161C5E001FEC3C7849EB1FE000
07C7EA0780292679A42F>I<147F903803FFC090380FC1F090381F00F8017E137C5B4848
137E4848133E0007143F5B120F485AA2485A157F127F90C7FCA215FF5A4814FEA2140115
FC5AEC03F8A2EC07F015E0140F007C14C0007EEB1F80003EEB3F00147E6C13F8380F83F0
3803FFC0C648C7FC202677A42A>I<9039078007C090391FE03FF090393CF0787C903938
F8E03E9038787FC00170497EECFF00D9F0FE148013E05CEA01E113C15CA2D80003143FA2
5CA20107147FA24A1400A2010F5C5E5C4B5A131F5EEC80035E013F495A6E485A5E6E48C7
FC017F133EEC70FC90387E3FF0EC0F8001FEC9FCA25BA21201A25BA21203A25B1207B512
C0A3293580A42A>I<ECF803903807FE0790381F871F90383E03BF017C13FEEBF8011201
3803F000484813FC120F5B001F130115F8EA3F80A2007F1303010013F0A34813074814E0
A3140F4814C0A3141F1580143FA2007C137FECFF006C5AEB03BF381F0F7F3807FE7EEA01
F0C7FC14FE5CA313015CA313035C130748B512C0A3203577A426>I<3903C003F0390FF0
1FFC391E783C0F381C7C703A3C3EE03F8038383FC0EB7F800078150000701300151CD8F0
7E90C7FCEAE0FE5BA2120012015BA312035BA312075BA3120F5BA3121F5BA3123F90C9FC
120E212679A423>I<14FE903807FF8090380F83C090383E00E04913F00178137001F813
F00001130313F0A215E00003EB01C06DC7FC7FEBFFC06C13F814FE6C7F6D13807F010F13
C01300143F141F140F123E127E00FE1480A348EB1F0012E06C133E00705B6C5B381E03E0
6CB45AD801FEC7FC1C267AA422>I<EB0380EB07C0130FA4131F1480A3133F1400A35B13
7E007FB5FCA2B6FC3800FC00A312015BA312035BA312075BA3120F5BA3121FEB801CA214
3C003F1338EB0078147014F014E0EB01C0EA3E03381F0780380F0F00EA07FCEA01F01835
79B31C>I<13F8D803FEEB01C0D8078FEB03E0390E0F8007121E121C0038140F131F0078
15C01270013F131F00F0130000E015805BD8007E133FA201FE14005B5D120149137EA215
FE120349EBFC0EA20201131E161C15F813E0163CD9F003133814070001ECF07091381EF8
F03A00F83C78E090393FF03FC090390FC00F00272679A42D>I<01F0130ED803FC133FD8
071EEB7F80EA0E1F121C123C0038143F49131F0070140FA25BD8F07E140000E08013FEC6
485B150E12015B151E0003141C5BA2153C000714385B5DA35DA24A5A140300035C6D48C7
FC0001130E3800F83CEB7FF8EB0FC0212679A426>I<01F01507D803FC903903801F80D8
071E903907C03FC0D80E1F130F121C123C0038021F131F49EC800F00701607A249133FD8
F07E168000E0ED000313FEC64849130718000001147E5B03FE5B0003160E495BA2171E00
070101141C01E05B173C1738A217781770020314F05F0003010713016D486C485A000190
391E7C07802800FC3C3E0FC7FC90393FF81FFE90390FE003F0322679A437>I<903907E0
07C090391FF81FF89039787C383C9038F03E703A01E01EE0FE3803C01F018013C0D80700
14FC481480000E1570023F1300001E91C7FC121CA2C75AA2147EA214FEA25CA21301A24A
1370A2010314F016E0001C5B007E1401010714C000FEEC0380010F1307010EEB0F003978
1CF81E9038387C3C393FF03FF03907C00FC027267CA427>I<13F0D803FCEB01C0D8071E
EB03E0D80E1F1307121C123C0038140F4914C01270A249131FD8F07E148012E013FEC648
133F160012015B5D0003147E5BA215FE00075C5BA214015DA314035D14070003130FEBF0
1F3901F87FE038007FF7EB1FC7EB000F5DA2141F003F5C48133F92C7FC147E147C007E13
FC387001F8EB03E06C485A383C1F80D80FFEC8FCEA03F0233679A428>I<903903C00380
90380FF007D91FF81300496C5A017F130E9038FFFE1E9038F83FFC3901F007F849C65A49
5B1401C7485A4A5A4AC7FC141E5C5C5C495A495A495A49C8FC131E5B49131C5B4848133C
48481338491378000714F8390FF801F0391FFF07E0383E1FFFD83C0F5B00785CD8700790
C7FC38F003FC38E000F021267BA422>I E /Fm 43 123 df<EA0F80EA3FE0EA7FF0A2EA
FFF8A5EA7FF0A2EA3FE0EA0F800D0D798C1B>46 D<141E143E14FE1307133FB5FCA313CF
EA000FB3B3A6007FB61280A4213779B630>49 D<EB0FFC90387FFFC048B512F0000714FC
390FF03FFF261F800F1380263F000313C05AD9C00113E0486C6C13F07FA2ED7FF8A46C5A
6C5A000FC7FCC8FCEDFFF0A216E05C16C04A138016004A5A5D4A5A4A5A4A5AEC7F8092C7
FC14FEEB01F849481378495A495A495A013EC712F84914F05B4848130148B6FCA25A5A5A
5A4815E0B7FCA425377BB630>I<EB03FF011F13F0017F13FC3901FC07FF2603F0031380
48486C13C0496C13E0EA0FF001FC14F0121F7FA56C4814E0A23803F001C714C04A138016
004A5A4A5AEC3FF090380FFFC092C7FC15F090380007FE913801FF806E13C016E0ED7FF0
16F816FC153FA216FEEA1FC0487E487E487EA416FCA249EB7FF8127F01C0EBFFF06C4814
E06C6C4813C0260FFC0713806CB61200000114FC6C6C13F0010790C7FC27387CB630>I<
ED07C0150FA2151F153F157F15FFA25C5C5C5CA2141E5C147C5C5C495A495A1307495A5C
131E5B137C5B5B485A485A1207485A90C7FC121E5A127C5AB81280A4C70001EBC000AA01
03B61280A429377DB630>I<001C15C0D81F80130701F8137F90B61280A216005D5D15F0
5D15804AC7FC14F090C9FCA8EB07FE90383FFFE090B512F89038FC07FC9038E003FFD980
01138090C713C0120EC813E0157F16F0A216F8A21206EA3F80EA7FE012FF7FA44914F0A2
6C4813FF90C713E0007C15C06C5B6C491380D9C0071300390FF01FFE6CB512F8000114E0
6C6C1380D90FF8C7FC25387BB630>I<EC0FF8ECFFFE0103EBFF8090390FF80FC090393F
E003E090397FC001F09038FF000F48EC1FF84848133F485A120F5B121FA2003FEC1FF0ED
0FE04990C7FC127FA21408EC7FF039FFF1FFFC01F313FFD9F78013809039FF007FC049EB
3FE04914F0ED1FF85B16FCA34914FEA5127FA5123F16FCA26C7E16F8000F143F6C6C14F0
ED7FE06C6C14C03A01FF81FF806C90B51200013F13FC010F13F00101138027387CB630>
I<123C123EEA3FE090B71280A41700485D5E5E5EA25E007CC7EA0FC000784A5A4BC7FC00
F8147E48147C15FC4A5A4A5AC7485A5D140F4A5A143F92C8FC5C147E14FE1301A2495AA3
1307A2130F5CA2131FA5133FA96D5A6D5A6D5A293A7BB830>I<49B47E010F13F0013F13
FC9038FE01FF3A01F8007F804848EB3FC04848EB1FE0150F485AED07F0121FA27FA27F7F
01FEEB0FE0EBFF809138E01FC06CEBF03F02FC13809138FF7F006C14FC6C5C7E6C14FE6D
7F6D14C04914E048B612F0EA07F848486C13F8261FE01F13FC383FC007EB8001007F6D13
FE90C7123F48140F48140715031501A21500A216FC7E6C14016D14F86C6CEB03F06D1307
6C6CEB0FE0D80FFEEB7FC00003B61200C614FC013F13F00103138027387CB630>I<ED03
E04B7EA24B7EA34B7EA24B7EA34B7EA292B57EA34A8015F302038015E1A202078015C002
0F80ED807FA2021F80ED003F4A80023E131FA2027E80027C7F02FC814A7FA20101824A7F
49B77EA3498202C0C7FC010F824A147FA2011F8291C8123F4982013E151FA2017E82017C
8101FE83B500F80107B61280A4413A7DB948>65 D<DB3FFCEB01C00203B5EAC003021FEC
F00791B6EAFC0F01039039FC00FF3F4901C0EB1FFFD91FFEC77E49481403D97FF0804948
80485B48177F4849153F4890C9FC181F485A180F123F5B1807127FA24993C7FC12FFAD12
7F7FF003C0123FA27F001F1707A26C6C1780180F6C6D16006C6D5D6C173E6C6D157ED97F
F85D6D6C4A5A6DB44A5A010701C0EB0FE06D01FCEBFF80010090B548C7FC021F14F80203
14E09126003FFEC8FC3A3B7BB945>67 D<B912F0A426007FF8C7FCEF1FF8170717031701
A21700A21878A3043C137C183CA41800167CA216FC150391B5FCA4ECF8031500167CA216
3C180FA3181EA293C7FCA2183EA2183C187CA218FCA2EF01F81703170F173FEE01FFB9FC
18F0A338397DB83F>69 D<B912C0A43A007FF800039338007FE0171F170F1707A21703A2
1701A318F0EE7800A41800A216F8A21501150791B5FCA4ECF80715011500A21678A693C8
FCADB7FCA434397DB83C>I<B612FCA439007FF800B3B3ADB612FCA41E397DB824>73
D<B500F80403B512F06E5EA26E5ED8007FF1E000A2D97BFF161EA201796D5DA201786D5D
A26E6C5DA36E6C4A5AA26E6C4A5AA26E6C4A5AA26E6C4A5AA26E6C141EA36E6D5BA26E6D
5BA26F6C5BA26F6C485AA36F6C485AA26F6C485AA26F6C48C7FCA2923803FF1EA36F13BC
A26F13F8A2705AA2705AA213FCB500FC6D4848B612F0A2EE0F80EE070054397DB85B>77
D<B500FC0203B512F0A28080C66C6D90390003F0006F6E5A81017B7F13798101787F6E7E
6E7E6E7F6E7FA26E7F6E7F6E7F6E7F6F7E153F826F13806F13C06F13E06F13F06F13F881
17FCEE7FFEEE3FFF7013817013C17013E18218F17013F97013FDEF7FFF8383A283838383
83187FA2183F181F01FC160FB500FC150718031801A244397DB84B>I<EDFFF8020FEBFF
80027F14F0903A01FFC01FFC010790380007FFD91FFC010113C0D93FF06D6C7E49486E7E
49486E7E48496E7E48834890C86C7EA248486F1380A248486F13C0A2003F18E0A348486F
13F0A400FF18F8AC007F18F06D5DA3003F18E0A26D5D001F18C0A26C6C4B13806C18006E
5C6C6D4A5A6C5F6C6D4A5A6D6C4A5AD93FFC49485A6DB401075B0107D9C01F90C7FC0101
90B512FC6D6C14F0020F1480020001F8C8FC3D3B7BB948>I<B8FC17F017FEEFFF802800
7FF8000F13C0040113E07013F0EF7FF8EF3FFCA2EF1FFEA218FFA818FEA2EF3FFCA2EF7F
F8EFFFF04C13E0040F13C091B7120017FC17E002F8C9FCB3A4B612FCA438397DB841>I<
B712FCEEFFE017FC17FF28007FF8000F13C004017F707F717E717EA2717EA284A760A24D
5A604D5A4D5A04035B041F90C8FC91B612FC17E0839139F8003FFCEE0FFF707F707F8284
A2707FA584A51A601AF084177F1901DD3FFE13E0B600FC011F130394390FFF87C071EBFF
8005011400CBEA1FFC443A7DB848>82 D<D907FF130E013FEBE01E90B5EAF83E0003ECFE
7E3A07FC01FFFE390FF0001F4848130F48481303491301007F140090C8FC167E5A163EA2
7F161E7F7F6D91C7FC13FC387FFFE014FEECFFF06C14FE6F7E6C816C15F06C816C81C681
133F010F801301D9000F1480EC007F030F13C01503818100F0157FA3163FA27E17807E16
7F6C16007E6D14FE01E0495A01F813039039FF801FF800FC90B512E0D8F83F5CD8F00749
C7FC39E0007FF02A3B7BB935>I<003FB91280A4D9F800EBF003D87FC09238007FC04916
1F007EC7150FA2007C1707A200781703A400F818E0481701A4C892C7FCB3AE010FB7FCA4
3B387DB742>I<B6D8E01FB500FC90383FFFFCA4000101F0C7D83FFCC8EA7E006C71153C
171F6E197C017F701578836E7014F8013F6F5E6E1801011F4B6D5CA26E18036D4B6D5CA2
6D6D496D495A173C6F170F6D037C6D91C7FCEF787F6F5F6D4B6C6C131E816D02016E5BEF
E01F03F8177C027F01036E13784D7E03FCEE80F8023F49486C5C15FE021F010FEDC1E04D
7E03FF16C36E49EDE3C0041E7F049E15F76E01BC6D5C04FC15FF6E95C8FC4C80A26E5F4C
143F6E5F4C141FA2037F5E4C140FA26F486E5AA2031F5E93C812036F5E5E3A7EB863>87
D<EB3FFE0003B512E0000F14F8391FF00FFE003FEB03FF6D6C7F6E7FA26F7EA26C5A6C5A
EA0380C8FCA2EC3FFF010FB5FC137F3901FFF87F00071380380FFE00EA3FF85B485A12FF
5BA415FF6D5A127F263FF00713F83B1FFC1FBFFFC0390FFFFE1F0003EBF80F39003FE003
2A257DA42E>97 D<903801FFC0010F13FC017F13FFD9FF8013802603FE0013C048485AEA
0FF8121F13F0123F6E13804848EB7F00151C92C7FC12FFA9127FA27F123FED01E06C7E15
036C6CEB07C06C6C14806C6C131FC69038C07E006DB45A010F13F00101138023257DA42A
>99 D<EE7F80ED7FFFA4150381AF903801FF81010F13F1013F13FD9038FFC07F0003EB00
1FD807FC1307000F8048487F5B123FA2485AA312FFAA127FA27F123FA26C6C5B000F5C6C
6C5B6C6C4913C02701FF80FD13FE39007FFFF9011F13E1010313012F3A7DB935>I<9038
03FF80011F13F0017F13FC3901FF83FE3A03FE007F804848133F484814C0001FEC1FE05B
003FEC0FF0A2485A16F8150712FFA290B6FCA301E0C8FCA4127FA36C7E1678121F6C6C14
F86D14F000071403D801FFEB0FE06C9038C07FC06DB51200010F13FC010113E025257DA4
2C>I<EC1FF0903801FFFC010713FF90391FF87F8090383FE0FFD9FFC113C0A2481381A2
4813016E1380A2ED3E0092C7FCA8B6FCA4000390C8FCB3ABB512FEA4223A7DB91D>I<16
1FD907FEEBFFC090387FFFE348B6EAEFE02607FE07138F260FF801131F48486C138F003F
15CF4990387FC7C0EEC000007F81A6003F5DA26D13FF001F5D6C6C4890C7FC3907FE07FE
48B512F86D13E0261E07FEC8FC90CAFCA2123E123F7F6C7E90B512F8EDFF8016E06C15F8
6C816C815A001F81393FC0000F48C8138048157F5A163FA36C157F6C16006D5C6C6C495A
D81FF0EB07FCD807FEEB3FF00001B612C06C6C91C7FC010713F02B377DA530>I<13FFB5
FCA412077EAFED7FC0913803FFF8020F13FE91381F03FFDA3C01138014784A7E4A14C05C
A25CA291C7FCB3A3B5D8FC3F13FFA4303A7DB935>I<EA01F0EA07FC487EA2487EA56C5A
A26C5AEA01F0C8FCA913FF127FA412077EB3A9B512F8A4153B7DBA1B>I<13FFB5FCA412
077EB3B3ACB512FCA4163A7DB91B>108 D<01FED97FE0EB0FFC00FF902601FFFC90383F
FF80020701FF90B512E0DA1F81903983F03FF0DA3C00903887801F000749DACF007F0003
4914DE6D48D97FFC6D7E4A5CA24A5CA291C75BB3A3B5D8FC1FB50083B512F0A44C257DA4
51>I<01FEEB7FC000FF903803FFF8020F13FE91381F03FFDA3C01138000071378000349
7E6D4814C05CA25CA291C7FCB3A3B5D8FC3F13FFA430257DA435>I<903801FFC0010F13
F8017F13FFD9FF807F3A03FE003FE048486D7E48486D7E48486D7EA2003F81491303007F
81A300FF1680A9007F1600A3003F5D6D1307001F5DA26C6C495A6C6C495A6C6C495A6C6C
6CB45A6C6CB5C7FC011F13FC010113C029257DA430>I<9039FF01FF80B5000F13F0023F
13FC9138FE07FFDAF00113800003496C13C00280EB7FE091C713F0EE3FF8A2EE1FFCA3EE
0FFEAA17FC161FA217F8163F17F06E137F6E14E06EEBFFC0DAF00313809139FC07FE0091
383FFFF8020F13E0020390C7FC91C9FCACB512FCA42F357EA435>I<9038FE03F000FFEB
0FFEEC3FFF91387C7F809138F8FFC000075B6C6C5A5CA29138807F80ED3F00150C92C7FC
91C8FCB3A2B512FEA422257EA427>114 D<90383FF0383903FFFEF8000F13FF381FC00F
383F0003007E1301007C130012FC15787E7E6D130013FCEBFFE06C13FCECFF806C14C06C
14F06C14F81203C614FC131F9038007FFE140700F0130114007E157E7E157C6C14FC6C14
F8EB80019038F007F090B512C000F8140038E01FF81F257DA426>I<130FA55BA45BA25B
5BA25A1207001FEBFFE0B6FCA3000390C7FCB21578A815F86CEB80F014816CEBC3E09038
3FFFC06D1380903803FE001D357EB425>I<01FFEC3FC0B5EB3FFFA4000714016C80B3A3
5DA25DA26C5C6E4813E06CD9C03E13FF90387FFFFC011F13F00103138030257DA435>I<
B500F1B538803FFFA43D07FE000FF80003E06C6C010715C082028015076C6E6C14801507
6C01C0ED0F00826E485C017FED801E5D90273FF01E7F5B17C0DAF83E147C011F90393C3F
E078037C14F8903B0FFC781FF0F0A29139FEF00FF10107EDF9E002FF14FB6D496CB45AA2
4B7E6D5EA26D496C90C7FCA292C7FC6E5CA2023E147C023C143C40257EA445>119
D<B539F01FFFF0A4000390398003F8006C01C013E06C1407D97FE05B6D6C485A6E48C7FC
90381FFC3E010F5B903807FEFC6D6C5A5D6D5B6D5B6E7E6E7E814A7EA24A7E903801F3FF
D903E37FD907C17FEB0FC049486C7E4A6C7E013E80496D7E49130F00016E7EB590383FFF
F8A42D257EA432>I<B539F001FFF8A4000390C7EA3F00161E6E133E6C153C6E137C6C15
786E13F8017F5CECF001013F5C14F8011F495AA2ECFC07010F5CECFE0F010791C7FC6E5A
6D131E15BE6D13BC15FC6D5BA36E5AA26E5AA26E5AA26E5AA292C8FCA25C141E003F133E
387F803C38FFC07C147814F8EBC1F0EBC3E06C485A387D1F80D83FFFC9FCEA1FFCEA07F0
2D357EA432>I<003FB612C0A3D9F0031380EB800749481300003E5C003C495A007C133F
5D0078495A14FF5D495B5BC6485B92C7FC495A131F5C495A017FEB03C0EBFFF014E04813
C05AEC80074813005A49EB0F80485A003F141F4848133F9038F001FFB7FCA322257DA42A
>I E /Fn 2 48 df<1238127CB4FC13C07F13F813FE6D7E00FD7F00FC13F0EB3FFCEB0F
FF01037F6D13E09038007FF8EC1FFEEC07FF6E13C0020013F0ED3FFCED0FFE6F6C7E0301
13E09238007FF8EE1FFC70B4FC040313C0040013F0EF3FF8EF1FFE943807FF80050113E0
9438007FF0183FA2187F943801FFC00507138094381FFE00EF3FF8EFFFF0040313C0040F
90C7FCEE1FFCEE7FF8923801FFE0030713804B48C8FCED3FFCEDFFF0020313C04A90C9FC
EC1FFEEC7FF8903801FFE0491380010F90CAFCEB3FFCEBFFF000FD13C0B55A49CBFC13F8
13E05B90CCFC127C12383C447CC445>46 D<19E0F003F0180F183F187FEF01FF1707171F
EF3FFBEFFFF3040313C3040F1303EE1FFCEE7FF8923801FFE00307138092380FFE00ED3F
FCEDFFF0020313C04A90C7FCEC1FFEEC7FF8903801FFE0491380010F90C8FCEB3FFCEBFF
F04813C000075BD81FFEC9FCEA3FF8EA7FE0485AA26C7EEA3FF8EA1FFE3807FF8000017F
6C13F0EB3FFCEB0FFF01037F6D13E09038007FF8EC1FFEEC07FF6E13C0020013F0ED3FFC
ED0FFE923807FF80030113E09238007FF8EE1FFCEE0FFF040313C3040013F3EF3FFBEF1F
FF17071701EF007F183F180F1803F000E03C447CC445>I E /Fo
3 104 df<EB0FE0EB7FFC497E0003EBFF804814C04814E04814F04814F8A24814FCA3B6
12FEA86C14FCA36C14F8A26C14F06C14E06C14C06C1480C6EBFE006D5AEB0FE01F207BA4
2A>15 D<EC01F8140FEC3F80ECFC00495A495A495AA2130F5CB3A7131F5C133F49C7FC13
FEEA03F8EA7FE048C8FCEA7FE0EA03F8EA00FE137F6D7E131F80130FB3A7801307A26D7E
6D7E6D7EEC3F80EC0FF814011D537ABD2A>102 D<12FCEAFFC0EA07F0EA01FCEA007E7F
80131F80130FB3A7801307806D7E6D7EEB007EEC1FF0EC07F8EC1FF0EC7E00495A495A49
5A5C130F5CB3A7131F5C133F91C7FC137E485AEA07F0EAFFC000FCC8FC1D537ABD2A>I
E /Fp 87 128 df<DA0FF813FC91397FFF07FF903B01F807DF83C0903A07E001FF0F903B
1F8007FE1FE090393F000FFC137E16F85B9338F007804848010790C7FC1503ACB812F8A3
2801F80003F0C7FCB3AB486C497E267FFFE0B512F0A3333B7FBA30>11
D<EC0FF8EC7FFE903901F80780903907E001C090391F8000E090383F0007017E497EA25B
A2485A6F5AED018092C8FCA9ED03F0B7FCA33901F8000F1503B3AA486C497E267FFFE0B5
12C0A32A3B7FBA2E>I<EC0FFC91387FFF70903901F803F0903807E00790381F800FEB3F
00137EA25B150748481303ADB7FCA33901F80003B3AB486C497E267FFFE0B512C0A32A3B
7FBA2E>I<DA0FF0EB1FF0DA7FFEEBFFFC903B01F80F83F00F903C07E001CFC00380903C
1F8000FF0001C090273F0007FE130F017E4948497EA2495CA248485C03076E5A03030203
C7FC95C8FCA9F007E0BAFCA33C01F80003F0001F1807B3AA486C496C497E267FFFE0B500
C1B51280A3413B7FBA45>I<121C127FEAFF80A8EA7F00AB123EAB121CABC7FCA8121C12
7FEAFF80A5EA7F00121C093C79BB17>33 D<001C131C007F137F39FF80FF80A26D13C0A3
007F137F001C131C00001300A40001130101801380A20003130301001300485B00061306
000E130E485B485B485B006013601A197DB92A>I<017C166048B416F02607C380140126
0F81C01403D900E04A5A001E01784A5A003E6D141F003C013FEC7F80007C90271BE003FF
C7FC0218B512BF007891381FFC3E00F8011CC75A020C14FC5F4C5A16035F4C5A160F5F4C
C8FC021C5B00780118133E007C5D16FC003C01385B003E90383001F0001EEB70036C01E0
5B903981C007C03907C3800F2601FF005BD8007C49C9FC90C748EB07C0033EEB1FF04BEB
3C3803FCEBF81C4B497E913A01F001E00602030103130703E0497E912607C0071480020F
15011580DA1F00018013C04A010F1300143E5C14FC5C495A13035C495A130F4A01071301
49C701C013805B013E1603490203140001FC6F5A49020113064848913800F00E0003705A
49ED3C3849ED1FF06C48ED07C03A437BBD45>37 D<121C127FEAFF80A213C0A3127F121C
1200A412011380A2120313005A1206120E5A5A5A12600A1979B917>39
D<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA212075B120F90C7FC
A25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F1203A26C7EA26C7E
1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>I<12C07E12707E7E7E120F
6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7FA21480A3EB07C0A6EB03E0
B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A25BA2485A485AA2485A48C7
FC120E5A5A5A5A5A13527CBD20>I<15301578B3A6007FB812F8B912FCA26C17F8C80078
C8FCB3A6153036367BAF41>43 D<121C127FEAFF80A213C0A3127F121C1200A412011380
A2120313005A1206120E5A5A5A12600A19798817>I<B512FCA516057F941C>I<121C127F
EAFF80A5EA7F00121C0909798817>I<150C151E153EA2153C157CA2157815F8A215F014
01A215E01403A215C01407A21580140FA215005CA2141E143EA2143C147CA2147814F8A2
5C1301A25C1303A2495AA25C130FA291C7FC5BA2131E133EA2133C137CA2137813F8A25B
1201A25B1203A25B1207A25B120FA290C8FC5AA2121E123EA2123C127CA2127812F8A25A
12601F537BBD2A>I<EB03F8EB1FFF90387E0FC09038F803E03901E000F0484813780007
147C48487FA248C77EA2481580A3007EEC0FC0A600FE15E0B3007E15C0A4007F141F6C15
80A36C15006D5B000F143EA26C6C5B6C6C5B6C6C485A6C6C485A90387E0FC0D91FFFC7FC
EB03F8233A7DB72A>I<EB01C013031307131F13FFB5FCA2131F1200B3B3A8497E007FB5
12F0A31C3879B72A>I<EB0FF0EB7FFE48B57E3903E03FE0390F000FF0000E6D7E486D7E
486D7E123000706D7E126012FCB4EC7F807FA56CC7FC121CC8FCEDFF00A34A5A5D14035D
4A5A5D140F4A5A4A5A92C7FC147C5C495A495A495A495A91C8FC011EEB01805B5B491303
48481400485A485A000EC75A000FB6FC5A5A485CB6FCA321387CB72A>I<EB07F8EB3FFF
4913C03901F80FF03903C007F848486C7E380E0001000F80381FE0006D7FA56C5A6C5AC8
5A1401A25D4A5AA24A5A5DEC0F80027EC7FCEB1FFCECFF809038000FE06E7EEC01FC816E
7EED7F80A216C0A2153F16E0A2121EEA7F80487EA416C049137F007F1580007EC7FC0070
ECFF006C495A121E390F8003F83907F00FF00001B512C06C6C90C7FCEB0FF8233A7DB72A
>I<1538A2157815F8A2140114031407A2140F141F141B14331473146314C313011483EB
030313071306130C131C131813301370136013C01201EA038013005A120E120C5A123812
305A12E0B712F8A3C73803F800AB4A7E0103B512F8A325397EB82A>I<0006140CD80780
133C9038F003F890B5FC5D5D158092C7FC14FC38067FE090C9FCABEB07F8EB3FFE903878
0F803907E007E090388003F0496C7E12066E7EC87EA28181A21680A4123E127F487EA490
C71300485C12E000605C12700030495A00385C6C1303001E495A6C6C485A3907E03F8000
01B5C7FC38007FFCEB1FE0213A7CB72A>I<EC3FC0903801FFF0010713FC90380FE03E90
383F800790387E001F49EB3F804848137F485AA2485A000FEC3F0049131E001F91C7FCA2
485AA3127F90C9FCEB01FC903807FF8039FF1E07E090383801F0496C7E01607F01E0137E
497FA249148016C0151FA290C713E0A57EA56C7E16C0A2121FED3F807F000F15006C6C5B
15FE6C6C5B6C6C485A3900FE07F090383FFFC06D90C7FCEB03FC233A7DB72A>I<123012
38123E003FB612E0A316C05A168016000070C712060060140E5D151800E01438485C5D5D
C712014A5A92C7FC5C140E140C141C5CA25CA214F0495AA21303A25C1307A2130FA3495A
A3133FA5137FA96DC8FC131E233B7BB82A>I<EB03F8EB1FFF017F13C09038FC07F03901
E001F848486C7E4848137C90C77E48141E000E141F001E80A3121FA27F5D01E0131E6C6C
133E01FC133C6D5B6C6C6C5AECC1E06CEBF3C06C01FFC7FC6C5BEB3FFF6D13C081017F13
F801F07F3903E07FFE3907801FFF48486C1380481303003E6D13C0003CEB007F007C143F
0078EC0FE000F814075A1503A21501A36C15C012781503007C15806CEC07006C5C6C6C13
1ED807E0137C3903F803F0C6B55A013F1380D907FCC7FC233A7DB72A>I<EB03F8EB1FFF
017F13C09038FC07E03903F803F048486C7E48486C7E49137E121F48487FA2007F158090
C7FCA248EC1FC0A616E0A56C143FA27F123F001F147FA26C6C13FF6C6C13DF0003130139
01F0039F3900FC0F1FD93FFC13C0EB07F090C7FC153F1680A316005D000F147E487E486C
5BA24A5A4A5A49485A6C48485A001C495A260F807FC7FC3807FFFC000113F038003FC023
3A7DB72A>I<121C127FEAFF80A5EA7F00121CC7FCB2121C127FEAFF80A5EA7F00121C09
2479A317>I<121C127FEAFF80A5EA7F00121CC7FCB2121C127F5A1380A4127F121D1201
A412031300A25A1206A2120E5A121812385A1260093479A317>I<007FB812F8B912FCA3
CCFCAEB912FCA36C17F836167B9F41>61 D<EC03FF021F13E09138FC00FCD901E0131ED9
0780EB0780011EC7EA01E00138EC00704981498148488148488190C97E48D901FC148000
0ED907FFEB01C0000C90391F03C000001C90267E00E013E000184901701360263801F86D
13700030496D13300103EC0FE0267007E00107133800601718495AA200E0171C48484815
0CAA6C6C7E1260A26D6C151C00701718263003F0130F0101141F00386D013F1338261800
FC01771330001C017E9038E3F070000C90261F03C113E0000E903A07FF00FFC06CD901FC
EB3F006C90CAFC7F6C7E6C7E13706D167C011EED03FCD90780EC1FF0D901E0ECFF80D900
FC90383FFC00021FB51280020301E0C7FC363C7BBA41>64 D<1538A3157CA315FEA34A7E
A34A6C7EA202077FEC063FA2020E7FEC0C1FA2021C7FEC180FA202387FEC3007A202707F
EC6003A202C07F1501A2D901807F81A249C77F167FA20106810107B6FCA24981010CC712
1FA2496E7EA3496E7EA3496E7EA213E0707E1201486C81D80FFC02071380B56C90B512FE
A3373C7DBB3E>I<B712E016FC16FF0001903980007FC06C90C7EA1FE0707E707E707EA2
707EA283A75F16035F4C5A4C5A4C5A4C5AEEFF8091B500FCC7FCA291C7EA7F80EE1FE0EE
07F0707E707E83707EA21880177F18C0A7188017FFA24C13005F16034C5AEE1FF8486DEB
7FF0B812C094C7FC16F832397DB83B>I<913A01FF800180020FEBE003027F13F8903A01
FF807E07903A03FC000F0FD90FF0EB039F4948EB01DFD93F80EB00FF49C8127F01FE153F
12014848151F4848150FA248481507A2485A1703123F5B007F1601A35B00FF93C7FCAD12
7F6DED0180A3123F7F001F160318006C7E5F6C7E17066C6C150E6C6C5D00001618017F15
386D6C5CD91FE05C6D6CEB03C0D903FCEB0F80902701FF803FC7FC9039007FFFFC020F13
F002011380313D7BBA3C>I<B712C016F816FE000190398001FF806C90C7EA3FE0EE0FF0
EE03F8707E707E177FA2EF3F8018C0171F18E0170F18F0A3EF07F8A418FCAC18F8A4EF0F
F0A218E0A2171F18C0EF3F80A2EF7F0017FE4C5A4C5AEE0FF0EE3FE0486DEBFF80B8C7FC
16F816C036397DB83F>I<B812FCA30001903880000F6C90C71201EE007E173E171E170E
A31706A317078316C0A394C7FCA31501A21503150F91B5FCA3EC000F15031501A21500A2
1860A318E093C712C0A41701A3EF0380A21707A2170F173F177F486D903807FF00B9FCA3
33397DB839>I<B812F8A30001903880001F6C90C71201EE00FC177C173C171CA2170CA4
170E1706A2ED0180A21700A41503A21507151F91B5FCA3EC001F15071503A21501A692C8
FCAD4813C0B612C0A32F397DB836>I<DBFF8013C0020FEBF001023F13FC9139FF803F03
903A03FC000787D90FF0EB03CF4948EB00EF4948147F4948143F49C8121F485A4848150F
48481507A248481503A2485A1701123F5B007F1600A448481600AB93B6FCA26C7E933800
7FE0EF3FC0A2123F7F121FA26C7EA26C7EA26C7E6C7E6C6C157F6D7E6D6C14FF6D6C14EF
D90FF8EB03C7D903FEEB0783903A00FFC03F0191393FFFFC00020F01F013000200138038
3D7CBA41>I<B648B512FEA30001902680000313006C90C76C5AB3A491B6FCA391C71201
B3A6486D497EB648B512FEA337397DB83E>I<B612C0A3C6EBC0006D5AB3B3AD497EB612
C0A31A397EB81E>I<013FB512E0A39039001FFC00EC07F8B3B3A3123FEA7F80EAFFC0A4
4A5A1380D87F005B0070131F6C5C6C495A6C49C7FC380781FC3801FFF038007F80233B7D
B82B>I<B649B5FCA3000101809038007FF06C90C8EA3F80053EC7FC173C17385F5F4C5A
4C5A4CC8FC160E5E5E5E5E4B5AED0780030EC9FC5D153E157E15FF5C4A7F4A6C7E140E4A
6C7E4A6C7E14704A6C7E4A6C7E14804A6C7E6F7EA26F7F707EA2707E707EA2707EA2707E
707EA2707E707F8484486D497FB6011FEBFF80A339397DB841>I<B612E0A3000101C0C8
FC6C90C9FCB3AD1718A517381730A31770A317F0A216011603160FEE1FE0486D13FFB8FC
A32D397DB834>I<B5933807FFF86E5DA20001F0FC002600DFC0ED1BF8A2D9CFE01533A3
D9C7F01563A3D9C3F815C3A2D9C1FCEC0183A3D9C0FEEC0303A2027F1406A36E6C130CA3
6E6C1318A26E6C1330A36E6C1360A26E6C13C0A3913901FC0180A3913900FE0300A2ED7F
06A3ED3F8CA2ED1FD8A3ED0FF0A3486C6D5A487ED80FFC6D48497EB500C00203B512F8A2
ED018045397DB84C>I<B5913807FFFE8080C69238007FE06EEC1F80D9DFF0EC0F001706
EBCFF8EBC7FCA2EBC3FEEBC1FFA201C07F6E7EA26E7E6E7E81140F6E7E8114036E7E1680
80ED7FC016E0153FED1FF0ED0FF8A2ED07FCED03FEA2ED01FF6F1386A2EE7FC6EE3FE6A2
EE1FF6EE0FFEA216071603A216011600A2177E486C153E487ED80FFC151EB500C0140EA2
170637397DB83E>I<EC03FF021F13E09138FE01FC903901F8007ED907E0EB1F8049486D
7ED93F80EB07F049C76C7E01FE6E7E48486E7E49157E0003167F4848ED3F80A24848ED1F
C0A2001F17E049150F003F17F0A3007F17F8491507A300FF17FCAC007F17F86D150FA300
3F17F0A26C6CED1FE0A36C6CED3FC0000717806D157F000317006C6C15FEA26C6C4A5A01
7F4A5A6D6C495A6D6C495AD907E0EB1F80D903F8017FC7FC903900FE01FC91381FFFE002
0390C8FC363D7BBA41>I<B712C016F816FE000190398001FF806C90C7EA3FC0EE0FE0EE
07F0EE03F817FC17FE1601A217FFA717FEA2EE03FCA2EE07F817F0EE0FE0EE3FC0923801
FF0091B512FC16F091C9FCB3A5487FB6FCA330397DB839>I<EC03FF021F13E09138FE01
FC903901F8007ED907E0EB1F8049486D7ED93F80EB07F049C76C7E01FE6E7E48486E7EA2
4848157F0007178049153F000F17C049151F001F17E0A24848ED0FF0A3007F17F8A24915
07A200FF17FCAC007F17F8A26D150FA2003F17F0A26C6CED1FE0A36C6CED3FC00007027C
14804AB4FC3C03F80383807F003B01FC0701C0FEEC0E002600FE0CEBE1FC017FEC63F8D9
3F8CEB77F0D91FCCEB3FE0D907EE14806DB449C7FC0100D981FC130CEC1FFF0203131C91
C7001E131C161F183CEF807CEFC0F8EE0FFFA318F08218E07013C07013809338007E0036
4B7BBA41>I<B612FEEDFFE016F8000190388007FE6C90C76C7EEE3FC0707E707E707EA2
707EA283A65FA24C5AA24C5A4C5AEE3F8004FFC8FCED07FC91B512E05E9138000FF0ED03
F8ED00FE82707E707EA2161F83A583A6F00180A217F8160F1803486D01071400B66D6C5A
04011306933800FE0ECAEA3FFCEF07F0393B7DB83D>I<D90FF813C090383FFE0190B512
813903F807E33907E000F74848137F4848133F48C7121F003E140F007E1407A2007C1403
12FC1501A36C1400A37E6D14006C7E7F13F86CB47E6C13F8ECFF806C14E06C14F86C14FE
C680013F1480010714C0EB007F020713E0EC007FED3FF0151F150FED07F8A200C01403A2
1501A37EA216F07E15036C15E06C14076C15C06C140F6DEB1F80D8FBF0EB3F00D8F0FE13
FE39E03FFFF8010F13E0D8C00190C7FC253D7CBA2E>I<003FB812E0A3D9C003EB001F27
3E0001FE130348EE01F00078160000701770A300601730A400E01738481718A4C71600B3
B0913807FF80011FB612E0A335397DB83C>I<B6903807FFFEA3000101809038007FE06C
90C8EA1F80EF0F001706B3B2170E6D150C80171C133F17186D6C14385F6D6C14F06D6C5C
6D6C495A6D6CEB07806D6C49C7FC91387F807E91381FFFF8020713E09138007F80373B7D
B83E>I<B500FC91387FFF80A30003018091380FFC006C90C8EA07E0715A6C705A6E1403
017F93C7FCA280013F1506A26E140E011F150C80010F5DA28001075DA26E147001031560
A26D6C5CA2806D4A5AA2ED8003027F91C8FCA291383FC006A215E0021F5BA2EDF01C020F
1318A26E6C5AA215FC02035BA2EDFEE002015BA26E6C5AA36FC9FCA3153EA2151CA3393B
7EB83E>I<B5D8FC07B5D8F001B5FCA30007902780001FFEC7EA1FF86C48C7D80FF8EC07
E000010307ED03C01B807F6C6F6C1500A26E5F017F6E6C1406A280013F4A6C5CA280011F
4A6D5BEE067FA26D6C010E6D5BEE0C3FA26D6C011C6D5BEE181FA26D6C6F5BEE300FA26D
6C6F485AEE6007A26D6C4CC7FC9338C003FCA203805D913B7F818001FE06A203C1150EDA
3FC3C7EAFF0CA203E3151CDA1FE6EC7F98A215F6DA0FFCEC3FF0A302075E4B141FA20203
5E4B140FA202015E4B1407A2020093C8FC4B80503B7EB855>I<007FB590383FFFFCA3C6
01F801071380D97FE0D903FCC7FC013FEC01F06D6C5C5F6D6C5C6D6C13034CC8FC6D6C13
06160E6D6C5B6DEB8018163891387FC0306E6C5A16E06E6C5A91380FF18015FB6EB4C9FC
5D14036E7EA26E7F6F7EA24B7E15DF9138019FF09138038FF8150F91380607FC91380E03
FE140C4A6C7EEC38000230804A6D7E14E04A6D7E49486D7E130391C76C7E01066E7E130E
010C6E7E011C1401013C8101FE822607FF80010713E0B500E0013FEBFF80A339397EB83E
>I<B500FE91383FFFE0A3000301E0913807FE00C649EC03F0017F6F5A606D6C5D6D6C14
0395C7FC6D6C1406A26D6C5C6D6C141C17186D6C143817306D6D5B6E6C13E05F91383FE0
015F91381FF003DA0FF890C8FC1606913807FC0E160C913803FE1C913801FF185E6E13B0
16E0157F6F5AB3A24B7E023FB512C0A33B397FB83E>I<003FB7FCA39039FC0001FE01C0
130349495A003EC7FC003C4A5A5E0038141F00784A5A12704B5A5E006014FF4A90C7FCA2
4A5A5DC712074A5AA24A5A5D143F4A5AA24A5A92C8FC5B495AA2495A5C130F4948EB0180
A2495A5C137F495A16034890C7FC5B1203485AEE0700485A495C001F5D48485C5E484849
5A49130FB8FCA329397BB833>I<EAFFF8A4EAF000B3B3B3B3A3EAFFF8A40D5378BD17>I<
3901800180000313033907000700000E130E485B00181318003813380030133000701370
00601360A200E013E0485BA400CE13CE39FF80FF806D13C0A3007F137FA2393F803F8039
0E000E001A1974B92A>I<EAFFF8A4EA0078B3B3B3B3A3EAFFF8A40D537FBD17>I<EB1FE0
EBFFFC3803E03F3907000F80390F8007E0486C6C7E13E06E7EA26E7E6C5A6C5AC8FCA414
7FEB07FFEB3FE0EBFE00EA03F8EA0FF0EA1FC0123F485A90C7FC160C12FEA31401A26C13
036CEB077C903980063E18383FC01E3A0FE0781FF03A03FFF00FE03A007F8007C026277D
A52A>97 D<EA03F012FFA3120F1203B0EC1FE0EC7FF89038F1E03E9039F3801F809039F7
000FC001FEEB07E049EB03F049EB01F85BED00FCA216FEA2167E167FAA167E16FEA216FC
15016D14F8ED03F07F01EEEB07E001C6EB0FC09039C7801F00903881E07E903800FFF8C7
EA1FC0283B7EB92E>I<EB03FC90381FFF8090387E03E03901F80070484813F83907E001
FC380FC003A2EA1F80123F90380001F848EB00F01500A2127E12FEAA127E127FA26C1406
7F001F140E6D130C000F141C6C6C13386C6C13706C6C13E039007C07C090381FFF00EB07
F81F277DA525>I<ED0FC0EC03FFA3EC003F150FB0EB03F8EB1FFF90387E078F9038F801
EF3903F0007F4848133F4848131FA24848130F123F90C7FC5AA2127E12FEAA127E127FA2
7EA26C6C131FA26C6C133F6C6C137F6C6CEBEFF03A01F801CFFF39007C078F90381FFE0F
D907F813C0283B7DB92E>I<EB07F8EB1FFF90387C0FC03901F803E03903F001F0D807E0
13F8380FC0004848137CA248C7127E153E5A153F127E12FEA3B7FCA248C8FCA5127EA212
7FA26C14037F001F14076C6C13060007140E6D131CD801F013386C6C137090387E03E090
381FFF80903803FC0020277EA525>I<147E903803FF8090380FC1E0EB1F8790383F0FF0
137EA213FCA23901F803C091C7FCADB512FCA3D801F8C7FCB3AB487E387FFFF8A31C3B7F
BA19>I<ED03F090390FF00FF890393FFC3C3C9039F81F707C3901F00FE03903E007C03A
07C003E010000FECF000A248486C7EA86C6C485AA200075C6C6C485A6D485A6D48C7FC38
073FFC38060FF0000EC9FCA4120FA213C06CB512C015F86C14FE6CECFF804815C03A0F80
007FE048C7EA0FF0003E140348140116F8481400A56C1401007C15F06CEC03E0003F1407
D80F80EB0F80D807E0EB3F003901FC01FC39007FFFF0010790C7FC26387EA52A>I<EA03
F012FFA3120F1203B0EC0FF0EC3FFCECF03F9039F1C01F809039F3800FC0EBF70013FE49
6D7EA25BA35BB3A3486C497EB500C1B51280A3293A7EB92E>I<EA0380EA0FE0487EA56C
5AEA0380C8FCAAEA03F012FFA312071203B3AA487EB512C0A312387EB717>I<EB01C0EB
07F0EB0FF8A5EB07F0EB01C090C7FCAAEB01F813FFA313071301B3B3A2123C127E00FF13
F01303A214E038FE07C0127C383C0F00EA0FFEEA03F8154984B719>I<EA03F012FFA312
0F1203B1913801FFFCA39138007FC01600157C15705D4A5A4A5A4AC7FC141E1438147814
FC13F1EBF3FEEBF73F01FE7FEBF81F496C7E8114076E7E6E7E811400157E157F811680ED
1FC0486CEB3FF0B500C0B5FCA3283A7EB92C>I<EA03F012FFA3120F1203B3B3AD487EB5
12C0A3123A7EB917>I<2703F00FF0EB1FE000FFD93FFCEB7FF8913AF03F01E07E903BF1
C01F83803F3D0FF3800FC7001F802603F70013CE01FE14DC49D907F8EB0FC0A2495CA349
5CB3A3486C496CEB1FE0B500C1B50083B5FCA340257EA445>I<3903F00FF000FFEB3FFC
ECF03F9039F1C01F803A0FF3800FC03803F70013FE496D7EA25BA35BB3A3486C497EB500
C1B51280A329257EA42E>I<EB03FE90380FFF8090383E03E09038F800F84848137C4848
7F48487F4848EB0F80001F15C090C712074815E0A2007EEC03F0A400FE15F8A9007E15F0
A2007F14076C15E0A26C6CEB0FC0000F15806D131F6C6CEB3F006C6C137EC66C13F89038
7E03F090381FFFC0D903FEC7FC25277EA52A>I<3903F01FE000FFEB7FF89038F1E07E90
39F3801F803A07F7000FC0D803FEEB07E049EB03F04914F849130116FC150016FEA3167F
AA16FEA3ED01FCA26DEB03F816F06D13076DEB0FE001F614C09039F7803F009038F1E07E
9038F0FFF8EC1FC091C8FCAB487EB512C0A328357EA42E>I<D903F813C090381FFE0190
387E07819038FC01C33903F000E3000714774848133749133F001F141F485A150F48C7FC
A312FEAA127FA37E6D131F121F6D133F120F6C6C137F6C6C13EF3901F801CF39007E078F
90381FFE0FEB07F890C7FCABED1FE00203B5FCA328357DA42C>I<3807E01F00FFEB7FC0
9038E1E3E09038E387F0380FE707EA03E613EE9038EC03E09038FC0080491300A45BB3A2
487EB512F0A31C257EA421>I<EBFF03000313E7380F80FF381E003F487F487F00707F12
F0A2807EA27EB490C7FCEA7FE013FF6C13E06C13F86C7F00037FC67F01071380EB007F14
1F00C0EB0FC01407A26C1303A37E15806C13077EEC0F00B4131E38F3C07C38E1FFF038C0
3F801A277DA521>I<1318A51338A31378A313F8120112031207001FB5FCB6FCA2D801F8
C7FCB215C0A93800FC011580EB7C03017E13006D5AEB0FFEEB01F81A347FB220>I<D803
F0EB07E000FFEB01FFA3000FEB001F00031407B3A4150FA3151F12016D133F0000EC77F8
6D9038E7FF8090383F03C790381FFF87903A03FC07E00029267EA42E>I<B538803FFEA3
3A0FF8000FF06C48EB07E00003EC03C06D148000011500A26C6C1306A26D130E017E130C
A26D5BA2EC8038011F1330A26D6C5AA214E001075BA2903803F180A3D901FBC7FCA214FF
6D5AA2147CA31438A227257EA32C>I<B53A1FFFE03FFEA3260FF8009038000FF86C4801
7EEB03E018C00003023EEB0180A26C6C013FEB0300A36C6CEC8006156FA2017E9038EFC0
0C15C7A2D93F016D5A15830281EBF038D91F831430150102C3EBF87090260FC6001360A2
D907E66D5A02EC137CA2D903FCEB7F804A133FA2010192C7FC4A7FA20100141E4A130E02
60130C37257EA33C>I<B538807FFFA33A03FE003FF00001EC1F80000092C7FC017E131C
6D13186D6C5AECC070010F5B6D6C5AECF180EB03FB6DB4C8FC6D5AA2147F804A7E8114CF
903801C7E090380383F090380703F8EB0601496C7E011C137E49137F01787F496D7E486C
80000FEC3FF0D8FFFE90B51280A329247FA32C>I<B538803FFEA33A0FF8000FF06C48EB
07C00003EC03806C7E16007F00001406A2017E5BA2137F6D5BA26D6C5AA2ECC070010F13
60A26D6C5AA214F101035BA2D901FBC7FCA214FF6D5AA2147CA31438A21430A214701460
A25CA2EA7C0100FE5B130391C8FC1306EAFC0EEA701C6C5AEA1FF0EA0FC027357EA32C>
I<003FB512FCA2EB8003D83E0013F8003CEB07F00038EB0FE012300070EB1FC0EC3F8000
60137F150014FE495AA2C6485A495AA2495A495A495AA290387F000613FEA2485A485A00
07140E5B4848130C4848131CA24848133C48C7127C48EB03FC90B5FCA21F247EA325>I<
B81280A2290280962A>I<BD12C0A25202809653>I<001C131C007F137F39FF80FF80A539
7F007F00001C131C190978B72A>127 D E /Fq 23 122 df<DCFFFC913807FFE0031FD9
FF8090B512FC92B6D8E00F14FF0207DBF83F81021F903DE00FFCFFFE007FC091273FFE00
01B500F0EB1FE0DAFFF06D0280EB07F04949010391C7EA1FF84901804901FC143F4990C7
48494A7E49484A4914FFA249485E517F013F735B4A5EA28371705A71705A71EE0FC099C8
FCA998381FFFFEBEFCA526003FFCC7000101E0C7123F1C1FB3B3A6003FB5D8FC01B6D8E0
1FB512FEA567547DD370>14 D<EA07F0EA1FF8487E487E7FB5FC1480A314C0A37EA27E7E
EA07F3EA0003A213071480A3130F1400A25B131E133E133C137C5BA2485A485A485A485A
48C7FC121E120C1228769025>44 D<B600FC073FB512FE6F61A26F96B6FCA2D80007F5C0
0070EF01EFA202EF6DEF03CFA202E76DEF078FA202E36DEF0F0FA202E16D171EA302E06D
173CA26F6C1778A26F6C17F0A26F6DED01E0A26F6DED03C0A36F6DED0780A26F6DED0F00
A26F6D151EA26F6D5DA3706C5DA2706C5DA2706D495AA2706D495AA2706D495AA3706D49
C7FCA2706D131EA2706D5BA2716C5BA3716C5BA271EB81E0A271EBC3C0A271EBE780A271
01FFC8FCA3715BA2715BA2725AA2725AA2D93FFC6F5AB74DB712FEA2725AA2725A77527C
D180>77 D<003FBC1280A59126C0003F9038C0007F49C71607D87FF8060113C001E08449
197F49193F90C8171FA2007E1A0FA3007C1A07A500FC1BE0481A03A6C994C7FCB3B3AC91
B912F0A553517BD05E>84 D<EC7FFF0107B512F0013F14FE90B77E48D9E00F7F2703FE00
0113F0486C6D7F6EEB3FFC48826E131F83707FA36C496D7FA26C90C7FC6C5AC9FCA6037F
B5FC020FB6FC91B7FC01071487013FEBF0074913803901FFFC004813F0485B485B485B48
90C7FC5A5BA2485AA45EA26D5C007F151D163D6C6C02797F6C6D01F113F86C9026C003E1
EBFFE06C9026F81FC014F06C90B5487EC6ED001F011F01FC010713E0010101E090C8FC3C
387CB641>97 D<913801FFF8021FEBFF8091B612F0010315FC010F9038C00FFE903A1FFE
0001FFD97FFC491380D9FFF05B4817C048495B5C5A485BA2486F138091C7FC486F130070
5A4892C8FC5BA312FFAD127F7FA27EA2EF03E06C7F17076C6D15C07E6E140F6CEE1F806C
6DEC3F006C6D147ED97FFE5C6D6CEB03F8010F9038E01FF0010390B55A01001580023F49
C7FC020113E033387CB63C>99 D<4DB47E0407B5FCA5EE001F1707B3A4913801FFE0021F
13FC91B6FC010315C7010F9038E03FE74990380007F7D97FFC0101B5FC49487F4849143F
484980485B83485B5A91C8FC5AA3485AA412FFAC127FA36C7EA37EA26C7F5F6C6D5C7E6C
6D5C6C6D49B5FC6D6C4914E0D93FFED90FEFEBFF80903A0FFFC07FCF6D90B5128F0101EC
FE0FD9003F13F8020301C049C7FC41547CD24B>I<913803FFC0023F13FC49B6FC010715
C04901817F903A3FFC007FF849486D7E49486D7E4849130F48496D7E48178048497F18C0
488191C7FC4817E0A248815B18F0A212FFA490B8FCA318E049CAFCA6127FA27F7EA218E0
6CEE01F06E14037E6C6DEC07E0A26C6DEC0FC06C6D141F6C6DEC3F806D6CECFF00D91FFE
EB03FE903A0FFFC03FF8010390B55A010015C0021F49C7FC020113F034387CB63D>I<ED
3FFC0203B5FC020F14C0023F14E09139FFF81FF0499038C03FF849EB807F49903800FFFC
495A495AA2495AA2EE7FF8495AEE3FF0EE0FC093C7FCAEB712E0A526007FF8C8FCB3B3A7
007FB512FEA52E547CD329>I<DA3FFF14FF0103B5D8F00713C0010FDAFC1F13E0013FEC
FF7F90267FFC0F9038FF9FF09026FFE001EBF83F48496C13E0484990387FF01F4890C7D8
3FF813E0489338FC0FC0F0078048486E6CC7FCA2003F82A9001F5EA26C6C4A5AA26C5E6C
6D495A6C6D495A6C6D485BDAFC0F5B4890B6C8FCD803EF14FC01C314F02607C03F90C9FC
91CBFCA2120FA37FA213F813FE90B7FC6C16F817FF18C06C836C836C836D828448B9FC12
074848C700031480D81FF8EC003F4848150748486F13C083485A83A56D5D007F18806D5D
003F18006C6C4B5AD80FFEED1FFC6C6C6CEC7FF86C01E049485A6C01FE011F5B6C6CB712
80010F03FCC7FC010115E0D9000F01FCC8FC3C4F7CB543>I<EB3FF0B5FCA51203C6FCB3
A4EE1FFC93B512C0030314F0030F8092391FE07FFC92393F001FFE037C8003F07FDAF1E0
81ECF3C0DAF7807F8502FFC7FC5CA25CA45CB3ACB6D8F807B612C0A542537BD24B>I<13
7F497E000313E0487FA2487FA76C5BA26C5BC613806DC7FC90C8FCADEB3FF0B5FCA51201
7EB3B3A6B612E0A51B547BD325>I<EB3FF0B5FCA512017EB3B3B3B1B612F0A51C537BD2
25>108 D<D93FF0D91FFCEDFFE0B591B500C0010713FE030302F0011F6D7E030F6E017F
8092271FE07FFCD9FF037F922A3F001FFE01F8007F0003027C9126FF03E080C602F06DD9
0780137FDAF1E0038FC77FDAF3C0159EDAF7806D01BC143F07FC8102FFC75C4A5EA24A5E
A44A5EB3ACB6D8F807B6D8C03FB512FEA567367BB570>I<D93FF0EB1FFCB591B512C003
0314F0030F8092391FE07FFC92393F001FFE0003027C80C602F07FDAF1E081ECF3C0DAF7
807F8502FFC7FC5CA25CA45CB3ACB6D8F807B612C0A542367BB54B>I<913801FFE0021F
13FE91B612C0010315F0010F9038807FFC903A1FFC000FFED97FF86D6C7E49486D7F4849
6D7F48496D7F4A147F48834890C86C7EA24883A248486F7EA3007F1880A400FF18C0AC00
7F1880A3003F18006D5DA26C5FA26C5F6E147F6C5F6C6D4A5A6C6D495B6C6D495B6D6C49
5BD93FFE011F90C7FC903A0FFF807FFC6D90B55A010015C0023F91C8FC020113E03A387C
B643>I<903A3FF001FFE0B5010F13FE033FEBFFC092B612F002F301017F913AF7F8007F
FE0003D9FFE0EB1FFFC602806D7F92C76C7F4A824A6E7F4A6E7FA2717FA285187F85A472
1380AC1A0060A36118FFA2615F616E4A5BA26E4A5B6E4A5B6F495B6F4990C7FC03F0EBFF
FC9126FBFE075B02F8B612E06F1480031F01FCC8FC030313C092CBFCB1B612F8A5414D7B
B54B>I<90397FE003FEB590380FFF80033F13E04B13F09238FE1FF89139E1F83FFC0003
D9E3E013FEC6ECC07FECE78014EF150014EE02FEEB3FFC5CEE1FF8EE0FF04A90C7FCA55C
B3AAB612FCA52F367CB537>114 D<143EA6147EA414FEA21301A313031307A2130F131F
133F13FF5A000F90B6FCB8FCA426003FFEC8FCB3A9EE07C0AB011FEC0F8080A26DEC1F00
15806DEBC03E6DEBF0FC6DEBFFF86D6C5B021F5B020313802A4D7ECB34>116
D<D93FF8913801FFC0B50207B5FCA50003ED001FC61607B3AE5FA35FA2017F5D173B177B
6D6C14F3DC01E313F06D6CD907C3EBFFC0903A0FFFC03F836D90B51203010114FE6D6C13
F8020701E091C7FC42377BB54B>I<B600F00107B5FCA5000101F8C8EA7FE06C6DED3F00
A2017F163E6E157E013F167C6E15FC6D5E6F13016D5E8117036D5E6F13076D5E6F130F6D
5E6F131F6D93C7FC815F6E6C133E177E023F147C6F13FC6E5C16816E5C16C3A26EEBE3E0
16E76E5C16FF6E5CA26E91C8FCA26F5AA36F5AA26F5AA26F5AA26F5A6F5A40367DB447>
I<007FB500F090387FFFFEA5C66C48C7000F90C7FC6D6CEC07F86D6D5C6D6D495A6D4B5A
6F495A6D6D91C8FC6D6D137E6D6D5B91387FFE014C5A6E6C485A6EEB8FE06EEBCFC06EEB
FF806E91C9FCA26E5B6E5B6F7E6F7EA26F7F834B7F4B7F92B5FCDA01FD7F03F87F4A486C
7E4A486C7E020F7FDA1FC0804A486C7F4A486C7F02FE6D7F4A6D7F495A49486D7F01076F
7E49486E7E49486E7FEBFFF0B500FE49B612C0A542357EB447>120
D<B600F00107B5FCA5C601F8C8EA7FE06EED3F00A26D6C153E187E013F167C6E15FC6D5E
6F13016D5E6F13036D5E8117076D6D5C170F6D6D5C171F6D93C7FC6F5B027F143E6F137E
023F147C6F13FCA26E6D5A16816EEBC1F016C36E5C16E76E5C16FF6E5CA26E91C8FCA36F
5AA26F5AA26F5AA26F5AA26F5AA35E150F5E151F93C9FC5DD81FC0133E486C137E486C13
7C486C13FC5D14015D14034A5A6C48485A49485A263FC07FCAFCEB81FE6CB45A6C13F000
035BC690CBFC404D7DB447>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: a4
%%BeginPaperSize: a4
a4
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 705 394 a Fq(The)45 b(execution)g(algorithm)i(of)e(Mercury)-11
b(,)923 543 y(an)45 b(e\016cien)l(t)h(purely)f(declarativ)l(e)963
658 y(logic)h(programming)g(language)763 828 y Fp(Zoltan)27
b(Somogyi,)g(F)-7 b(ergus)26 b(Henderson)h(and)h(Thomas)e(Con)n(w)n(a)n
(y)1237 928 y Fo(f)p Fp(zs,fjh,con)n(w)n(a)n(y)p Fo(g)p
Fp(@cs.m)n(u.OZ.A)n(U)721 1027 y(Departmen)n(t)h(of)h(Computer)f
(Science,)h(Univ)n(ersit)n(y)f(of)g(Melb)r(ourne)1171
1127 y(P)n(arkville,)e(3052)h(Victoria,)h(Australia)32
1441 y Fn(.)230 b Fp(W)-7 b(e)31 b(in)n(tro)r(duce)h(Mercury)-7
b(,)31 b(a)h(new)f(purely)g(declarativ)n(e)f(logic)h(programming)e
(lan-)299 1541 y(guage)23 b(designed)g(to)i(pro)n(vide)e(the)h(supp)r
(ort)g(that)h(groups)e(of)h(application)f(program-)299
1641 y(mers)e(need)h(when)g(building)g(large)e(programs.)33
b(Mercury's)20 b(strong)h(t)n(yp)r(e,)i(mo)r(de)f(and)299
1740 y(determinism)28 b(systems)g(impro)n(v)n(e)e(program)g(reliabilit)
n(y)i(b)n(y)f(catc)n(hing)h(man)n(y)f(errors)299 1840
y(at)i(compile)g(time.)41 b(W)-7 b(e)29 b(presen)n(t)g(a)f(new)h(and)g
(relativ)n(ely)f(simple)h(execution)g(mo)r(del)299 1940
y(that)19 b(tak)n(es)f(adv)-5 b(an)n(tage)17 b(of)h(the)h(information)f
(these)h(systems)f(pro)n(vide,)i(yielding)e(v)n(ery)299
2039 y(e\016cien)n(t)23 b(co)r(de.)35 b(The)23 b(Mercury)f(compiler)h
(uses)f(this)h(execution)g(mo)r(del)g(to)g(generate)299
2139 y(p)r(ortable)h(C)h(co)r(de.)36 b(Our)25 b(b)r(enc)n(hmarking)f
(sho)n(ws)f(that)j(the)f(co)r(de)g(generated)f(b)n(y)h(our)299
2238 y(implemen)n(tation)32 b(is)h(signi\014can)n(tly)e(faster)h(than)g
(the)h(co)r(de)f(generated)f(b)n(y)h(mature)299 2338
y(optimizing)27 b(implemen)n(tations)h(of)f(other)g(logic)g
(programming)f(languages.)490 b Fn(/)p 0 2495 3288 4
v 0 2879 a Fm(1.)41 b(In)m(tro)s(duction)299 3042 y Fp(Logic)d
(programming)e(languages)h(are)h(theoretically)g(sup)r(erior)g(to)h
(imp)r(erativ)n(e)f(program-)299 3142 y(ming)25 b(languages)e(suc)n(h)h
(as)h(P)n(ascal,)e(C,)i(C++)g(and)f(Ada)h(b)r(ecause)g(they)g(op)r
(erate)f(on)h(a)f(higher)299 3242 y(lev)n(el.)37 b(They)28
b(are)e Fl(de)l(clar)l(ative)p Fp(,)k(whic)n(h)e(means)f(they)h(allo)n
(w)f(the)h(programmer)e(to)h(state)h Fl(what)299 3341
y Fp(is)i(to)f(b)r(e)i(done)e(while)h(lea)n(ving)f(the)h(details)g(of)f
Fl(how)i Fp(it)g(is)e(to)h(b)r(e)g(done)g(\(e.g.)44 b(when)30
b(memory)299 3441 y(is)36 b(allo)r(cated)f(or)g(freed\))h(to)g(the)h
(language)d(implemen)n(tation.)62 b(This)36 b(declarativ)n(eness)e
(also)299 3541 y(means)j(that)h(pure)g(logic)e(programs)g(are)h(ideal)g
(sub)5 b(jects)38 b(for)f(the)h(application)f(of)h(formal)299
3640 y(mathematical)30 b(tec)n(hniques.)46 b(Suc)n(h)30
b(uses)g(include)h(pro)r(ofs)f(of)g(correctness,)g(automatic)g(pro-)299
3740 y(gram)k(transformation)f(and)i(optimization,)i(automatic)e
(parallelization,)g(and)g(the)h(use)f(of)299 3840 y(declarativ)n(e)26
b(debugging.)399 3939 y(Despite)d(these)g(adv)-5 b(an)n(tages,)22
b(logic)h(programming)d(languages)i(ha)n(v)n(e)g(not)h(b)r(een)g
(successful)299 4039 y(in)h(capturing)f(more)h(than)g(a)f(nic)n(he)h
(mark)n(et.)35 b(The)24 b(reasons)e(ha)n(v)n(e)h(to)h(do)f(with)i(the)f
(pragmatic)299 4138 y(requiremen)n(ts)i(of)i(application)f
(programmers:)440 4315 y Fo(\017)66 b Fp(Most)25 b(applications)f(are)h
(written)g(b)n(y)g(groups)f(of)h(programmers.)34 b(Languages)23
b(should)548 4415 y(therefore)39 b(supp)r(ort)g(co)r(op)r(eration)f(b)r
(et)n(w)n(een)i(programmers.)70 b(The)39 b(most)h(e\013ectiv)n(e)548
4514 y(metho)r(d)24 b(to)g(date)g(is)f(to)h(pro)n(vide)f(a)g(mo)r(dule)
h(system)g(that)g(separates)e(in)n(terfaces)h(from)548
4614 y(implemen)n(tations.)73 b(This)40 b(w)n(a)n(y)-7
b(,)42 b(c)n(hanges)c(in)i(one)g(part)f(of)h(the)g(program)e(b)n(y)h
(one)548 4714 y(programmer)27 b(do)h(not)h(propagate)f(unnecessarily)f
(to)i(other)g(parts)f(of)h(the)h(program,)548 4813 y(whic)n(h)d(ma)n(y)
g(b)r(e)h(the)g(resp)r(onsibilit)n(y)f(of)h(other)f(programmers.)440
4976 y Fo(\017)66 b Fp(Application)30 b(programmers)e(need)i(as)g(m)n
(uc)n(h)g(help)g(as)g(p)r(ossible)g(from)g(the)g(compiler)548
5076 y(in)d(lo)r(cating)g(errors)e(in)i(their)g(programs.)35
b(This)27 b(requires)f(a)g(programming)f(language)548
5176 y(with)38 b(redundan)n(t)g(information;)43 b(t)n(yp)r(e)38
b(declarations)e(ha)n(v)n(e)h(pro)n(v)n(en)g(useful)h(in)g(this)1773
5325 y(1)p eop
%%Page: 2 2
2 1 bop 548 394 a Fp(role.)63 b(This)37 b(redundancy)f(often)g(turns)h
(out)f(to)h(b)r(e)g(useful)g(do)r(cumen)n(tation;)k(since)548
493 y(the)26 b(compiler's)e(c)n(hec)n(ks)g(ensure)h(that)h
(declarations)d(are)i(accurate,)f(declarations)g(are)548
593 y(m)n(uc)n(h)j(more)g(useful)h(than)g(commen)n(ts)f(with)h(the)g
(same)f(con)n(ten)n(t)g(w)n(ould)g(b)r(e.)440 742 y Fo(\017)66
b Fp(Another)28 b(requiremen)n(t)g(on)g(the)h(programming)d(language)g
(is)j(that)f(its)h(implemen)n(ta-)548 842 y(tion)36 b(pro)r(duce)g
(reasonably)e(fast)i(and)g(space)f(e\016cien)n(t)h(programs.)60
b(Customers)35 b(do)548 941 y(not)28 b(lik)n(e)f(slo)n(w)f(programs.)
399 1091 y(Curren)n(t)33 b(logic)g(programming)f(languages)g(do)i(not)g
(rate)f(v)n(ery)g(highly)h(when)g(ev)-5 b(aluated)299
1191 y(using)24 b(these)h(criteria.)35 b(Only)25 b(a)f(few)h(Prolog)e
(dialects)i(supp)r(ort)f(mo)r(dules,)i(and)f(their)f(mo)r(dule)299
1290 y(systems)k(tend)i(to)f(in)n(teract)f(badly)h(with)h(the)f(rest)g
(of)g(the)g(language.)40 b(Man)n(y)28 b(Prolog)f(imple-)299
1390 y(men)n(tations)e(p)r(erform)g(no)g(seman)n(tic)g(c)n(hec)n(ks)f
(at)h(compile-time,)h(and)f(most)h(of)f(the)h(ones)e(that)299
1489 y(do)h(con\014ne)g(themselv)n(es)g(to)h(simple)f(tests)h(\(e.g.)36
b(detecting)25 b(v)-5 b(ariables)25 b(that)g(o)r(ccur)g(only)g(once)299
1589 y(in)32 b(a)g(clause\).)49 b(The)32 b(absence)g(of)g(declarations)
e(mak)n(es)h(it)h(more)g(di\016cult)g(for)g(compilers)f(to)299
1689 y(gather)21 b(the)i(information)f(required)f(b)n(y)h(the)h
(optimizations)f(needed)g(to)h(ac)n(hiev)n(e)e(comp)r(etitiv)n(e)299
1788 y(p)r(erformance.)37 b(Prolog)25 b(programmers)h(therefore)h
(often)h(resort)f(to)g(non-logical)f(constructs,)299
1888 y(whic)n(h)33 b(then)h(destro)n(y)e(the)h(declarativ)n(e)f(seman)n
(tics)g(of)i(the)f(program,)g(and)g(mak)n(e)f(the)i(pro-)299
1988 y(gram)g(hard)h(to)g(main)n(tain)g(and)g(more)g(di\016cult)h(to)f
(debug)g(due)h(to)f(the)h(inapplicabilit)n(y)f(of)299
2087 y(tec)n(hniques)27 b(suc)n(h)g(as)g(declarativ)n(e)f(debugging)h
(\(see)h(e.g.)36 b([17,)13 b(22,)g(25]\).)399 2187 y(The)30
b(lac)n(k)f(of)h(mo)r(dules)g(and)g(compiler-c)n(hec)n(k)n(ed)e
(declarations)h(in)h(most)g(Prolog)e(dialects)299 2286
y(tends)41 b(not)h(to)f(b)r(e)g(a)g(problem)g(for)g(small)f(programs,)j
(since)e(a)g(single)f(programmer)f(can)299 2386 y(understand)26
b(all)f(of)h(the)h(co)r(de)f(at)g(once)f(and)h(since)g(suc)n(h)g(small)
f(programs)f(can)i(b)r(e)g(debugged)299 2486 y(using)34
b(the)h(Prolog)d(system's)i(t)n(ypically)g(limited)h(debugging)e
(facilities.)57 b(Ho)n(w)n(ev)n(er,)35 b(as)e(the)299
2585 y(size)c(of)h(the)f(program)f(increases)g(and)h(more)g(p)r(eople)g
(are)g(added)g(to)h(the)g(pro)5 b(ject)28 b(team,)i(the)299
2685 y(b)r(ene\014ts)f(of)g(the)h(declarativ)n(e)d(nature)h(of)h(logic)
f(programming)f(are)h(quic)n(kly)g(out)n(w)n(eighed)g(b)n(y)299
2785 y(the)g(e\013ects)g(of)f(these)h(limitations.)399
2884 y(Our)22 b(new)h(logic)g(programming)e(language,)i
Fl(Mer)l(cury)p Fp(,)h(is)f(designed)g(explicitly)h(to)f(supp)r(ort)299
2984 y(teams)36 b(of)g(programmers)d(w)n(orking)h(on)i(large)e
(application)i(programs.)60 b(It)36 b(has)f(a)h(mo)r(dern)299
3083 y(mo)r(dule)26 b(system,)f(detects)h(a)f(large)f(fraction)h(of)g
(program)f(errors)f(at)i(compile)h(time,)g(and)f(has)299
3183 y(an)35 b(implemen)n(tation)g(that)g(is)g(b)r(oth)h(e\016cien)n(t)
f(and)g(p)r(ortable.)59 b(T)-7 b(o)34 b(ensure)h(that)g(program-)299
3283 y(mers)e(can)g(actually)f(enjo)n(y)h(the)h(b)r(ene\014ts)g
(claimed)f(for)g(logic)f(programs,)h(Mercury)f(has)h(no)299
3382 y(non-logical)25 b(constructs)g(that)i(could)g(destro)n(y)e(the)i
(declarativ)n(e)e(seman)n(tics)g(that)i(giv)n(es)f(logic)299
3482 y(programs)j(their)i(p)r(o)n(w)n(er.)47 b(Mercury)30
b(th)n(us)i(represen)n(ts)e(a)g(clean)h(break)g(with)g(previous)g
(logic)299 3582 y(programming)20 b(tradition;)k(its)e(purit)n(y)h(mak)n
(es)e(it)i(is)f(necessarily)f(incompatible)h(with)h(existing)299
3681 y(logic)k(programming)e(languages)h(suc)n(h)h(as)g(Prolog.)399
3781 y(Mercury's)20 b(p)r(olymorphic)h(t)n(yp)r(e)h(system,)g(mo)r
(delled)g(after)g(ML's)f([19],)h(is)g(v)n(ery)e(expressiv)n(e.)299
3880 y(The)33 b(t)n(yp)r(e)g(system)g(uses)g(declarations)e(supplied)i
(b)n(y)g(the)h(programmer)c(to)j(detect)h(a)e(large)299
3980 y(fraction)i(of)h(program)e(errors.)57 b(The)35
b(t)n(yp)r(e)h(system)e(is)h(also)f(the)i(basis)e(for)g(a)h(no)n(v)n
(el)f(strong)299 4080 y(mo)r(de)d(system)f(that)i(lets)f(the)g
(compiler)f(prev)n(en)n(t)g(errors)f(suc)n(h)h(as)g(\015oundering)g
(and)h(allo)n(ws)299 4179 y(the)20 b(omission)f(of)h(the)g(o)r(ccur)f
(c)n(hec)n(k)g(without)h(compromising)f(soundness.)33
b(The)20 b(mo)r(de)g(system)299 4279 y(is)26 b(in)g(turn)g(the)h(basis)
e(for)g(a)h(strong)f(determinism)h(system)g(that)g(catc)n(hes)f(ev)n
(en)h(more)f(errors.)299 4379 y(One)36 b(of)g(the)h(most)f(frustrating)
g(exp)r(eriences)g(of)g(a)g(Prolog)e(programmer)g(o)r(ccurs)i(when)g(a)
299 4478 y(large)29 b(computation)h(that)h(w)n(as)f(in)n(tended)h(to)f
(succeed)h(fails)f(instead,)h(since)g(the)g(bug)f(could)299
4578 y(b)r(e)c(an)n(ywhere)f(in)h(the)h(computation;)f(Mercury's)f
(determinism)h(system)g(will)g(p)r(oin)n(t)g(out)g(the)299
4677 y(bug)39 b(at)g(compile)g(time.)71 b(The)40 b(supp)r(ort)e(pro)n
(vided)g(b)n(y)h(these)g(systems)g(go)r(es)f(a)h(long)f(w)n(a)n(y)299
4777 y(to)n(w)n(ards)25 b(ensuring)i(that)h(Mercury)e(programmers)f(sp)
r(end)j(less)f(time)h(trac)n(king)e(do)n(wn)h(errors)299
4877 y(via)19 b(tedious)g(man)n(ual)f(debugging)h(than)g(programmers)e
(w)n(orking)h(in)h(other)g(languages,)g(logical)299 4976
y(or)27 b(imp)r(erativ)n(e.)399 5076 y(The)d(Mercury)f(compiler)h(is)g
(written)g(in)h(Mercury)e(itself.)36 b(\(Initially)25
b(w)n(e)f(used)g(NU-Prolog)299 5176 y(and)34 b(SICStus)g(Prolog)d(to)j
(execute)g(the)g(compiler,)h(but)f(this)g(is)g(no)n(w)f(unnecessary)g
(except)1773 5325 y(2)p eop
%%Page: 3 3
3 2 bop 299 394 a Fp(as)24 b(bac)n(kup)h(since)g(w)n(e)f(ha)n(v)n(e)g
(succeeded)h(in)g(b)r(o)r(otstrapping)g(the)g(compiler.\))36
b(Our)24 b(exp)r(erience)299 493 y(with)i(using)g(the)g(language)e(has)
i(b)r(een)g(en)n(tirely)f(p)r(ositiv)n(e.)36 b(The)26
b(mo)r(dule)g(system)g(has)f(pro)n(v)n(en)299 593 y(that)i(it)h(can)e
(do)h(its)g(job)g(b)n(y)g(letting)g(us)g(co)r(op)r(erate)f(in)h
(writing)g(the)g(compiler)g(without)g(step-)299 692 y(ping)j(on)g(eac)n
(h)g(others')g(to)r(es,)h(and)f(w)n(e)g(ha)n(v)n(e)g(found)h(that)f
(the)h(compiler's)f(t)n(yp)r(e,)h(mo)r(de)g(and)299 792
y(determinism)d(c)n(hec)n(k)n(ers)e(\014nd)j(the)g(v)-5
b(ast)28 b(ma)5 b(jorit)n(y)26 b(our)i(errors.)36 b(The)29
b(strong)e(t)n(yp)r(e)h(system)g(is)299 892 y(more)f(e\013ectiv)n(e)h
(than)g(the)g(t)n(yp)r(e)g(systems)f(of)h(languages)e(suc)n(h)h(as)h
(Mo)r(dula-2)e(b)r(ecause)i(of)g(its)299 991 y(p)r(olymorphism)21
b(and)h(the)g(absence)f(of)g(unc)n(hec)n(k)n(ed)g(con)n(v)n(ersions.)33
b(Man)n(y)21 b(bugs)g(that)h(w)n(ould)f(b)r(e)299 1091
y(classi\014ed)29 b(logic)f(errors)g(in)h(imp)r(erativ)n(e)g(languages)
f(or)h(in)g(Prolog)e(turn)j(out)g(in)f(Mercury)g(to)299
1191 y(b)r(e)24 b(mo)r(de)g(errors)e(or)h(determinism)h(errors)e(that)i
(can)f(b)r(e)i(detected)f(b)n(y)g(the)g(compiler,)g(lea)n(ving)299
1290 y(only)33 b(a)g(small)g(minorit)n(y)g(of)h(real)f(logic)f(errors)g
(to)h(c)n(hase)g(do)n(wn)g(using)g(man)n(ual)g(debugging)299
1390 y(metho)r(ds.)j(This)23 b(explains)g(ho)n(w)g(w)n(e)g(w)n(ere)f
(able)h(to)g(create)g(more)g(than)g(100,000)e(lines)i(of)g(Mer-)299
1489 y(cury)28 b(co)r(de)g(in)g(27)f(mon)n(ths)h(with)h(ab)r(out)f(5)g
(p)r(erson-y)n(ears)d(of)j(e\013ort,)h(These)f(\014gures)f(indicate)299
1589 y(sustained)g(pro)r(ductivit)n(y)g(at)h(the)g(lev)n(el)f(of)g(ab)r
(out)h(400)e(lines)i(of)f(co)r(de)h(p)r(er)f(p)r(erson)g(p)r(er)g(w)n
(eek,)299 1689 y(whic)n(h)g(is)h(excellen)n(t,)f(esp)r(ecially)g(for)g
(a)h(researc)n(h)d(pro)5 b(ject.)399 1788 y(The)30 b(Mercury)f
(execution)i(mo)r(del)f(is)g(signi\014can)n(tly)g(simpler)g(than)h
(previous)e(mo)r(dels)h(for)299 1888 y(logic)k(programming)e
(languages;)k(for)e(example,)i(it)f(do)r(es)f(not)h(ha)n(v)n(e)e(full)j
(uni\014cation,)g(and)299 1988 y(it)31 b(nev)n(er)f(do)r(es)g(an)n(y)g
(dereferencing)g(or)g(trailing.)45 b(The)31 b(Mercury)f(compiler)g
(generates)f(co)r(de)299 2087 y(that)37 b(follo)n(ws)e(this)i
(execution)f(mo)r(del.)64 b(W)-7 b(e)37 b(ha)n(v)n(e)e(tested)i(the)g
(p)r(erformance)f(of)g(the)h(co)r(de)299 2187 y(generated)29
b(b)n(y)h(the)h(compiler)e(on)h(a)g(suite)h(of)f(standard)f(logic)h
(programming)e(b)r(enc)n(hmarks.)299 2286 y(W)-7 b(e)25
b(ha)n(v)n(e)f(found)h(it)g(to)g(ha)n(v)n(e)f(m)n(uc)n(h)g(higher)g(p)r
(erformance)g(than)h(all)g(the)g(logic)f(programming)299
2386 y(implemen)n(tations)33 b(w)n(e)g(ha)n(v)n(e)f(access)g(to.)54
b(Mercury)33 b(is)g(almost)g(t)n(wice)g(as)f(fast)i(as)f(Aquarius)299
2486 y(Prolog,)19 b(more)g(than)h(\014v)n(e)f(times)i(as)e(fast)h(as)f
(SICStus)h(Prolog)e(fastco)r(de,)j(and)e(ab)r(out)h(ten)g(times)299
2585 y(as)i(fast)h(as)f(Quin)n(tus)h(Prolog)e(or)h(the)h(w)n(amcc)g
(system.)35 b(The)23 b(fastest)g(of)g(these)g(Prolog)d(systems)299
2685 y(ac)n(hiev)n(e)29 b(their)i(sp)r(eed)g(b)n(y)f(directly)h
(generating)e(nativ)n(e)h(co)r(de,)h(and)g(since)f(signi\014can)n(t)g
(e\013ort)299 2785 y(is)c(required)e(to)i(retarget)e(them)i(for)g
(di\013eren)n(t)g(arc)n(hitectures,)e(they)i(are)f(a)n(v)-5
b(ailable)24 b(on)i(only)f(a)299 2884 y(few)i(platforms.)36
b(The)26 b(Mercury)g(compiler)f(a)n(v)n(oids)g(this)i(problem)f(and)g
(ac)n(hiev)n(es)f(p)r(ortabilit)n(y)299 2984 y(b)n(y)i(generating)f(C)i
(co)r(de.)399 3083 y(The)d(Mercury)f(execution)h(mo)r(del)g(relies)g
(on)g(the)g(guaran)n(teed)f(presence)g(and)h(guaran)n(teed)299
3183 y(correctness)h(of)j(the)g(information)e(deriv)n(ed)h(from)g(t)n
(yp)r(e,)h(mo)r(de,)g(and)f(determinism)g(declara-)299
3283 y(tions.)51 b(A)32 b(language)f(without)i(declarations)e(could)h
(use)g(program)e(analysis)h(to)h(obtain)g(the)299 3382
y(same)27 b(information)f(and)i(hence)f(could)g(use)h(the)g(same)e
(execution)i(mo)r(del.)37 b(Ho)n(w)n(ev)n(er,)25 b(to)i(the)299
3482 y(b)r(est)21 b(of)g(our)f(kno)n(wledge)g(no-one)f(has)i(y)n(et)f
(demonstrated)h(a)f(mo)r(de)h(inference)g(algorithm)e(that)299
3582 y(is)j(guaran)n(teed)e(to)h(\014nd)i(accurate)d(mo)r(de)i
(information)f(for)h(ev)n(ery)e(predicate)h(in)i(the)f(program.)299
3681 y(\(Building)h(suc)n(h)g(an)g(algorithm)f(is)h(v)n(ery)f
(di\016cult,)j(not)e(least)f(b)r(ecause)h(of)g(the)h(probable)e(pres-)
299 3781 y(ence)31 b(of)g(errors)e(in)j(an)n(y)e(large)g(program.\))46
b(In)31 b(an)n(y)g(case,)g(our)f(c)n(hoice)h(of)g(declarations)f(o)n(v)
n(er)299 3880 y(inference)d(is)h(dictated)g(mainly)f(b)n(y)g(soft)n(w)n
(are)f(engineering)h(concerns.)399 3980 y(The)38 b(structure)g(of)g
(the)h(pap)r(er)f(is)g(as)g(follo)n(ws.)68 b(Section)39
b(2)e(presen)n(ts)h(the)h(k)n(ey)e(comp)r(o-)299 4080
y(nen)n(ts)27 b(of)g(the)h(Mercury)e(language,)g(the)i(t)n(yp)r(e,)f
(mo)r(de,)h(determinism)f(and)h(mo)r(dule)f(systems.)299
4179 y(Section)19 b(3)g(in)n(tro)r(duces)g(and)h(explains)f(our)f
(algorithms)h(for)g(executing)g(deterministic,)i(nonde-)299
4279 y(terministic)j(and)f(semideterministic)h(predicates)f(and)h(for)f
(handling)g(negation)g(and)g(if-then-)299 4379 y(else,)h(higher-order)d
(predicates,)i(and)g(p)r(olymorphism.)35 b(Section)24
b(4)f(compares)e(our)i(execution)299 4478 y(mo)r(del)37
b(with)g(the)g(standard)f(logic)f(programming)g(implemen)n(tation)i(mo)
r(del,)i(the)e(W)-7 b(arren)299 4578 y(Abstract)24 b(Mac)n(hine)f(or)g
(W)-9 b(AM.)25 b(Section)f(5)g(describ)r(es)f(some)h(optimizations)f
(and)h(sho)n(ws)f(ho)n(w)299 4677 y(Mercury)f(handles)g(I/O.)g(Section)
g(6)h(giv)n(es)e(the)i(curren)n(t)f(state)h(of)f(the)h(Mercury)f
(system)h(while)299 4777 y(section)k(7)g(presen)n(ts)g(p)r(erformance)g
(results.)1773 5325 y(3)p eop
%%Page: 4 4
4 3 bop 0 394 a Fm(2.)41 b(The)32 b(Mercury)h(language)299
560 y Fp(Syn)n(tactically)-7 b(,)27 b(Mercury)f(is)h(similar)f(to)h
(Prolog)e(with)j(additional)e(declarations,)g(partly)h(b)r(e-)299
659 y(cause)k(Prolog)f(syn)n(tax)h(is)h(standard)f(in)h(the)h(logic)e
(programming)f(comm)n(unit)n(y)h(and)h(partly)299 759
y(b)r(ecause)k(this)h(made)f(it)h(simple)g(to)f(execute)g(Mercury)g
(programs)e(using)i(Prolog)e(systems)299 858 y(early)f(in)i(our)f(pro)5
b(ject.)58 b(Seman)n(tically)-7 b(,)35 b(ho)n(w)n(ev)n(er,)g(Mercury)e
(is)i(v)n(ery)e(di\013eren)n(t)i(from)f(Pro-)299 958
y(log.)i(Mercury)25 b(is)i(a)f(pure)h(logic)f(programming)e(language)h
(with)j(a)e(w)n(ell-de\014ned)g(declarativ)n(e)299 1058
y(seman)n(tics.)67 b(Lik)n(e)37 b(G\177)-42 b(odel)38
b([14],)i(Mercury)d(pro)n(vides)f(declarativ)n(e)g(replacemen)n(ts)h
(for)g(Pro-)299 1157 y(log's)31 b(non-logical)f(features.)50
b(Unlik)n(e)32 b(G\177)-42 b(odel,)33 b(Mercury)e(do)r(es)h(not)g
(retain)f Fl(any)i Fp(non-logical)299 1257 y(features;)27
b(in)h(Mercury)e(ev)n(en)h(I/O)g(is)h(declarativ)n(e.)399
1357 y(Mercury)38 b(is)i(designed)f(to)g(app)r(eal)h(to)f(at)h(least)f
(t)n(w)n(o)g(groups)f(of)i(programmers.)70 b(One)299
1456 y(group)22 b(is)h(those)f(with)i(bac)n(kgrounds)d(in)i(imp)r
(erativ)n(e)g(languages)e(suc)n(h)i(as)f(C)h(who)g(are)f(lo)r(oking)299
1556 y(for)35 b(a)h(higher)f(lev)n(el)h(and)g(more)f(expressiv)n(e)f
(language.)60 b(The)36 b(other)g(group)f(is)h(those)f(with)299
1655 y(bac)n(kgrounds)25 b(in)j(logic)f(programming)e(languages)h(suc)n
(h)h(as)g(Prolog)f(who)h(are)f(lo)r(oking)h(for)g(a)299
1755 y(gen)n(uinely)32 b(declarativ)n(e)e(language)h(that)h(supp)r
(orts)g(the)h(creation)e(of)h(e\016cien)n(t)g(and)h(reliable)299
1855 y(soft)n(w)n(are)26 b(solutions)h(to)g(large)f(and)i(complex)f
(problems.)399 1954 y(Space)40 b(limitations)i(prev)n(en)n(t)e(us)i
(from)f(describing)f(the)i(whole)f(language.)76 b(This)41
b(sec-)299 2054 y(tion)d(giv)n(es)f(a)h(brief)g(o)n(v)n(erview)e(whic)n
(h)i(pro)n(vides)e(the)j(bac)n(kground)d(required)h(for)h(the)g(rest)
299 2154 y(of)45 b(the)g(pap)r(er;)53 b(sections)45 b(3.7)f(and)h(5.1)f
(in)n(tro)r(duce)g(some)h(further)g(asp)r(ects)f(of)h(the)g(lan-)299
2253 y(guage.)87 b(F)-7 b(or)45 b(more)f(information)g(ab)r(out)h
(Mercury)-7 b(,)48 b(see)d(the)g(Mercury)f(home)h(page)f(at)299
2353 y Fk(http://www.cs.mu)o(.o)o(z.a)o(u/)o(mer)o(cu)o(ry)o(/me)o(rc)o
(ury)o(.h)o(tm)o(l)p Fp(.)299 2619 y Fj(2.1.)49 b(T)-7
b(yp)i(es)299 2768 y Fp(Mercury's)19 b(t)n(yp)r(e)h(system)g(is)g
(based)f(on)h(a)f(p)r(olymorphic)h(man)n(y-sorted)e(logic.)33
b(It)21 b(is)f(essen)n(tially)299 2868 y(equiv)-5 b(alen)n(t)32
b(to)g(the)g(Mycroft-O'Keefe)f(t)n(yp)r(e)h(system)g([21],)h(and)f(v)n
(ery)f(similar)g(to)h(the)h(t)n(yp)r(e)299 2967 y(system)i(of)g(G\177)
-42 b(odel)35 b([14];)k(the)d(ma)5 b(jor)34 b(di\013erence)h(from)g
(G\177)-42 b(odel)35 b(is)g(that)h(Mercury)e(supp)r(orts)299
3067 y(higher-order)j(predicates)h(\(see)i(section)f(3.7\).)71
b(W)-7 b(e)40 b(b)r(orro)n(w)e(our)g(syn)n(tax)h(from)g(the)g(NU-)299
3166 y(Prolog)25 b([31])i(t)n(yp)r(e)h(c)n(hec)n(k)n(ers.)399
3266 y(The)f(basic)g(metho)r(d)h(of)g(de\014ning)f(t)n(yp)r(es)h(is)g
(with)g(declarations)e(suc)n(h)h(as)299 3424 y Fk(:-)43
b(type)f(bool)f(--->)h(true)g(;)i(false.)299 3523 y(:-)f(type)f
(list\(T\))e(--->)i([])h(;)g([T)g(|)g(list\(T\)].)399
3681 y Fp(Eac)n(h)29 b(of)i(these)g(declarations)e(in)n(tro)r(duces)h
(a)h(new)g(t)n(yp)r(e)g(and)g(lists)f(the)i(one)e(or)g(more)g(\(in)299
3781 y(these)40 b(cases)e(t)n(w)n(o\))h(function)i(sym)n(b)r(ols)e
(that)h(can)f(b)r(e)h(used)g(to)f(construct)g(terms)h(of)f(that)299
3880 y(t)n(yp)r(e.)68 b(\(W)-7 b(e)39 b(use)e(the)i(standard)e(logic)g
(programming)e(notation)j(for)f(lists.)68 b([])38 b(represen)n(ts)299
3980 y(nil,)h(the)e(empt)n(y)g(list,)i(and)e([H)g Fk(|)f
Fp(T])h(represen)n(ts)e(a)i(list)g(with)g(head)f(H)h(and)g(tail)g(T.\))
g(The)299 4080 y(argumen)n(ts)23 b(of)h(the)h(function)f(sym)n(b)r(ols)
g(are)f(t)n(yp)r(es.)36 b(These)24 b(t)n(yp)r(es)g(can)g(b)r(e)h
(de\014ned)f(an)n(ywhere)299 4179 y(in)29 b(the)h(program;)e(w)n(e)h
(allo)n(w)f(forw)n(ard)g(references)g(as)h(w)n(ell)g(as)f(\(m)n
(utually\))i(recursiv)n(e)e(t)n(yp)r(es.)299 4279 y(W)-7
b(e)35 b(supp)r(ort)g(parametric)e(p)r(olymorphism:)51
b(t)n(yp)r(e)35 b(declarations)f(ma)n(y)g(con)n(tain)g(references)299
4379 y(to)f(t)n(yp)r(e)h(v)-5 b(ariables)33 b(\(e.g.)55
b(T)33 b(is)h(a)f(t)n(yp)r(e)h(v)-5 b(ariable)32 b(in)i(list\(T\))h(ab)
r(o)n(v)n(e\).)54 b(T)-7 b(o)33 b(ensure)g(that)h(no)299
4478 y(run-time)e(t)n(yp)r(e)h(c)n(hec)n(king)e(is)i(needed,)h(w)n(e)e
(require)f(that)i(all)f(t)n(yp)r(e)h(v)-5 b(ariables)31
b(o)r(ccurring)g(on)299 4578 y(the)37 b(righ)n(t)f(hand)h(side)g(of)f
(a)h(t)n(yp)r(e)g(de\014nition)g(also)f(o)r(ccur)g(on)h(the)g(left)g
(hand)g(side.)64 b(\(This)299 4677 y(\\transparency")25
b(condition)i(is)h(the)f(same)h(as)e(in)i(G\177)-42 b(odel.\))399
4777 y(In)28 b(principle)g(all)h(t)n(yp)r(es)f(can)g(b)r(e)h(de\014ned)
g(just)g(lik)n(e)f(this,)h(but)g(in)f(practice)g(t)n(yp)r(es)g(suc)n(h)
g(as)299 4877 y(in)n(tegers)e(m)n(ust)i(b)r(e)g(built)g(in)n(to)g(the)g
(system.)399 4976 y(Since)c(w)n(e)h(need)f(a)h(strong)e(t)n(yp)r(e)i
(system)f(as)g(a)g(foundation)h(for)f(our)g(strong)f(mo)r(de)i(system,)
299 5076 y(the)g(compiler)f(m)n(ust)h(b)r(e)h(able)e(to)h(determine)g
(the)g(t)n(yp)r(e)g(of)g(ev)n(ery)f(v)-5 b(ariable.)34
b(W)-7 b(e)26 b(require)d(that)299 5176 y(the)i(t)n(yp)r(es)g(of)g(the)
h(argumen)n(ts)e(of)h(ev)n(ery)e(predicate)i(in)g(the)h(program)d(b)r
(e)i(declared,)g(lik)n(e)f(this:)1773 5325 y(4)p eop
%%Page: 5 5
5 4 bop 299 394 a Fk(:-)43 b(pred)f(permutation\(lis)o(t\(T)o(\),)37
b(list\(T\)\).)399 551 y Fp(The)c(compiler)f(then)i(automatically)e
(infers)h(the)h(t)n(yp)r(es)f(of)g(all)g(v)-5 b(ariables.)52
b(It)34 b(w)n(ould)e(b)r(e)299 651 y(p)r(ossible)24 b(for)g(the)h
(compiler)f(to)h(also)e(infer)i(the)g(t)n(yp)r(e)g(signatures)e(of)i
(predicates,)f(as)g(ML)h(do)r(es)299 751 y(for)31 b(functions.)51
b(Ho)n(w)n(ev)n(er,)32 b(the)g(absence)f(of)i(explicit)f(predicate)f(t)
n(yp)r(e)i(declarations)d(w)n(ould)299 850 y(mak)n(e)i(programs)e
(signi\014can)n(tly)h(harder)g(to)i(read)e(and)i(main)n(tain,)g(and)f
(this)h(con\015icts)f(with)299 950 y(our)c(ob)5 b(jectiv)n(e)29
b(of)g(making)g(Mercury)f(a)h(suitable)h(language)d(for)i(the)h(dev)n
(elopmen)n(t)f(of)g(large)299 1049 y(programs.)399 1149
y(F)-7 b(or)32 b(\014rst-order)f(Mercury)h(programs,)g(t)n(yp)r
(e-correctness)f(is)i(de\014ned)g(the)g(same)g(w)n(a)n(y)e(as)299
1249 y(in)i(G\177)-42 b(odel;)35 b(the)e(extension)f(to)g(higher-order)
f(programs)f(is)j(done)f(in)h(a)f(fairly)g(natural)g(w)n(a)n(y)-7
b(.)299 1348 y(Although)34 b(w)n(e)g(ha)n(v)n(e)g(not)g(y)n(et)g
(published)h(an)n(y)f(formal)f(mathematical)h(description)g(of)g(the)
299 1448 y(Mercury)19 b(t)n(yp)r(e)g(system,)j(a)d(reasonably)e
(detailed)j(description)f(can)h(b)r(e)g(found)g(in)g(the)g(Mercury)299
1548 y(Reference)38 b(Man)n(ual)f([10].)67 b(The)38 b(details)g(are)f
(not)h(imp)r(ortan)n(t)g(for)f(this)i(pap)r(er.)68 b(What)38
b(is)299 1647 y(imp)r(ortan)n(t)23 b(is)h(that)g(the)h(t)n(yp)r(e)f
(system)f(guaran)n(tees)f(that)i(t)n(yp)r(e-correct)f(programs)e(can)j
(nev)n(er)299 1747 y(\\go)k(wrong")g(at)i(run)n(time,)g(e.g.)43
b(b)n(y)29 b(passing)g(to)g(a)h(predicate)f(an)g(actual)g(parameter)f
(whose)299 1846 y(t)n(yp)r(e)k(is)f(not)g(an)g(instance)h(of)f(the)h(t)
n(yp)r(e)f(of)h(the)g(corresp)r(onding)d(formal)i(parameter.)47
b(Since)299 1946 y(the)28 b(compiler)g(rejects)g(programs)e(whic)n(h)i
(are)f(not)i(t)n(yp)r(e-correct,)d(the)j(execution)f(algorithm)299
2046 y(need)g(only)f(deal)g(with)h(t)n(yp)r(e-correct)e(programs.)399
2145 y(T)n(yp)r(e)21 b(systems)g(of)g(this)h(nature)f(ha)n(v)n(e)f(b)r
(een)i(the)f(sub)5 b(ject)22 b(of)f(m)n(uc)n(h)g(researc)n(h,)g(so)g(w)
n(e)g(omit)g(a)299 2245 y(description)h(of)h(the)g(t)n(yp)r(e)g(c)n
(hec)n(king)f(algorithm)g(and)h(refer)f(the)h(reader)f(to)g(pap)r(ers)h
(describing)299 2345 y(t)n(yp)r(e)28 b(c)n(hec)n(king)e(algorithms)g
(for)h(similar)g(t)n(yp)r(e)h(systems)f(\(see)h(e.g.)36
b([21,)13 b(23]\).)299 2610 y Fj(2.2.)49 b(Mo)-5 b(des)299
2760 y Fp(W)e(e)28 b(consider)e(the)i Fl(mo)l(de)34 b
Fp(of)27 b(a)g(predicate)g(as)g(a)f(mapping)h(from)g(the)h(initial)g
(state)f(of)g(instan-)299 2859 y(tiation)33 b(of)g(the)h(argumen)n(ts)e
(of)h(the)h(predicate)f(to)g(their)g(\014nal)g(state)g(of)h(instan)n
(tiation.)53 b(T)-7 b(o)299 2959 y(describ)r(e)32 b(states)g(of)g
(instan)n(tiation,)h(w)n(e)f(use)g(information)g(pro)n(vided)g(b)n(y)g
(the)g(t)n(yp)r(e)h(system.)299 3059 y(T)n(yp)r(es)21
b(can)f(b)r(e)i(view)n(ed)f(as)f(regular)f(trees)i(with)h(t)n(w)n(o)e
(kinds)h(of)g(no)r(des:)34 b(or-no)r(des)19 b(represen)n(ting)299
3158 y(t)n(yp)r(es)24 b(and)f(and-no)r(des)g(represen)n(ting)f
(function)i(sym)n(b)r(ols.)35 b(The)24 b(c)n(hildren)f(of)h(an)f(or-no)
r(de)g(are)299 3258 y(the)i(function)g(sym)n(b)r(ols)e(that)i(can)f(b)r
(e)g(used)h(to)f(construct)g(terms)g(of)g(that)h(t)n(yp)r(e;)g(the)g(c)
n(hildren)299 3357 y(of)31 b(an)f(and-no)r(de)h(are)f(the)h(t)n(yp)r
(es)g(of)g(the)g(argumen)n(ts)f(of)h(the)g(function)g(sym)n(b)r(ol.)47
b(F)-7 b(ollo)n(wing)299 3457 y([28],)27 b(w)n(e)g(attac)n(h)g(mo)r(de)
h(information)f(to)g(the)h(or-no)r(des)e(of)i(t)n(yp)r(e)f(trees.)399
3557 y(An)d Fl(instantiate)l(dness)i(tr)l(e)l(e)k Fp(is)24
b(an)f(assignmen)n(t)g(of)h(an)g Fl(instantiate)l(dness)30
b Fp(|)24 b(either)g Fl(fr)l(e)l(e)31 b Fp(or)299 3656
y Fl(b)l(ound)40 b Fp(|)31 b(to)g(eac)n(h)g(or-no)r(de)f(of)h(a)f(t)n
(yp)r(e)i(tree,)g(with)f(the)h(constrain)n(t)e(that)i(all)e(descendan)n
(ts)299 3756 y(of)d(a)h(free)f(no)r(de)h(m)n(ust)f(b)r(e)h(free.)399
3856 y(A)41 b(term)f(is)h Fl(appr)l(oximate)l(d)j(by)k
Fp(an)41 b(instan)n(tiatedness)f(tree)g(if)i(for)e(ev)n(ery)f(no)r(de)i
(in)g(the)299 3955 y(instan)n(tiatedness)27 b(tree,)440
4138 y Fo(\017)66 b Fp(if)36 b(the)g(no)r(de)f(is)h(\\free",)g(then)g
(the)g(corresp)r(onding)e(no)r(de)h(in)h(the)g(term)g(\(if)g(an)n(y\))f
(is)548 4237 y(a)i(free)g(v)-5 b(ariable)36 b(that)i(do)r(es)f(not)g
(share)f(with)i(an)n(y)f(other)g(v)-5 b(ariable)36 b(\(w)n(e)h(call)g
(suc)n(h)548 4337 y(v)-5 b(ariables)26 b Fl(distinct)8
b Fp(\);)440 4503 y Fo(\017)66 b Fp(if)29 b(the)g(no)r(de)g(is)g(\\b)r
(ound",)f(then)i(the)f(corresp)r(onding)d(no)r(de)j(in)g(the)g(term)g
(\(if)h(an)n(y\))e(is)548 4603 y(a)f(function)h(sym)n(b)r(ol.)399
4785 y(When)33 b(an)g(instan)n(tiatedness)g(tree)g(tells)g(us)g(that)h
(a)e(v)-5 b(ariable)33 b(is)g(b)r(ound,)i(there)e(ma)n(y)f(b)r(e)299
4885 y(sev)n(eral)24 b(alternativ)n(e)h(function)i(sym)n(b)r(ols)e(to)h
(whic)n(h)g(it)g(could)g(b)r(e)g(b)r(ound.)37 b(The)26
b(instan)n(tiated-)299 4985 y(ness)32 b(tree)h(do)r(es)f(not)h(tell)g
(us)g(whic)n(h)f(of)h(these)g(it)g(is)g(b)r(ound)g(to;)i(instead)e(for)
f(eac)n(h)g(p)r(ossible)299 5084 y(function)37 b(sym)n(b)r(ol)g(it)g
(tells)g(us)f(exactly)h(whic)n(h)f(argumen)n(ts)g(of)h(the)g(function)g
(sym)n(b)r(ol)g(will)1773 5325 y(5)p eop
%%Page: 6 6
6 5 bop 299 394 a Fp(b)r(e)32 b(free)f(and)h(whic)n(h)g(will)g(b)r(e)g
(b)r(ound.)49 b(The)32 b(same)f(principle)h(applies)f(recursiv)n(ely)f
(to)i(these)299 493 y(b)r(ound)c(argumen)n(ts.)399 593
y(Our)f(mo)r(de)h(system)f(allo)n(ws)g(users)g(to)g(declare)g(names)g
(for)h(instan)n(tiatedness)f(trees)g(using)299 692 y(declarations)f
(suc)n(h)h(as)299 850 y Fk(:-)43 b(inst)f(listskel)e(--->)i(bound\([])e
(;)j([free)f(|)h(listskel]\).)399 1008 y Fp(This)c(instan)n(tiatedness)
g(tree)g(describ)r(es)g(lists)h(whose)f(sk)n(eleton)g(is)g(kno)n(wn)g
(but)h(whose)299 1108 y(elemen)n(ts)31 b(are)e(distinct)j(v)-5
b(ariables.)45 b(As)31 b(suc)n(h,)g(it)h(appro)n(ximates)d(the)i(term)g
Fk([A,B])d Fp(but)k(not)299 1207 y(the)j(term)g Fk([H)43
b(|)g(T])35 b Fp(\(only)g(part)f(of)h(the)h(sk)n(eleton)e(is)h(kno)n
(wn\),)i(the)e(term)g Fk([A,2])f Fp(\(not)h(all)299 1307
y(elemen)n(ts)23 b(are)f(v)-5 b(ariables\),)24 b(or)e(the)i(term)f
Fk([A,A])e Fp(\(the)j(elemen)n(ts)f(are)f(not)i(distinct)g(v)-5
b(ariables\).)399 1406 y(As)33 b(a)g(shorthand,)g(our)g(mo)r(de)g
(system)g(pro)n(vides)f Fk(free)f Fp(and)i Fk(ground)e
Fp(as)h(names)h(for)g(in-)299 1506 y(stan)n(tiatedness)26
b(trees)g(all)h(of)g(whose)f(no)r(des)h(are)f(free)h(and)g(b)r(ound)g
(resp)r(ectiv)n(ely)-7 b(.)36 b(The)27 b(shap)r(e)299
1606 y(of)g(these)h(trees)f(is)h(determined)f(b)n(y)h(the)g(t)n(yp)r(e)
f(of)h(the)g(v)-5 b(ariable)27 b(to)g(whic)n(h)h(they)f(apply)-7
b(.)399 1705 y(As)29 b(execution)g(pro)r(ceeds,)g(v)-5
b(ariables)28 b(ma)n(y)h(b)r(ecome)g(more)g(instan)n(tiated.)42
b(A)30 b Fl(mo)l(de)i(map-)299 1805 y(ping)39 b Fp(is)32
b(a)f(mapping)g(from)g(an)g(initial)h(instan)n(tiatedness)f(tree)g(to)g
(a)g(\014nal)g(instan)n(tiatedness)299 1905 y(tree,)e(with)g(the)g
(constrain)n(t)f(that)h(no)g(no)r(de)g(of)g(the)g(t)n(yp)r(e)g(tree)f
(is)h(transformed)f(from)g(b)r(ound)299 2004 y(to)35
b(free.)59 b(Our)34 b(language)g(allo)n(ws)g(the)h(user)f(to)h(sp)r
(ecify)h(mo)r(de)f(mappings)g(directly)f(b)n(y)h(ex-)299
2104 y(pressions)24 b(suc)n(h)g(as)h Fk(inst1)41 b(->)i(inst2)p
Fp(,)24 b(or)g(to)h(giv)n(e)f(them)i(a)f(name)g(using)g(declarations)e
(suc)n(h)299 2203 y(as)299 2361 y Fk(:-)43 b(mode)f(out_listskel)c(::)
43 b(free)f(->)h(listskel.)299 2461 y(:-)g(mode)f(in_listskel)d(::)j
(listskel)f(->)h(listskel.)399 2619 y Fp(W)-7 b(e)18
b(pro)n(vide)g(t)n(w)n(o)g(standard)f(shorthand)h(mo)r(des)h(corresp)r
(onding)d(to)j(the)g(standard)e(notions)299 2718 y(of)27
b(inputs)i(and)e(outputs:)299 2876 y Fk(:-)43 b(mode)f(in)g(::)h
(ground)e(->)i(ground.)299 2976 y(:-)g(mode)f(out)g(::)h(free)f(->)g
(ground.)399 3133 y Fp(These)20 b(t)n(w)n(o)f(mo)r(des)i(are)e(enough)h
(for)g(the)h(v)-5 b(ast)20 b(ma)5 b(jorit)n(y)19 b(of)i(predicates)f
([6].)34 b(Nev)n(ertheless,)299 3233 y(Mercury's)k(mo)r(de)i(system)f
(is)h(su\016cien)n(tly)g(expressiv)n(e)d(to)j(handle)g(more)e(complex)i
(data-)299 3333 y(\015o)n(w)27 b(patterns,)h(including)h(those)f(in)n
(v)n(olving)e(partially)i(instan)n(tiated)g(data)f(structures.)38
b(F)-7 b(or)299 3432 y(example,)34 b(consider)e(an)h(in)n(terface)f(to)
h(a)g(database)f(that)h(asso)r(ciates)e(data)i(with)g(k)n(eys,)h(and)
299 3532 y(pro)n(vides)28 b(read)g(and)h(write)g(access)f(to)h(the)h
(items)f(it)h(stores.)41 b(T)-7 b(o)29 b(represen)n(t)f(accesses)f(to)i
(the)299 3631 y(database)d(o)n(v)n(er)g(a)h(net)n(w)n(ork,)f(one)i
(will)g(need)f(declarations)f(suc)n(h)h(as)299 3789 y
Fk(:-)43 b(type)f(operation)d(--->)996 3889 y(lookup\(key,)g(data\))j
(;)h(set\(key,)d(data\).)299 3988 y(:-)j(inst)f(request)e(--->)996
4088 y(bound\(lookup\(grou)o(nd)o(,)e(free\))j(;)i(set\(ground,)c
(ground\)\).)299 4188 y(:-)k(mode)f(create_request)37
b(::)43 b(free)f(->)h(request.)299 4287 y(:-)g(mode)f(satisfy_request)
37 b(::)43 b(request)d(->)j(ground.)399 4445 y Fp(A)36
b Fl(pr)l(e)l(dic)l(ate)j(mo)l(de)f(de)l(clar)l(ation)44
b Fp(assigns)34 b(a)i(mo)r(de)g(mapping)g(to)g(eac)n(h)f(argumen)n(t)g
(of)h(a)299 4545 y(predicate.)k(The)29 b(\(t)n(yp)r(e)g(and\))g(mo)r
(de)g(declarations)f(of)g(the)i(predicates)e(length)h(and)f(app)r(end)
299 4644 y(are)e(as)h(follo)n(ws:)299 4802 y Fk(:-)43
b(pred)f(length\(list\(T\),)37 b(int\).)299 4902 y(:-)43
b(mode)f(length\(in_lists)o(kel)o(,)37 b(out\).)299 5001
y(:-)43 b(mode)f(length\(out_list)o(ske)o(l,)37 b(in\).)1773
5325 y Fp(6)p eop
%%Page: 7 7
7 6 bop 299 394 a Fk(:-)43 b(pred)f(append\(list\(T\),)37
b(list\(T\),)j(list\(T\)\).)299 493 y(:-)j(mode)f(append\(in,)d(in,)j
(out\).)299 593 y(:-)h(mode)f(append\(out,)d(out,)j(in\).)399
751 y Fp(A)37 b(predicate)g(mo)r(de)g(declaration)f(is)h(an)g
(assertion)f(b)n(y)h(the)h(programmer)d(that)i(for)g(all)299
850 y(p)r(ossible)i(argumen)n(t)f(terms)h(for)g(the)h(predicate)e(that)
i(are)e(appro)n(ximated)g(b)n(y)h(the)h(initial)299 950
y(instan)n(tiatedness)32 b(trees)g(of)h(the)g(mo)r(de)f(declaration)g
(and)g(all)g(of)h(whose)f(free)g(v)-5 b(ariables)32 b(are)299
1049 y(distinct,)38 b(if)f(the)f(predicate)f(succeeds)g(then)h(the)g
(resulting)f(bindings)h(of)f(those)h(argumen)n(t)299
1149 y(terms)27 b(will)h(in)f(turn)h(b)r(e)f(appro)n(ximated)f(b)n(y)h
(the)h(\014nal)f(instan)n(tiatedness)g(trees)g(of)g(the)h(mo)r(de)299
1249 y(declaration)23 b(and)g(all)h(whose)g(free)f(v)-5
b(ariables)23 b(will)h(b)r(e)h(distinct.)36 b(W)-7 b(e)25
b(refer)e(to)h(suc)n(h)g(assertions)299 1348 y(as)38
b Fl(mo)l(de)j(de)l(clar)l(ation)h(c)l(onstr)l(aints)7
b Fp(.)70 b(These)39 b(assertions)e(are)h(c)n(hec)n(k)n(ed)g(b)n(y)h
(the)g(compiler,)299 1448 y(whic)n(h)31 b(rejects)g(programs)f(if)i(it)
g(cannot)f(pro)n(v)n(e)e(that)j(their)g(mo)r(de)f(declaration)f
(constrain)n(ts)299 1548 y(are)c(satis\014ed.)399 1647
y(F)-7 b(or)31 b(ev)n(ery)g(mo)r(de)h(of)h(a)e(predicate)h(in)g(whic)n
(h)h(a)e(no)r(de)i(is)f Fl(pr)l(o)l(duc)l(e)l(d)41 b
Fp(\(mapp)r(ed)33 b(from)f(free)299 1747 y(to)27 b(b)r(ound\))i(there)e
(is)h(another)e(mo)r(de)i(for)f(that)h(predicate)f(in)h(whic)n(h)g(the)
g(no)r(de)f(is)h Fl(c)l(onsume)l(d)299 1846 y Fp(\(mapp)r(ed)34
b(from)g(b)r(ound)g(to)g(b)r(ound\),)i(and)d(for)h(ev)n(ery)e(mo)r(de)i
(in)g(whic)n(h)g(a)f(no)r(de)h(is)g(ignored)299 1946
y(\(mapp)r(ed)23 b(from)f(free)g(to)g(free\))h(there)f(is)g(another)g
(mo)r(de)g(in)h(whic)n(h)f(the)h(no)r(de)f(is)g(mapp)r(ed)h(from)299
2046 y(b)r(ound)28 b(to)f(b)r(ound.)38 b(Suc)n(h)27 b(mo)r(des)h(are)e
(called)i Fl(implie)l(d)j(mo)l(des)7 b Fp(.)399 2145
y(The)32 b Fl(mo)l(de)j(set)41 b Fp(for)32 b(a)h(predicate)f(is)g(the)h
(set)g(of)g(mo)r(de)g(declarations)e(for)h(the)h(predicate)299
2245 y(plus)d(all)g(their)h(implied)g(mo)r(des.)45 b(A)31
b(mo)r(de)f(set)g(is)h(an)f(assertion)f(b)n(y)h(the)h(programmer)c
(that)299 2345 y(the)35 b(predicate)g(should)g(only)g(b)r(e)g(called)g
(with)h(argumen)n(t)e(terms)h(that)g(are)f(appro)n(ximated)299
2444 y(b)n(y)28 b(the)g(initial)g(instan)n(tiatedness)g(trees)f(of)h
(one)g(of)g(the)g(mo)r(de)g(declarations)f(in)h(the)g(set)g(\(i.e.)299
2544 y(the)g(sp)r(eci\014ed)f(mo)r(des)h(and)f(the)h(mo)r(des)f(they)g
(imply)h(are)f(the)g(only)g(allo)n(w)n(ed)f(mo)r(des)i(for)e(this)299
2643 y(predicate\).)50 b(W)-7 b(e)32 b(refer)f(to)h(the)g(assertion)f
(asso)r(ciated)g(with)h(a)g(mo)r(de)g(set)g(as)f(the)i
Fl(mo)l(de)h(set)299 2743 y(c)l(onstr)l(aint)8 b Fp(;)27
b(these)h(are)e(also)h(c)n(hec)n(k)n(ed)f(b)n(y)h(the)h(compiler.)399
2843 y(No)n(w)38 b(w)n(e)g(come)g(to)g(de\014ning)h Fl(wel)t(l-mo)l(de)
l(dness)7 b Fp(.)71 b(W)-7 b(e)39 b(w)n(an)n(t)f(to)h(reject)f
(programs)e(that)299 2942 y(violate)h(either)h(the)g(mo)r(de)g
(declaration)f(constrain)n(ts)f(or)i(the)g(mo)r(de)g(set)g(constrain)n
(ts.)67 b(In)299 3042 y(general,)32 b(this)g(is)g(undecidable.)49
b(W)-7 b(e)33 b(w)n(an)n(t)e(a)g(de\014nition)i(of)f(w)n(ell-mo)r
(dedness)f(that)h(is)g(easy)299 3142 y(for)e(the)h(compiler)g(to)f(c)n
(hec)n(k,)h(and)g(easy)f(for)g(programmers)e(to)j(understand.)46
b(Rather)31 b(than)299 3241 y(requiring)e(global)g(analysis)g(of)i(the)
f(en)n(tire)g(program,)f(determining)h(if)h(a)f(predicate)g(is)g(w)n
(ell-)299 3341 y(mo)r(ded)19 b(should)f(require)f(only)h(lo)r(cal)g
(analysis)g(using)g(the)h(de\014nition)g(of)f(the)h(predicate)f(and)g
(the)299 3440 y(mo)r(de)26 b(declarations)e(for)h(an)n(y)g(called)h
(predicates.)35 b(This)26 b(prompts)f(the)i(follo)n(wing)d
(de\014nition.)399 3540 y(A)36 b(predicate)g(p)h(is)f
Fl(wel)t(l-mo)l(de)l(d)j(with)g(r)l(esp)l(e)l(ct)e(to)h(a)g(given)h(mo)
l(de)f(de)l(clar)l(ation)45 b Fp(if)37 b(giv)n(en)299
3640 y(that)27 b(the)g(predicates)f(called)h(b)n(y)g(p)g(all)f(satisfy)
h(their)g(mo)r(de)g(declaration)e(constrain)n(ts,)h(there)299
3739 y(exists)h(an)g(ordering)f(of)i(the)g(literals)f(in)h(the)g
(de\014nition)g(of)f(p)h(suc)n(h)f(that)440 3922 y Fo(\017)66
b Fp(p)28 b(satis\014es)f(its)g(mo)r(de)h(declaration)e(constrain)n(t,)
h(and)440 4088 y Fo(\017)66 b Fp(p)28 b(satis\014es)f(the)h(mo)r(de)f
(set)h(constrain)n(t)e(of)i(all)f(of)h(the)g(predicates)e(it)i(calls)
399 4271 y(W)-7 b(e)27 b(sa)n(y)e(that)i(a)f(predicate)g(is)h(w)n
(ell-mo)r(ded)f(if)h(it)g(is)g(w)n(ell-mo)r(ded)f(with)h(resp)r(ect)f
(to)h(all)f(the)299 4370 y(mo)r(de)j(declarations)e(in)i(its)g(mo)r(de)
g(set,)h(and)e(w)n(e)h(sa)n(y)f(that)h(a)f(program)f(is)i(w)n(ell-mo)r
(ded)g(if)g(all)299 4470 y(its)f(predicates)e(are)h(w)n(ell-mo)r(ded.)
399 4570 y(In)k(Prolog)d(systems)j(that)g(ha)n(v)n(e)f(them,)i(mo)r(de)
f(declarations)e(are)h Fl(descriptive)p Fp(.)49 b(In)31
b(those)299 4669 y(systems,)f(their)h(equiv)-5 b(alen)n(t)30
b(of)g(an)g(\\in")g(mo)r(de)g(states)g(that)g(when)h(execution)f(arriv)
n(es)e(at)i(a)299 4769 y(call)e(to)g(this)h(predicate)f(using)g(the)g
(usual)g(left-to-righ)n(t)g(computation)g(rule,)g(this)h(argumen)n(t)
299 4868 y(will)36 b(b)r(e)g(b)r(ound.)62 b(If)36 b(in)h(some)e(call)g
(the)i(argumen)n(t)d(is)i(not)g(b)r(ound,)i(the)e(program)e(usually)299
4968 y(dumps)27 b(core.)36 b(In)27 b(Mercury)-7 b(,)26
b(mo)r(de)h(declarations)f(are)g Fl(pr)l(escriptive)p
Fp(.)38 b(An)28 b(\\in")e(mo)r(de)h(means)299 5068 y(that)21
b(the)g(compiler)e(m)n(ust)i(mak)n(e)f(sure)g(that)g(the)h(argumen)n(t)
f(is)g(b)r(ound)h(at)f(all)h(calls,)g(reordering)299
5167 y(some)h(conjunctions)g(of)g(the)h(program)d(if)j(necessary)-7
b(,)21 b(and)h(if)h(it)g(cannot)f(do)g(so,)g(it)h(m)n(ust)g(rep)r(ort)
1773 5325 y(7)p eop
%%Page: 8 8
8 7 bop 299 394 a Fp(a)25 b(mo)r(de)i(error.)34 b(Therefore)25
b(Mercury)g(mo)r(des)h(are)f(declarativ)n(e)f(in)i(a)g(pragmatic)e
(sense;)j(they)299 493 y(giv)n(e)k(design-lev)n(el)f(information,)i
(i.e.)50 b(whic)n(h)31 b(argumen)n(ts)g(are)f(should)i(b)r(e)g
(computed)g(from)299 593 y(whic)n(h)27 b(other)g(argumen)n(ts.)399
692 y(The)33 b(usual)f(de\014nition)i(of)f(app)r(end)g(is)h(not)f(w)n
(ell)g(mo)r(ded)g(with)h(resp)r(ect)e(to)h(declarations)299
792 y(suc)n(h)27 b(as)299 950 y Fk(:-)43 b(mode)f(append\(in_lists)o
(kel)o(,)37 b(in_listskel,)i(out_listskel\).)399 1108
y Fp(b)r(ecause)21 b(when)h(a)f(call)h(to)g(app)r(end)g(in)g(this)g(mo)
r(de)g(succeeds,)h(it)f(establishes)f(links)h(b)r(et)n(w)n(een)299
1207 y(the)e(elemen)n(ts)f(of)h(the)g(third)g(list)g(and)f(the)h
(elemen)n(ts)g(of)f(the)h(other)f(t)n(w)n(o)g(lists,)i(and)f(this)g
(violates)299 1307 y(the)k(\\free)e(v)-5 b(ariables)23
b(m)n(ust)g(b)r(e)h(distinct")g(part)f(of)g(the)h(mo)r(de)g
(declaration)e(constrain)n(t.)34 b(Some)299 1406 y(programs)16
b(\(e.g.)34 b(serialise\))17 b(cannot)h(b)r(e)h(w)n(ell)f(mo)r(ded)g
(without)h(b)r(eing)g(rewritten)f(b)r(ecause)g(they)299
1506 y(dep)r(end)34 b(on)g(suc)n(h)f(links)h(in)f(an)h(essen)n(tial)f
(w)n(a)n(y)-7 b(.)54 b(Others)32 b(\(e.g.)55 b(the)34
b(zebra)f(puzzle\))h(cannot)299 1606 y(b)r(e)i(w)n(ell)f(mo)r(ded)h(b)r
(ecause)f(di\013eren)n(t)h(solutions)e(to)i(a)f(call)g(lea)n(v)n(e)f
(the)i(call's)f(argumen)n(ts)f(in)299 1705 y(di\013eren)n(t)29
b(states)f(of)h(instan)n(tiation.)40 b(Ho)n(w)n(ev)n(er,)27
b(most)h(logic)g(programs)f(can)h(b)r(e)h(w)n(ell)g(mo)r(ded)299
1805 y(ev)n(en)e(with)h(a)f(signi\014can)n(tly)g(less)g(expressiv)n(e)f
(mo)r(de)i(system)f(than)h(ours)e([6].)399 1905 y(The)18
b(b)r(o)r(dies)i(of)e(clauses)g(in)i(Mercury)e(ma)n(y)g(con)n(tain)g
(negations,)i(disjunctions)f(and)f(if-then-)299 2004
y(elses;)28 b(the)h(compiler)f(con)n(v)n(erts)e(an)n(y)i(predicate)g
(de\014nition)h(with)g(t)n(w)n(o)e(or)h(more)g(clauses)f(in)n(to)299
2104 y(a)c(single)f(clause)g(with)i(an)f(explicit)g(disjunction.)36
b(The)23 b(t)n(yp)r(e)g(and)g(mo)r(de)g(analysis)f(algorithms)299
2203 y(w)n(ork)h(with)i(suc)n(h)f(ric)n(h)g(clauses)g(that)h(ha)n(v)n
(e)e(b)r(een)i(con)n(v)n(erted)e(in)n(to)i Fl(sup)l(erhomo)l(gene)l
(ous)i(form)6 b Fp(,)299 2303 y(where)27 b(eac)n(h)g(atom)g(is)g(of)h
(one)f(of)h(the)g(forms)548 2486 y Fk(p\(X)680 2498 y
Fi(1)716 2486 y Fk(,)43 b(...,)f(X)1065 2498 y Fh(n)1110
2486 y Fk(\))548 2585 y(Y)h(=)g(X)548 2685 y(Y)g(=)g(f\(X)854
2697 y Fi(1)890 2685 y Fk(,)g(...,)f(X)1239 2697 y Fh(n)1284
2685 y Fk(\))399 2868 y Fp(An)n(y)30 b(clause)g(can)g(b)r(e)h(con)n(v)n
(erted)f(to)g(sup)r(erhomogeneous)f(form)h(b)n(y)g(replacing)g(with)h
(dis-)299 2967 y(tinct)20 b(v)-5 b(ariables)17 b(the)i(argumen)n(ts)f
(in)h(the)h(head)e(and)h(in)g(calls)f(in)i(the)f(b)r(o)r(dy)-7
b(,)21 b(generating)c(explicit)299 3067 y(uni\014cations)24
b(for)g(these)g(v)-5 b(ariables)23 b(in)i(the)g(b)r(o)r(dy)-7
b(,)25 b(and)f(then)h(breaking)e(complex)h(uni\014cations)299
3166 y(do)n(wn)j(in)n(to)g(sev)n(eral)f(simpler)h(ones.)399
3266 y(The)35 b(mo)r(de)g(analysis)e(algorithm)h(c)n(hec)n(ks)g(one)g
(mo)r(de)i(of)e(one)h(predicate)f(at)h(a)g(time.)59 b(It)299
3366 y(abstractly)30 b(in)n(terprets)g(the)h(de\014nition)g(of)g(the)g
(predicate,)g(k)n(eeping)f(trac)n(k)g(of)h(the)g(instan)n(ti-)299
3465 y(atedness)c(of)g(eac)n(h)g(v)-5 b(ariable,)26 b(and)i(selecting)f
(a)g(mo)r(de)g(for)g(eac)n(h)g(call)g(and)g(uni\014cation)h(in)f(the)
299 3565 y(de\014nition.)35 b(T)-7 b(o)21 b(ensure)g(that)h(the)g(mo)r
(de)g(set)f(constrain)n(ts)f(of)i(called)f(predicates)g(are)f
(satis\014ed,)299 3665 y(it)33 b(ma)n(y)e(reorder)f(the)j(elemen)n(ts)f
(of)g(conjunctions;)j(it)d(rep)r(orts)g(an)f(error)g(if)h(no)g
(satisfactory)299 3764 y(order)25 b(exists.)36 b(Finally)27
b(it)g(c)n(hec)n(ks)e(that)i(the)g(resulting)f(instan)n(tiatedness)g
(of)h(the)g(predicate's)299 3864 y(argumen)n(ts)j(is)h(the)h(same)e(as)
h(the)h(one)f(giv)n(en)f(b)n(y)h(the)h(predicate's)e(mo)r(de)i
(declaration.)46 b(F)-7 b(or)299 3963 y(further)27 b(details)h(w)n(e)f
(refer)g(the)h(reader)e(to)h([13,)13 b(27,)g(28].)399
4063 y(The)32 b(mo)r(de)g(analysis)f(algorithm)g(annotates)g(eac)n(h)g
(call)h(with)h(the)f(mo)r(de)g(used.)51 b(This)32 b(is)299
4163 y(necessary)i(b)r(ecause)i(our)f(implemen)n(tation)h(generates)f
(separate)f(co)r(de)i(for)f(eac)n(h)h(mo)r(de)g(of)299
4262 y(eac)n(h)c(predicate,)i(and)f(therefore)f(the)h(co)r(de)g
(generated)f(for)h(a)f(call)h(dep)r(ends)g(on)g(the)h(mo)r(de)299
4362 y(in)i(whic)n(h)g(the)h(predicate)e(is)h(b)r(eing)g(called.)62
b(In)36 b(fact,)j(after)c(mo)r(de)i(analysis,)g(the)f(v)-5
b(arious)299 4462 y(mo)r(des)30 b(of)f(a)h(predicate)f(are)g(treated)g
(completely)h(indep)r(enden)n(tly)-7 b(.)44 b(W)-7 b(e)30
b(call)g(eac)n(h)f(mo)r(de)h(of)299 4561 y(a)d(predicate)g(a)g
Fl(pr)l(o)l(c)l(e)l(dur)l(e)p Fp(.)399 4661 y(W)-7 b(e)25
b(generate)f(inline)i(co)r(de)f(for)g(some)g(built-ins)h(suc)n(h)f(as)f
(the)i(arithmetic)f(predicates)g(and)299 4760 y(for)i(certain)g
(instances)g(of)h(uni\014cation.)36 b(These)28 b(instances)f(are:)440
4943 y Fo(\017)66 b Fp(instances)25 b(of)g Fk(Y)43 b(=)g(X)25
b Fp(where)g(one)g(of)g(X)h(and)f(Y)h(is)f(input,)i(i.e.)36
b(has)25 b(the)h(mo)r(de)f Fk(ground)548 5043 y(->)43
b(ground)p Fp(,)21 b(while)i(the)g(other)f(is)h(output,)h(i.e.)36
b(has)22 b(the)h(mo)r(de)g Fk(free)42 b(->)g(ground)p
Fp(;)22 b(in)548 5142 y(the)f(rest)f(of)g(the)h(pap)r(er)f(w)n(e)g
(indicate)g(suc)n(h)g Fl(assignment)j(uni\014c)l(ations)d
Fp(as)g(e.g.)34 b Fk(Y)43 b(:=)g(X)p Fp(.)1773 5325 y(8)p
eop
%%Page: 9 9
9 8 bop 440 394 a Fo(\017)66 b Fp(instances)24 b(of)h
Fk(Y)43 b(=)g(X)24 b Fp(where)g(b)r(oth)h(X)g(and)g(Y)g(are)e(input)j
(and)e(of)h(atomic)f(t)n(yp)r(e;)i(in)e(the)548 493 y(rest)j(of)h(the)g
(pap)r(er)f(w)n(e)g(indicate)h(suc)n(h)f Fl(test)i(uni\014c)l(ations)e
Fp(as)g(e.g.)37 b Fk(Y)43 b(==)g(X)p Fp(.)440 659 y Fo(\017)66
b Fp(instances)27 b(of)g Fk(Y)43 b(=)g(f\(X)1304 671
y Fi(1)1340 659 y Fk(,)g(...,)f(X)1689 671 y Fh(n)1734
659 y Fk(\))27 b Fp(where)f(Y)i(is)f(output)g(and)g(the)h(X)2854
671 y Fh(i)2882 659 y Fp(s)f(are)f(either)548 759 y(input)d(or)e(v)n
(oid)h(\(i.e.)35 b(this)23 b(is)f(their)g(only)g(app)r(earance)f(in)h
(the)h(predicate\);)h(w)n(e)e(indicate)548 858 y(suc)n(h)27
b Fl(c)l(onstruction)i(uni\014c)l(ations)f Fp(as)f Fk(Y)43
b(:=)g(f\(X)2105 870 y Fi(1)2141 858 y Fk(,)g(...,)f(X)2490
870 y Fh(n)2535 858 y Fk(\))p Fp(.)440 1024 y Fo(\017)66
b Fp(instances)22 b(of)h Fk(Y)43 b(=)g(f\(X)1295 1036
y Fi(1)1331 1024 y Fk(,)g(...,)f(X)1680 1036 y Fh(n)1725
1024 y Fk(\))22 b Fp(where)g(Y)h(is)g(input)g(and)f(the)h(X)2762
1036 y Fh(i)2813 1024 y Fp(are)f(output)h(or)548 1124
y(v)n(oid;)h(w)n(e)f(indicate)g(suc)n(h)g Fl(de)l(c)l(onstruction)j
(uni\014c)l(ations)d Fp(as)f Fk(Y)43 b(==)g(f\(X)2791
1136 y Fi(1)2827 1124 y Fk(,)g(...,)f(X)3176 1136 y Fh(n)3221
1124 y Fk(\))p Fp(.)399 1307 y(\(These)24 b(classi\014cations)f(are)g
(similar)h(to)g(the)h(ones)f(used)g(in)h([16].\))35 b(F)-7
b(or)24 b(other)g(instances)g(of)299 1406 y(uni\014cation)k(w)n(e)h
(call)f(an)g(out-of-line)g(pro)r(cedure)g(whose)g(co)r(de)g(is)g
(automatically)g(generated)299 1506 y(from)i(the)h(t)n(yp)r(e)g(of)g
(the)g(argumen)n(ts.)45 b(F)-7 b(or)30 b(example,)i(to)e(test)h
(whether)g(t)n(w)n(o)f(lists)h(are)e(equal)299 1606 y(w)n(e)e(call)g(a)
g(predicate)g(suc)n(h)h(as)299 1763 y Fk(unify_list_t\(A,)37
b(B\))43 b(:-)430 1863 y(A)g(=)g([],)430 1963 y(B)g(=)g([].)299
2062 y(unify_list_t\(A,)37 b(B\))43 b(:-)430 2162 y(A)g(=)g([AH)f(|)h
(AT],)430 2262 y(B)g(=)g([BH)f(|)h(BT],)430 2361 y(unify_t\(AH,)c
(BH\),)430 2461 y(unify_list_t\(AT)o(,)f(BT\).)399 2619
y Fp(The)29 b(predicate)g(w)n(e)g(call)g(to)g(unify)h(AH)g(and)f(BH)h
(dep)r(ends)f(on)g(their)h(t)n(yp)r(e,)g(whic)n(h)f(is)g(the)299
2718 y(t)n(yp)r(e)h(of)g(the)h(elemen)n(ts)f(of)g(A)h(and)f(B.)g(W)-7
b(e)31 b(can)e(implemen)n(t)i(p)r(olymorphic)f(predicates)f(suc)n(h)299
2818 y(as)37 b(lo)r(okups)g(on)h(asso)r(ciation)e(lists)i(either)f(b)n
(y)h(generating)e(separate)h(co)r(de)g(for)h(eac)n(h)f(t)n(yp)r(e)299
2917 y(they)e(are)g(used)g(with)h(or)f(b)n(y)g(generating)f(one)h
(piece)g(of)g(co)r(de)h(that)f(tak)n(es)g(the)h(address)e(of)299
3017 y(a)i(uni\014cation)g(routine)g(as)f(a)h(hidden)g(parameter.)62
b(The)36 b(co)r(de)g(for)g(the)g(second)g(approac)n(h)299
3117 y(w)n(ould)d(call)f(the)i(pro)r(cedure)e(iden)n(ti\014ed)h(b)n(y)g
(this)h(hidden)f(parameter)f(instead)h(of)g Fk(unify)p
3197 3117 27 4 v 29 w(t)p Fp(.)299 3216 y(Our)27 b(execution)g(mo)r
(del)h(allo)n(ws)e(b)r(oth)i(approac)n(hes;)d(see)j(section)f(3.8.)399
3316 y(W)-7 b(e)26 b(can)f(generalize)g(this)h(idea)g(to)g(the)g
(notion)g(of)g(p)r(olymorphic)f(mo)r(des.)36 b(Other)25
b(general-)299 3416 y(izations)i(include)h(the)g(notions)f(of)h
(circular)e(mo)r(des)h(and)h(of)f(mo)r(de)h(segmen)n(ts.)36
b(As)28 b(these)g(are)299 3515 y(b)r(ey)n(ond)f(the)h(scop)r(e)f(of)h
(this)g(pap)r(er,)f(w)n(e)g(refer)g(the)h(in)n(terested)f(reader)f(to)i
([13,)13 b(27,)g(28].)299 3781 y Fj(2.3.)49 b(Determinism)299
3930 y Fp(F)-7 b(or)23 b(eac)n(h)g(mo)r(de)h(of)g(a)f(predicate,)h(the)
g(programmer)d(should)j(categorise)e(that)i(mo)r(de)g(accord-)299
4030 y(ing)30 b(to)g(the)h(maxim)n(um)g(n)n(um)n(b)r(er)f(of)g
(solutions)g(it)h(can)f(pro)r(duce)g(\(zero,)h(one,)f(or)g(more)g(than)
299 4130 y(one\))d(and)h(whether)f(or)g(not)h(it)g(can)f(fail)g(b)r
(efore)h(pro)r(ducing)f(its)h(\014rst)f(solution:)440
4312 y Fo(\017)66 b Fp(If)23 b(all)f(calls)f(to)i(a)e(particular)g(mo)r
(de)i(of)f(a)g(predicate)g(ha)n(v)n(e)f(exactly)g(one)h(solution,)h
(then)548 4412 y(that)28 b(mo)r(de)g(of)f(the)h(predicate)f(is)h
Fl(deterministic)33 b Fp(\()p Fk(det)p Fp(\).)440 4578
y Fo(\017)66 b Fp(If)37 b(all)e(calls)h(to)g(a)g(particular)f(mo)r(de)h
(of)g(a)g(predicate)f(ha)n(v)n(e)g(at)h(most)g(one)g(solution)548
4677 y(but)g(ma)n(y)e(ha)n(v)n(e)g(none,)i(then)g(that)f(mo)r(de)g(of)g
(the)h(predicate)e(is)h Fl(semideterministic)548 4777
y Fp(\()p Fk(semidet)p Fp(\).)440 4943 y Fo(\017)66 b
Fp(If)26 b(all)g(calls)g(to)g(a)f(particular)g(mo)r(de)h(of)g(a)g
(predicate)f(ha)n(v)n(e)g(at)h(least)g(one)g(solution)f(but)548
5043 y(ma)n(y)i(ha)n(v)n(e)f(more,)h(then)h(that)g(mo)r(de)g(of)f(the)h
(predicate)f(is)h Fl(multisolution)34 b Fp(\()p Fk(multi)p
Fp(\).)1773 5325 y(9)p eop
%%Page: 10 10
10 9 bop 440 394 a Fo(\017)66 b Fp(If)28 b(some)f(calls)g(to)g(a)h
(particular)e(mo)r(de)i(of)f(a)g(predicate)g(ha)n(v)n(e)g(no)g
(solution)g(but)h(other)548 493 y(calls)i(ma)n(y)h(ha)n(v)n(e)f(more)g
(than)h(one)g(solution,)h(then)f(that)h(mo)r(de)f(of)g(the)g(predicate)
g(is)548 593 y Fl(nondeterministic)i Fp(\()p Fk(nondet)p
Fp(\).)440 759 y Fo(\017)66 b Fp(If)24 b(calls)e(to)i(a)e(particular)g
(mo)r(de)i(of)f(a)g(predicate)g(cannot)f(succeed)h(but)h(ma)n(y)f
(fail,)h(then)548 858 y(that)k(mo)r(de)g(of)f(the)h(predicate)f(has)g
(a)g(determinism)h(of)g Fk(failure)p Fp(.)440 1024 y
Fo(\017)66 b Fp(If)29 b(calls)e(to)h(a)g(particular)f(mo)r(de)i(of)f(a)
g(predicate)f(can)h(neither)h(fail)f(nor)f(succeed)h(\(i.e.)548
1124 y(they)35 b(either)g(lo)r(op)g(forev)n(er)e(or)i(ab)r(ort\),)h
(then)g(that)f(mo)r(de)h(of)f(the)g(predicate)g(has)f(a)548
1224 y(determinism)28 b(of)f Fk(erroneous)p Fp(.)399
1406 y(The)g(last)g(t)n(w)n(o)g(are)g(rarely)f(used.)399
1506 y(Whenev)n(er)34 b(the)i(programmer)d(declares)i(a)g(mo)r(de)g
(for)g(a)h(predicate,)h(Mercury)d(requires)299 1606 y(that)f(the)f
(declaration)f(also)h(state)g(the)g(determinism)h(of)f(that)h(mo)r(de.)
51 b(F)-7 b(or)32 b(example,)h(here)299 1705 y(are)26
b(the)i(declarations)e(of)i(the)g(predicate)f(mem)n(b)r(er/2.)299
1863 y Fk(:-)43 b(pred)f(member\(T,)d(list\(T\)\).)299
1963 y(:-)k(mode)f(member\(out,)d(in\))j(is)h(nondet.)299
2062 y(:-)g(mode)f(member\(in,)d(in\))j(is)h(semidet.)399
2220 y Fp(The)18 b(compiler)g(analyses)f(the)h(b)r(o)r(dies)h(of)f
(predicates)g(to)g(c)n(hec)n(k)g(that)h(their)f(declarations)f(are)299
2320 y(correct.)35 b(Although)28 b(this)f(problem)g(is)g(undecidable)g
(in)h(general,)e(sev)n(eral)f(fast)i(appro)n(ximate)299
2419 y(solutions)d(are)g(kno)n(wn)h([5,)13 b(26,)g(27],)25
b(and)g(they)g(w)n(ork)f(w)n(ell)h(in)g(practice.)36
b(The)25 b(algorithm)f(m)n(ust)299 2519 y(b)r(e)36 b(conserv)-5
b(ativ)n(e;)38 b(it)f(m)n(ust)f(nev)n(er)f(underestimate)g(the)h(maxim)
n(um)g(n)n(um)n(b)r(er)g(of)f(solutions)299 2619 y(of)c(a)f(predicate,)
h(and)g(it)g(m)n(ust)g(nev)n(er)f(rep)r(ort)g(that)h(a)g(pro)r(cedure)f
(alw)n(a)n(ys)f(has)h(at)h(least)f(one)299 2718 y(solution)d(if)h(it)g
(can)f(fail)h(without)g(pro)r(ducing)f(a)g(solution.)399
2818 y(Our)k(algorithm)h([12])f(lo)r(oks)h(for)g(disjunctions)g(in)h
(whic)n(h)f(all)h(arms)e(con)n(tain)h(a)g(test)h(uni-)299
2917 y(\014cation)d(of)g(the)g(same)g(v)-5 b(ariable)29
b(against)g(di\013eren)n(t)h(function)h(sym)n(b)r(ols.)44
b(W)-7 b(e)30 b(call)g(suc)n(h)g(dis-)299 3017 y(junctions)d
Fl(switches)p Fp(,)h(since)e(only)g(one)h(arm)e(of)i(the)g(disjunction)
g(can)f(p)r(ossibly)h(b)r(e)g(executed.)299 3117 y(If)g(some)f(arms)g
(of)g(a)h(switc)n(h)f(con)n(tain)g(further)h(disjunctions,)g(the)g
(compiler)f(will)h(try)f(to)h(turn)299 3216 y(them)34
b(in)n(to)g(switc)n(hes)f(to)r(o.)56 b(Because)32 b(it)j(w)n(orks)d
(with)i(disjunctions)g(and)g(not)g(clauses,)h(our)299
3316 y(algorithm)20 b(for)g(detecting)h(switc)n(hes)g(is)g(not)g
(a\013ected)g(b)n(y)g(programmers)d(mo)n(ving)i(uni\014cations)299
3416 y(in)n(to)27 b(or)g(out)h(of)f(clause)g(heads.)399
3515 y(Our)k(determinism)h(analysis)f(algorithm)g(also)g(lo)r(oks)g
(for)g(goals)g(whic)n(h)h(ha)n(v)n(e)e(no)i(output)299
3615 y(v)-5 b(ariables,)22 b(or)g(whose)g(output)h(v)-5
b(ariables)22 b(are)g(all)g(lo)r(cally)g(existen)n(tially)g(quan)n
(ti\014ed;)i(the)f(com-)299 3714 y(piler)j(ensures)g(that)g(suc)n(h)g
(goals)f(will)i(succeed)f(at)g(most)g(once.)36 b(Mercury)26
b(do)r(es)g(not)g(ha)n(v)n(e)f(\(or)299 3814 y(need\))j(an)n(y)f
(non-logical)e(explicit)j(pruning)g(constructs.)399 3914
y(Determinism)g(is)f(a)g(declarativ)n(e)f(concept.)37
b(The)28 b(declaration)299 4071 y Fk(:-)43 b(pred)f(max\(int::in,)c
(int::in,)i(int:out\))h(is)h(det.)299 4229 y Fp(states)27
b(that)h(for)f(an)n(y)g(com)n(bination)g(of)g(v)-5 b(alues)27
b(of)h(X)g(and)f(Y,)h(there)g(is)f(exactly)g(one)g(v)-5
b(alue)28 b(of)299 4329 y(Max)k(for)g(whic)n(h)g(max\(X,)h(Y,)g(Max\))f
(is)g(true.)52 b(\(This)33 b(example)f(sho)n(ws)f(that)i(the)g(pred)f
(and)299 4428 y(mo)r(de)c(declarations)d(can)j(b)r(e)g(coalesced)e(if)i
(a)f(predicate)g(has)g(only)g(one)g(mo)r(de,)h(whic)n(h)g(is)f(fre-)299
4528 y(quen)n(tly)h(the)h(case.\))38 b(Ho)n(w)n(ev)n(er,)27
b(the)h(compiler's)g(co)r(de)g(generator)e(w)n(an)n(ts)h(to)h(kno)n(w)g
(whether)299 4628 y(calls)j(to)h(max)g(can)f(succeed)h(more)f(than)h
(once,)h(whic)n(h)f(is)g(a)f(subtly)i(di\013eren)n(t)f(concept.)50
b(In)299 4727 y(most)34 b(cases,)h(this)f(con\015ict)g(is)h(a)n(v)n
(oided)d(b)n(y)i(the)h(determinism)f(analysis)f(algorithm)g(of)h(the)
299 4827 y(compiler,)i(whic)n(h)f(transforms)f(the)h(in)n(ternal)g
(form)f(of)h(the)h(program)d(so)h(that)i(the)f(declar-)299
4927 y(ativ)n(e)h(and)g(pro)r(cedural)f(in)n(terpretations)g(will)i
(agree.)61 b(In)37 b(the)f(remaining)g(cases,)h(suc)n(h)f(as)299
5026 y(the)c(de\014nition)h(b)r(elo)n(w,)g(where)e(the)i(algorithm)e
(is)h(not)g(smart)f(enough)h(to)g(p)r(erform)f(suc)n(h)h(a)299
5126 y(transformation,)1752 5325 y(10)p eop
%%Page: 11 11
11 10 bop 299 394 a Fk(max\(X,)41 b(Y,)i(X\))f(:-)648
493 y(X)h(>=)f(Y.)299 593 y(max\(X,)f(Y,)i(Y\))f(:-)648
692 y(X)h(<)g(Y.)299 850 y Fp(the)32 b(compiler)f(rep)r(orts)g(an)g
(error,)g(and)h(the)g(programmer)d(m)n(ust)j(either)f(use)h(a)f(less)h
(precise)299 950 y(determinism)23 b(declaration,)g(or)f(mo)r(dify)i
(the)g(program)d(to)i(a)n(v)n(oid)f(the)i(con\015ict)f(\(e.g.)35
b(b)n(y)23 b(using)299 1049 y(an)k(if-then-else\).)399
1149 y(Our)36 b(curren)n(t)g(compiler)g(needs)h(determinism)g
(declarations)e(only)i(for)f(exp)r(orted)g(pred-)299
1249 y(icates;)42 b(it)c(can)f(\(and)g(do)r(es\))h(infer)f(the)h
(determinism)g(of)f(predicates)g(lo)r(cal)g(to)g(a)g(mo)r(dule.)299
1348 y(Ho)n(w)n(ev)n(er,)25 b(there)h(is)g(no)h(adv)-5
b(an)n(tage)25 b(in)h(making)g(them)h(optional,)f(since)h(determinism)g
(decla-)299 1448 y(rations)c(are)h(not)h(only)f(v)n(ery)f(easy)h(to)h
(write,)g(they)g(pro)n(vide)e(imp)r(ortan)n(t)i(do)r(cumen)n(tation)f
(and)299 1548 y(help)29 b(the)f(compiler)g(to)g(pinp)r(oin)n(t)h(quite)
g(a)f(signi\014can)n(t)f(n)n(um)n(b)r(er)h(of)h(program)d(errors.)37
b(These)299 1647 y(errors,)g(e.g.)64 b(the)37 b(failure)f(of)h(a)g
(call)f(that)h(w)n(as)f(in)n(tended)h(to)g(succeed,)i(are)c(v)n(ery)h
(di\016cult)299 1747 y(to)h(debug)g(using)g(con)n(v)n(en)n(tional)e
(metho)r(ds,)40 b(since)e(the)f(failure)g(ma)n(y)g(b)r(e)g
Fl(anywher)l(e)i Fp(in)e(the)299 1846 y(call-tree)26
b(of)i(the)g(called)f(predicate,)g(and)h(this)g(can)f(b)r(e)h(a)f(v)n
(ery)f(large)g(amoun)n(t)i(of)f(co)r(de.)299 2112 y Fj(2.4.)49
b(Mo)-5 b(dules)299 2262 y Fp(The)37 b(Mercury)g(mo)r(dule)h(system)f
(is)h(simple)f(and)h(straigh)n(tforw)n(ard.)63 b(Eac)n(h)37
b(mo)r(dule)h(m)n(ust)299 2361 y(start)22 b(with)i(a)e
Fk(module)f Fp(declaration,)i(sp)r(ecifying)g(the)g(name)g(of)g(the)g
(mo)r(dule.)36 b(An)23 b Fk(interface)299 2461 y Fp(declaration)32
b(sp)r(eci\014es)i(the)g(start)f(of)g(the)h(mo)r(dule's)g(in)n(terface)
f(section:)48 b(this)34 b(section)f(con-)299 2560 y(tains)26
b(declarations)e(for)i(the)g(t)n(yp)r(es,)h(function)f(sym)n(b)r(ols,)g
(instan)n(tiation)g(states,)g(mo)r(des,)g(and)299 2660
y(predicates)32 b(exp)r(orted)h(b)n(y)g(this)g(mo)r(dule.)54
b(Mercury)33 b(pro)n(vides)e(supp)r(ort)i(for)g(abstract)f(data)299
2760 y(t)n(yp)r(es,)d(since)f(the)h(de\014nition)f(of)h(a)f(t)n(yp)r(e)
g(ma)n(y)g(b)r(e)h(k)n(ept)f(hidden,)i(with)e(only)h(the)f(t)n(yp)r(e)h
(name)299 2859 y(b)r(eing)36 b(exp)r(orted.)60 b(An)36
b Fk(implementation)30 b Fp(declaration)k(sp)r(eci\014es)h(the)h(start)
f(of)h(the)g(mo)r(d-)299 2959 y(ule's)29 b(implemen)n(tation)f
(section.)40 b(An)n(y)29 b(en)n(tities)g(declared)f(in)h(this)g
(section)f(are)g(lo)r(cal)g(to)g(the)299 3059 y(mo)r(dule)c(and)g
(cannot)f(b)r(e)h(used)g(b)n(y)f(other)g(mo)r(dules.)36
b(The)24 b(implemen)n(tation)g(section)f(m)n(ust)h(of)299
3158 y(course)f(con)n(tain)h(de\014nitions)g(for)g(all)g(abstract)g
(data)g(t)n(yp)r(es)g(and)g(all)g(predicates)g(exp)r(orted)g(b)n(y)299
3258 y(the)k(mo)r(dule,)h(as)f(w)n(ell)g(for)f(all)h(lo)r(cal)g(t)n(yp)
r(es)g(and)g(predicates.)38 b(The)29 b(mo)r(dule)f(ma)n(y)g(optionally)
299 3357 y(end)g(with)g(an)f Fk(end)p 897 3357 27 4 v
30 w(module)e Fp(declaration.)399 3457 y(If)32 b(a)g(mo)r(dule)h
(wishes)f(to)g(mak)n(e)g(use)g(of)g(en)n(tities)h(exp)r(orted)f(b)n(y)g
(other)g(mo)r(dules,)h(then)g(it)299 3557 y(m)n(ust)g(explicitly)h(imp)
r(ort)g(those)f(mo)r(dules)g(using)g(one)g(or)g(more)g
Fk(import)p 2683 3557 V 28 w(module)e Fp(declara-)299
3656 y(tions.)42 b(These)30 b(declarations)d(ma)n(y)i(o)r(ccur)g
(either)h(in)f(the)h(in)n(terface)f(or)g(the)h(implemen)n(tation)299
3756 y(section.)399 3856 y(Mercury)25 b(has)g(a)h(standard)f(library)g
(whic)n(h)h(includes)g(mo)r(dules)h(for)e(lists,)i(stac)n(ks,)e
(queues,)299 3955 y(priorit)n(y)38 b(queues,)k(sets,)g(bags)c(\(m)n
(ulti-sets\),)43 b(equiv)-5 b(alence)38 b(classes,)j(maps)e
(\(dictionaries\),)299 4055 y(v)-5 b(arious)26 b(kinds)i(of)g(trees,)f
(random)g(n)n(um)n(b)r(er)h(generation,)e(input/output)j(and)e
(\014lename)h(and)299 4154 y(directory)e(handling.)0
4453 y Fm(3.)41 b(The)32 b(Mercury)h(execution)e(algorithm)299
4619 y Fp(Most)22 b(implemen)n(tations)g(of)g(logic)g(programming)e
(languages)g(use)i(a)g(single)g(algorithm)f(to)h(ex-)299
4719 y(ecute)g(all)f(predicates.)34 b(They)21 b(therefore)g(pa)n(y)f(o)
n(v)n(erheads)f(ev)n(en)i(when)h(they)g(are)e(not)i(required;)299
4819 y(one)31 b(example)g(is)g(preparing)f(for)h(the)g(failure)g(of)h
(predicates)e(that)i(can)f(nev)n(er)f(fail.)48 b(On)31
b(the)299 4918 y(other)25 b(hand,)h(the)g(determinism)g(analysis)e
(phase)i(of)f(the)h(Mercury)f(compiler)g(classi\014es)g(eac)n(h)299
5018 y(mo)r(de)e(of)h(eac)n(h)f(predicate)g(in)g(the)h(program)e(as)g
(b)r(eing)i(either)f(deterministic,)i(semidetermin-)299
5117 y(istic,)31 b(m)n(ultideterministic)f(or)f(nondeterministic.)45
b(The)30 b(co)r(de)f(generator)f(tak)n(es)h(adv)-5 b(an)n(tage)1752
5325 y(11)p eop
%%Page: 12 12
12 11 bop 299 394 a Fp(of)32 b(this)g(fact)g(and)g(uses)g(three)f(sp)r
(ecialized)h(execution)g(algorithms,)f(one)h(for)g(deterministic)299
493 y(pro)r(cedures,)24 b(one)g(for)g(m)n(ulti-)h(and)f
(nondeterministic)h(pro)r(cedures,)f(and)g(one)g(for)g(semideter-)299
593 y(ministic)31 b(pro)r(cedures.)45 b(Sections)30 b(3.3)g(to)g(3.5)g
(describ)r(e)h(these)f(algorithms.)45 b(But)31 b(b)r(efore)f(w)n(e)299
692 y(go)f(on)n(to)h(these)g(algorithms,)g(w)n(e)g(start)g(with)h(a)f
(discussion)g(of)g(our)g(target)f(language)g(and)h(a)299
792 y(description)d(of)g(Mercury's)g(approac)n(h)f(to)h(data)g
(represen)n(tation.)299 1058 y Fj(3.1.)49 b(The)34 b(tar)-5
b(get)36 b(language)299 1207 y Fp(W)-7 b(e)25 b(w)n(an)n(t)g(our)f
(Mercury)g(implemen)n(tation)h(to)g(b)r(e)g(fast)g(y)n(et)g(p)r
(ortable.)35 b(Our)24 b(sp)r(eed)i(ob)5 b(jectiv)n(e)299
1307 y(is)22 b(incompatible)h(with)g(b)n(yteco)r(de)f(in)n
(terpretation,)h(y)n(et)f(w)n(e)h(do)f(not)g(w)n(an)n(t)g(to)h
(generate)e(nativ)n(e)299 1406 y(co)r(de)41 b(directly)f(as)h(this)g(w)
n(ould)f(tie)h(us)g(to)g(a)g(particular)e(mac)n(hine)i(arc)n
(hitecture.)75 b(What)299 1506 y(w)n(e)33 b(w)n(ould)h(lik)n(e)f(to)h
(do)g(is)g(generate)e(co)r(de)i(in)g(a)g(p)r(ortable)f(assem)n(bly)g
(language.)54 b(The)34 b(b)r(est)299 1606 y(suc)n(h)29
b(language)g(w)n(e)g(kno)n(w)g(of)h(is)g(GNU)h(C.)f(It)g(exists)g(on)f
(man)n(y)h(platforms,)g(and)f(it)i(extends)299 1705 y(standard)d(ANSI)j
(C)e(with)i(sev)n(eral)c(features)i(that)h(let)g(us)g(access)e(the)i
(underlying)f(mac)n(hine.)299 1805 y(The)f(extensions)e(w)n(e)i(can)f
(exploit)g(are)440 1988 y Fo(\017)66 b Fp(the)30 b(abilit)n(y)g(to)f
(tak)n(e)g(the)i(address)d(of)i(a)f(lab)r(el)h(using)f(a)h(statemen)n
(t)g(suc)n(h)f(as)g Fk(succip)548 2087 y(=)43 b(&&label;)24
b Fp(and)j(later)f(jump)i(to)f(that)g(address)f(using)h(a)f(statemen)n
(t)h(suc)n(h)g(as)f Fk(goto)548 2187 y(*succip;)924 2157
y Fi(1)440 2353 y Fo(\017)66 b Fp(the)53 b(abilit)n(y)f(to)g(mak)n(e)f
(lab)r(els)h(de\014ned)h(in)g(one)e(C)i(function)g(visible)f(in)g
(other)548 2452 y(C)43 b(functions)h(b)n(y)f(emitting)h
Fk(.globl)d Fp(directiv)n(es)i(and)g(lab)r(els)g(in)n(to)g(the)h(assem)
n(bly)548 2552 y(co)r(de,)55 b(using)49 b(statemen)n(ts)h(suc)n(h)f(as)
p 1808 2552 27 4 v 1840 2552 V 112 w Fk(asm)p 2003 2552
V 2033 2552 V 61 w(\(".globl)41 b(entry)p 2677 2552 V
29 w(append"\);)57 b Fp(and)p 548 2652 V 579 2652 V 605
2652 a Fk(asm)p 742 2652 V 773 2652 V 62 w(\("entry)p
1112 2652 V 28 w(append:"\);)440 2818 y Fo(\017)66 b
Fp(the)30 b(abilit)n(y)e(to)i(mak)n(e)e(direct)h(use)g(of)g(the)h(mac)n
(hine)f(registers)e(using)i(global)f(register)548 2917
y(v)-5 b(ariable)27 b(declarations)e(suc)n(h)j(as)f Fk(register)d(int)i
(r1)p 2266 2917 V 2297 2917 V 90 w(asm)p 2460 2917 V
2490 2917 V 62 w(\("s1"\);)399 3100 y Fp(These)e(extensions)g(are)f(a)i
(standard)e(part)h(of)h(gcc)f(and)h(should)f(therefore)g(b)r(e)h(a)n(v)
-5 b(ailable)23 b(on)299 3200 y(all)k(gcc)g(p)r(orts.)399
3299 y(Sev)n(eral)g(existing)i(systems)g(also)f(generate)g(C)i(co)r
(de.)41 b(The)30 b(logic)e(programming)f(systems)299
3399 y(that)e(fall)g(in)n(to)f(this)h(category)e(include)i(T)-7
b(urb)r(o)24 b(Erlang)f([8],)i(w)n(amcc)f([4],)h(Jan)n(us)f([7])g(and)h
(KL1.)299 3499 y(These)i(also)g(exploit)g(v)-5 b(arious)26
b(com)n(binations)h(of)g(GNU)i(C)e(extensions.)37 b(As)27
b(far)g(as)g(w)n(e)h(kno)n(w,)299 3598 y(our)21 b(compiler)g(is)h(the)h
(\014rst)f(to)f(emit)i(C)f(co)r(de)g(that,)h(with)g(appropriate)d
(de\014nitions)i(of)g(macros,)299 3698 y(can)e(b)r(e)h(compiled)f
(either)g(to)g(exploit)h(or)e(not)i(to)f(exploit)g(eac)n(h)g
(particular)f(GNU)i(C)f(extension.)299 3797 y(When)28
b(not)g(using)f(an)n(y)g(GNU)h(C)g(features,)f(the)h(macros)e(yield)h
(p)r(ortable)g(ANSI)i(C.)399 3897 y(When)19 b(not)g(exploiting)g(GNU)h
(C's)f(nonlo)r(cal)f(gotos,)i(the)f(macros)f(turn)h(eac)n(h)g(lab)r
(elled)g(piece)299 3997 y(of)h(co)r(de)f(in)n(to)g(a)h(function;)j
(they)d(also)e(turn)i(abstract)f(mac)n(hine)g(gotos)f(in)n(to)i(return)
f(statemen)n(ts)299 4096 y(that)28 b(tell)g(a)g(driv)n(er)e(program)g
(whic)n(h)i(function)g(to)g(call)f(next.)38 b(Since)28
b(this)g(tec)n(hnique,)g(whic)n(h)299 4196 y(is)j(a)f(standard)g(tric)n
(k)h(of)f(threaded)h(implemen)n(tations,)h(hides)f(the)g(\015o)n(w)f
(of)h(con)n(trol,)g(all)g(our)299 4296 y(examples)c(will)h(use)f(nonlo)
r(cal)g(gotos.)p 100 4423 897 4 v 398 4477 a Fg(1)432
4500 y Ff(According)17 b(to)f(the)h(GNU)f(C)f(man)n(ual,)i(\\totally)g
(unpredictable)g(things)f(will)f(happ)r(en")i(if)e(computed)i(gotos)299
4575 y(jump)23 b(to)h(co)r(de)h(in)f(a)g(di\013eren)n(t)h(function,)f
(as)g(they)h(can)g(in)f(the)h(co)r(de)g(w)n(e)f(generate.)34
b(Ho)n(w)n(ev)n(er,)24 b(considerable)299 4650 y(insp)r(ection)k(of)g
(the)g(gcc)h(source)f(co)r(de)g(b)n(y)g(our)g(gcc)g(in)n(ternals)g(exp)
r(ert)g(sho)n(ws)g(that)g(in)g(most)e(circumstances)299
4724 y(w)n(e)31 b(can)h(use)g(suc)n(h)f(jumps)f(quite)i(safely)f(pro)n
(vided)h(w)n(e)f(tak)n(e)i(suitable)e(precautions,)j(whic)n(h)e(w)n(e)f
(do.)54 b(The)299 4799 y(most)21 b(imp)r(ortan)n(t)g(precautions)i(are)
f(\(a\))g(making)f(sure)h(that)g(none)h(of)e(the)i(functions)f(in)n(v)n
(olv)n(ed)g(has)g(an)n(y)h(lo)r(cal)299 4874 y(v)l(ariables)j(and)h
(\(b\))g(making)f(sure)g(that)h(the)g(compiler)e(has)h(access)i(to)e(a)
h(big)f(enough)i(stac)n(k)f(frame)e(to)h(hold)299 4948
y(an)n(y)h(spilled)e(temp)r(orary)h(v)l(alues.)38 b(Successful)27
b(testing)g(on)f(sev)n(eral)h(di\013eren)n(t)g(arc)n(hitectures)g
(\(including)g(the)299 5023 y(x86,)22 b(whic)n(h)g(is)f(v)n(ery)g
(short)h(on)g(registers\))f(has)h(con\014rmed)f(our)h(assessmen)n(t.)30
b(F)-6 b(or)21 b(more)g(details,)g(please)h(refer)299
5098 y(to)i([11].)1752 5325 y Fp(12)p eop
%%Page: 13 13
13 12 bop 399 394 a Fp(When)19 b(exploiting)f(GNU)i(C's)f(nonlo)r(cal)f
(gotos,)i(one)e(m)n(ust)h(decide)g(ho)n(w)f(m)n(uc)n(h)h(co)r(de)g
(should)299 493 y(b)r(e)30 b(inside)f(eac)n(h)g(C)g(function.)43
b(The)30 b(Mercury)e(compiler)h(has)g(an)g(option)g(whereb)n(y)g(the)h
(pro-)299 593 y(grammer)j(can)g(request)h(that)h(ev)n(erything)e(in)h
(a)g(Mercury)f(mo)r(dule)i(should)f(b)r(e)h(put)g(inside)299
692 y(one)28 b(C)g(function.)39 b(This)28 b(is)h(go)r(o)r(d)e(for)h(sp)
r(eed,)g(since)g(\(dep)r(ending)h(on)f(whic)n(h)g(com)n(bination)g(of)
299 792 y(GNU)h(C)f(extensions)f(is)h(in)g(use\))g(jumps)g(within)h(a)f
(C)g(function)g(ma)n(y)f(b)r(e)i(faster)e(than)h(jumps)299
892 y(b)r(et)n(w)n(een)36 b(C)g(functions.)63 b(Ho)n(w)n(ev)n(er,)36
b(C)g(compilers)f(are)g(lik)n(ely)h(to)f(b)r(eha)n(v)n(e)h(badly)f(on)h
(large)299 991 y(functions.)55 b(This)34 b(is)f(wh)n(y)g(the)h(default)
g(b)r(eha)n(viour)e(of)i(the)g(Mercury)e(compiler)h(is)h(to)f(emit)299
1091 y(sev)n(eral)28 b(C)h(functions)h(for)f(eac)n(h)g(Mercury)f(mo)r
(dule,)j(with)f(eac)n(h)e(C)i(function)g(con)n(taining)e(up)299
1191 y(to)f(a)h(con\014gurable)e(\(but)i(usually)f(small\))h(n)n(um)n
(b)r(er)f(of)h(Mercury)e(pro)r(cedures.)399 1290 y(Using)20
b(GNU)i(C)e(nonlo)r(cal)g(gotos)g(to)g(jump)i(b)r(et)n(w)n(een)f
(di\013eren)n(t)g(C)f(functions)i(requires)d(co)r(de)299
1390 y(in)34 b(eac)n(h)e(function)i(to)g(kno)n(w)e(the)i(addresses)e
(of)h(lab)r(els)h(in)f(other)g(functions.)55 b(This)33
b(can)g(b)r(e)299 1489 y(done)c(in)h(one)f(of)h(t)n(w)n(o)f(w)n(a)n
(ys.)42 b(First,)30 b(one)f(can)g(arrange)f(for)h(eac)n(h)g(C)g
(function)i(to)e(start)g(with)299 1589 y(co)r(de)35 b(that)h(tak)n(es)f
(the)h(addresses)e(of)i(its)f(o)n(wn)g(lab)r(els,)j(puts)e(them)g(in)n
(to)f(global)g(v)-5 b(ariables,)299 1689 y(and)24 b(then)g(returns.)35
b(Cross-function)23 b(jumps)h(can)g(get)f(the)i(addresses)d(they)i
(need)g(from)g(these)299 1788 y(v)-5 b(ariables)36 b(after)h(an)f
(initialization)h(routine)g(has)g(called)f(all)h(these)h(functions)f
(at)g(startup.)299 1888 y(This)e(what)h(w)n(e)f(do)g(in)h(the)f
(absence)g(of)h(assem)n(bler)d(lab)r(els.)61 b(The)35
b(second)g(approac)n(h)e(is)j(of)299 1988 y(course)22
b(to)i(generate)e(the)i Fk(.globl)d Fp(directiv)n(es)i(and)g(lab)r(els)
h(directly)f(in)n(to)g(the)h(assem)n(bly)f(co)r(de.)399
2087 y(When)32 b(they)h(are)e(a)n(v)-5 b(ailable,)32
b(w)n(e)g(exploit)g(global)f(register)g(v)-5 b(ariables)31
b(b)n(y)h(using)g(them)h(to)299 2187 y(store)24 b(the)i(most)g(frequen)
n(tly)f(used)g(abstract)g(mac)n(hine)g(registers.)34
b(The)26 b(n)n(um)n(b)r(er)f(of)g(registers)299 2286
y(w)n(e)36 b(can)f(use)h(for)f(this)i(dep)r(ends)f(on)g(the)g(hardw)n
(are)e(arc)n(hitecture)h(and)h(the)g(con\014guration)299
2386 y(of)g(gcc.)62 b(T)-7 b(o)36 b(simplify)h(calls)f(to)g(C)g
(library)f(functions,)k(at)d(the)h(momen)n(t)f(w)n(e)g(exploit)g(only)
299 2486 y(registers)23 b(that)h(gcc)g(designates)f(to)i(b)r(e)f
(callee-sa)n(v)n(e.)34 b(W)-7 b(e)25 b(use)f(3)g(global)f(register)g(v)
-5 b(ariables)23 b(on)299 2585 y(x86s,)j(6)h(on)h(Alphas,)f(8)g(on)h
(MIPS)f(and)h(HP-P)-7 b(A)27 b(pro)r(cessors,)e(and)i(10)g(on)g(SP)-7
b(AR)n(Cs.)299 2839 y Fj(3.2.)49 b(Data)35 b(r)-5 b(epr)g(esentation)
299 2984 y Fp(Since)28 b(w)n(e)g(kno)n(w)f(all)h(t)n(yp)r(es)g(at)g
(compile)g(time,)h(w)n(e)e(sp)r(ecialize)h(the)h(represen)n(tation)d
(of)i(terms)299 3083 y(for)38 b(eac)n(h)f(t)n(yp)r(e.)70
b(This)38 b(reduces)g(storage)e(requiremen)n(ts)i(somewhat)f(and)i
(impro)n(v)n(es)d(time)299 3183 y(e\016ciency)27 b(considerably)-7
b(.)399 3283 y(Our)35 b(primary)g(target)g(mac)n(hines)g(are)g(b)n
(yte-addressed)g(mac)n(hines)g(with)i(32-bit)e(w)n(ords.)299
3382 y(Man)n(y)30 b(suc)n(h)h(mac)n(hines)f(require)g(w)n(ords)g(to)h
(b)r(e)g(aligned)f(on)h(natural)f(b)r(oundaries;)i(w)n(e)f(store)299
3482 y(all)c(our)g(data)g(in)h(aligned)f(w)n(ords)f(ev)n(en)h(on)h(mac)
n(hines)e(that)i(do)g(not)f(ha)n(v)n(e)g(this)h(requiremen)n(t.)299
3582 y(Since)j(the)h(lo)n(w-order)d(t)n(w)n(o)i(bits)h(of)f(p)r(oin)n
(ters)g(to)g(aligned)g(w)n(ords)f(are)g(alw)n(a)n(ys)g(zero,)h(w)n(e)g
(can)299 3681 y(use)j(these)h(bits)g(as)f(a)h(tag,)h(giving)e(us)g
(four)h(di\013eren)n(t)g(tag)f(v)-5 b(alues.)58 b(\(On)34
b(64-bit)g(mac)n(hines)299 3781 y(suc)n(h)d(as)g(the)h(Alpha,)g
(Mercury)f(can)g(use)g(up)h(to)f(three)g(tag)g(bits,)i(giving)d(eigh)n
(t)h(tag)g(v)-5 b(alues,)299 3880 y(but)28 b(the)g(discussion)f(b)r
(elo)n(w)g(assumes)g(four.\))399 3980 y(F)-7 b(or)24
b(t)n(yp)r(es)i(with)g(up)g(to)g(four)f(di\013eren)n(t)g(alternativ)n
(es,)g(the)h(t)n(w)n(o)f(tag)g(bits)h(are)e(su\016cien)n(t)i(to)299
4080 y(distinguish)g(them;)i(the)e(remainder)f(of)i(the)f(w)n(ord)f(is)
h(a)g(p)r(oin)n(ter)g(to)g(a)g(sequence)g(of)g(w)n(ords)f(on)299
4179 y(the)i(heap)e(con)n(taining)h(the)g(argumen)n(ts)f(of)h(the)h
(function)g(sym)n(b)r(ol,)f(if)h(an)n(y)-7 b(.)36 b(F)-7
b(or)25 b(an)h(example,)299 4279 y(consider)j(a)i(v)-5
b(ariable)29 b(of)i(t)n(yp)r(e)f(list\(in)n(t\))i(after)e(the)h
(compiler)f(allo)r(cates)f(the)i(tag)f(v)-5 b(alue)31
b(0)f(to)299 4379 y(nil)g(and)f(the)g(tag)g(v)-5 b(alue)29
b(1)g(to)h(cons.)41 b(If)30 b(the)g(tag)e(on)h(the)h(v)-5
b(ariable)28 b(is)i(zero,)e(then)i(the)g(rest)f(of)299
4478 y(the)f(w)n(ord)g(is)g(zero)f(as)g(w)n(ell)h(\(no)h(p)r(oin)n(ter)
e(needed\).)40 b(If)28 b(the)h(tag)e(is)h(one,)h(then)f(the)h
(remainder)299 4578 y(of)23 b(the)h(w)n(ord)e(p)r(oin)n(ts)i(to)f(a)g
(t)n(w)n(o-w)n(ord)e(blo)r(c)n(k)i(of)g(memory)g(on)g(the)g(heap,)h
(the)g(\014rst)f(w)n(ord)g(b)r(eing)299 4677 y(the)28
b(head)f(elemen)n(t)h(of)f(the)h(list)g(and)g(the)g(second)f(w)n(ord)f
(b)r(eing)i(the)g(tail)f(of)h(the)g(list.)399 4777 y(Note)d(that)h
(this)g(represen)n(tation)d(is)j(similar)e(to)i(the)g(optimized)f(list)
h(represen)n(tation)e(used)299 4877 y(b)n(y)29 b(man)n(y)f(Prolog)f
(systems:)40 b(the)29 b(iden)n(tit)n(y)g(of)h(the)f(function)h(sym)n(b)
r(ol)e(is)i(stored)e(in)h(the)h(lo)n(w-)299 4976 y(order)g(bits)h(of)h
(the)f(p)r(oin)n(ter)g(to)g(the)h(cell,)g(not)f(in)h(an)f(extra)f(w)n
(ord)g(at)h(the)h(start)f(of)g(the)h(cell.)299 5076 y(The)27
b(di\013erence)g(is)f(that)h(in)h(our)e(mo)r(del,)h(this)g(sc)n(heme)f
(applies)h(to)g Fl(any)34 b Fp(data)27 b(t)n(yp)r(e)g(with)g(less)299
5176 y(than)h(\014v)n(e)f(alternativ)n(es,)f(not)i(just)g(to)f(lists.)
1752 5325 y(13)p eop
%%Page: 14 14
14 13 bop 399 394 a Fp(If)25 b(a)f(t)n(yp)r(e)g(has)h(\014v)n(e)f(or)f
(more)h(alternativ)n(es,)g(then)h(some)f(ha)n(v)n(e)f(to)i(share)e(the)
i(same)f(t)n(w)n(o)g(bit)299 493 y(primary)j(tag)h(v)-5
b(alue.)40 b(If)29 b(all)f(function)i(sym)n(b)r(ols)e(sharing)f(the)i
(same)f(primary)f(tag)h(v)-5 b(alue)29 b(are)299 593
y(constan)n(ts,)22 b(w)n(e)g(use)g(the)h(rest)e(of)i(the)f(w)n(ord)f
(as)h(a)g(30-bit)f(lo)r(cal)h(secondary)e(tag.)35 b(If)22
b(at)g(least)g(one)299 692 y(of)h(them)g(is)g(not)f(a)h(constan)n(t,)g
(w)n(e)f(store)g(an)g(extra)g(w)n(ord)g(at)g(the)i(start)e(of)g(the)i
(argumen)n(t)d(blo)r(c)n(k)299 792 y(as)27 b(a)g(32-bit)f(remote)h
(secondary)e(tag.)37 b(T)-7 b(o)27 b(sa)n(v)n(e)e(b)r(oth)j(space)f
(and)g(time,)h(w)n(e)f(prefer)g(to)g(share)299 892 y(a)g(primary)g(tag)
h(v)-5 b(alue)27 b(only)h(b)r(et)n(w)n(een)g(sev)n(eral)e(constan)n(ts)
h(or)g(sev)n(eral)f(non-constan)n(ts.)37 b(This)299 991
y(sc)n(heme)28 b(can)h(represen)n(t)f(a)g(billion)h(constan)n(ts)f(and)
h(four)f(billion)h(non-constan)n(ts)f(using)g(only)299
1091 y(t)n(w)n(o)23 b(primary)f(tag)h(v)-5 b(alues,)24
b(lea)n(ving)e(t)n(w)n(o)h(other)g(v)-5 b(alues)23 b(free)g(for)g(use)h
(b)n(y)f(the)h(most)f(frequen)n(tly)299 1191 y(o)r(ccurring)e
(alternativ)n(es.)34 b(One)23 b(can)f(think)h(of)g(32-bit)f(in)n
(tegers)g(and)h(\015oats)f(as)g(t)n(yp)r(es)h(in)g(whic)n(h)299
1290 y(all)g(four)f(primary)g(tags)h(v)-5 b(alues)22
b(ha)n(v)n(e)g(fully)i(used)f(lo)r(cal)g(secondary)e(tags,)i(although)g
(of)g(course)299 1390 y(in)30 b(practice)e(the)i(built-in)g(op)r
(erations)e(op)r(erate)h(on)g(the)h(en)n(tire)f(w)n(ord)g(as)f(a)h
(unit.)44 b(W)-7 b(e)30 b(don't)299 1489 y(need)e(to)f(b)r(o)n(x)g(v)-5
b(alues)27 b(of)h(primitiv)n(e)f(t)n(yp)r(es)h(that)g(\014t)g(in)g(a)f
(w)n(ord.)399 1589 y(Relativ)n(ely)36 b(few)h(t)n(yp)r(es)g(in)h(real)e
(programs)e(need)k(secondary)d(tags.)64 b(F)-7 b(or)37
b(simplicit)n(y)g(of)299 1689 y(presen)n(tation,)26 b(w)n(e)i(do)f(not)
h(presen)n(t)e(an)n(y)h(suc)n(h)h(t)n(yp)r(es)f(in)h(this)g(pap)r(er.)
399 1788 y(The)e(data)g(represen)n(tation)f(w)n(e)h(ha)n(v)n(e)f(just)j
(describ)r(ed)e(is)g(our)g(preferred)g(one,)g(but)h(it)g(do)r(es)299
1888 y(not)e(w)n(ork)f(on)g(w)n(ord-addressed)f(mac)n(hines,)i(since)g
(they)g(do)g(not)g(ha)n(v)n(e)f(spare)g(lo)n(w-order)e(bits.)299
1988 y(This)32 b(is)h(not)f(a)g(problem)g(since)g(our)g(mo)r(del)g(can)
g(use)g(t)n(w)n(o)g(other)g(represen)n(tations)e(as)i(w)n(ell:)299
2087 y(one)21 b(stores)f(the)i(tag)e(in)i(the)g(most)f(signi\014can)n
(t)f(bits)i(of)f(a)g(w)n(ord,)h(while)f(the)h(other)f(do)r(es)g(not)g
(use)299 2187 y(tag)k(bits)g(as)g(suc)n(h)g(but)h(instead)g(alw)n(a)n
(ys)d(uses)i(a)g(full)h(w)n(ord)f(as)g(a)g(remote)f(tag.)36
b(Dep)r(ending)26 b(on)299 2286 y(command-line)h(options,)g(the)i
(Mercury)d(compiler)h(can)h(emit)g(co)r(de)g(that)g(uses)f(an)n(y)g(of)
h(these)299 2386 y(represen)n(tations.)42 b(Our)29 b(preferred)g
(represen)n(tation)f(uses)i(the)g(follo)n(wing)f(tag-manipulation)299
2486 y(macros:)299 2643 y Fk(#define)41 b(mktag\(t\))345
b(\(t\))299 2743 y(#define)41 b(mkbody\(i\))301 b(\(\(i\))42
b(<<)h(TAGBITS\))299 2843 y(#define)e(tag\(w\))433 b(\(\(w\))42
b(&)h(\(\(1)f(<<)h(TAGBITS\))d(-)k(1\)\))299 2942 y(#define)d(body\(w,)
f(t\))261 b(\(\(w\))42 b(-)h(\(t\)\))299 3042 y(#define)e(mkword\(t,)e
(p\))174 b(\(\(Word\)\(t\))39 b(+)44 b(\(Word\)\(p\)\))299
3142 y(#define)d(field\(t,)f(p,)j(i\))86 b(\(\(Word)41
b(*\))i(body\(\(p\),)d(\(t\)\)\)[i])399 3299 y Fp(The)24
b(macros)f(mktag)h(and)g(mkb)r(o)r(dy)h(p)r(osition)f(an)g(in)n(teger)g
(in)g(the)h(tag)f(and)g(b)r(o)r(dy)h(parts)f(of)299 3399
y(a)g(w)n(ord)g(resp)r(ectiv)n(ely)-7 b(.)35 b(The)25
b(tag)f(macro)f(extracts)h(the)h(tag)f(of)h(a)f(w)n(ord,)h(while)g(b)r
(o)r(dy)g(extracts)299 3499 y(the)32 b(non-tag)f(part.)51
b(The)32 b(mkw)n(ord)f(macro)g(puts)h(the)h(tag)e(t)i(on)f(the)g(b)r(o)
r(dy)h(b,)h(whic)n(h)e(m)n(ust)299 3598 y(either)26 b(b)r(e)g(an)g
(aligned)f(p)r(oin)n(ter)h(or)f(ha)n(v)n(e)g(b)r(een)h(constructed)f(b)
n(y)h(mkb)r(o)r(dy)-7 b(.)37 b(The)26 b(\014eld)g(macro)299
3698 y(yields)g(a)g(reference)f(to)i(the)f(i'th)h(w)n(ord)f(in)g(the)h
(argumen)n(t)e(blo)r(c)n(k)h(p)r(oin)n(ted)g(to)h(b)n(y)f(the)g(w)n
(ord)g(w)299 3797 y(with)32 b(tag)f(t.)50 b(Note)32 b(that)g(if)g(t)g
(and)g(i)g(are)f(b)r(oth)h(constan)n(ts,)g(as)f(they)h(almost)f(alw)n
(a)n(ys)f(are)g(in)299 3897 y(the)g(co)r(de)g(w)n(e)f(generate,)h
(neither)g(the)g(subtraction)f(of)h(the)g(tag)g(t)g(nor)f(the)h
(indexing)g(with)h(i)299 3997 y(in)i(the)g(\014eld)f(reference)g
(require)f(separate)g(instructions)i(on)f(most)g(mac)n(hines,)h(as)f
(they)h(are)299 4096 y(folded)28 b(in)n(to)f(the)h(o\013set)g(part)f
(of)g(the)h(load)f(or)g(store)f(instruction.)399 4196
y(Note)d(that)g(if)h(a)e(function)i(sym)n(b)r(ol)f(o)r(ccurs)f(in)h
(more)f(than)i(one)e(t)n(yp)r(e,)i(it)g(will)f(in)h(general)d(b)r(e)299
4296 y(represen)n(ted)28 b(di\013eren)n(tly)i(for)f(eac)n(h)g(t)n(yp)r
(e.)44 b(The)30 b(t)n(yp)r(e)g(c)n(hec)n(k)n(er)e(will)i(determine)g
(the)g(t)n(yp)r(e)g(of)299 4395 y(eac)n(h)25 b(o)r(ccurrence)f(of)h
(the)h(function)g(sym)n(b)r(ol.)36 b(The)26 b(di\013eren)n(t)f
(represen)n(tations)f(do)h(not)g(cause)299 4495 y(an)n(y)i(problems,)g
(since)g(terms)g(of)h(di\013eren)n(t)g(t)n(yp)r(es)f(cannot)g(b)r(e)h
(compared)f(directly)-7 b(.)299 4760 y Fj(3.3.)49 b(The)34
b(deterministic)g(exe)-5 b(cution)35 b(algorithm)299
4910 y Fp(Deterministic)23 b(predicates)f(ha)n(v)n(e)f(exactly)h(one)g
(solution)g(and)h(are)e(hence)i(essen)n(tially)e(equiv)-5
b(a-)299 5010 y(len)n(t)24 b(to)g(imp)r(erativ)n(e)f(programs.)34
b(Our)23 b(aim)h(is)g(to)g(implemen)n(t)g(suc)n(h)g(predicates)f(as)h
(e\016cien)n(tly)299 5109 y(as)j(imp)r(erativ)n(e)g(languages)f(lik)n
(e)h(C)g(do.)1752 5325 y(14)p eop
%%Page: 15 15
15 14 bop 399 394 a Fp(The)20 b(memory)g(areas)f(of)i(our)f(abstract)g
(mac)n(hine)g(for)g(executing)h(deterministic)g(predicates)299
493 y(are)26 b(a)h(co)r(de)g(segmen)n(t,)g(a)g(stac)n(k)g(and)g(a)g
(heap.)37 b(The)27 b(co)r(de)g(segmen)n(t)g(is)g(static;)h(the)f(stac)n
(k)g(and)299 593 y(the)g(heap)g(can)g(gro)n(w.)35 b(The)27
b(order)f(of)h(these)g(areas)f(in)h(the)h(address)e(space)g(do)r(es)h
(not)g(matter,)299 692 y(nor)37 b(do)r(es)g(the)g(direction)g(of)h(gro)
n(wth)e(of)h(the)h(stac)n(k)e(and)i(the)g(heap.)66 b(F)-7
b(or)36 b(this)i(pap)r(er)f(w)n(e)299 792 y(assume)27
b(that)h(b)r(oth)g(the)g(heap)f(and)g(the)h(stac)n(k)f(gro)n(w)f(up)n
(w)n(ard.)399 892 y(The)h(abstract)g(mac)n(hine)g(has)g(the)h(follo)n
(wing)e(registers:)299 1062 y(sp)369 b(The)33 b(stac)n(k)f(p)r(oin)n
(ter:)48 b(it)34 b(holds)f(the)h(address)e(of)h(the)h(next)f(free)g(w)n
(ord)f(on)h(the)747 1161 y(stac)n(k.)299 1321 y(hp)356
b(The)34 b(heap)g(p)r(oin)n(ter:)50 b(it)35 b(holds)f(the)g(address)g
(of)g(the)h(next)f(free)g(w)n(ord)f(on)h(the)747 1420
y(heap.)299 1580 y(succip)226 b(The)35 b(success)g(instruction)h(p)r
(oin)n(ter:)52 b(it)37 b(holds)e(the)h(address)e(of)i(the)g(lab)r(el)g
(to)747 1680 y(return)27 b(to)g(when)h(the)g(curren)n(t)f(predicate)g
(succeeds.)299 1839 y(r1,)g(r2,)f(.)14 b(.)g(.)102 b(General)40
b(purp)r(ose)g(registers)g(for)g(parameter)g(passing)g(and)h(for)f
(temp)r(orary)747 1939 y(v)-5 b(alues.)399 2109 y(A)n(t)22
b(the)h(start)f(of)g(execution,)i(the)f(run)n(time)f(system)g(sets)g
(the)h(stac)n(k)f(p)r(oin)n(ter)g(and)g(the)h(heap)299
2209 y(p)r(oin)n(ter)28 b(to)g(p)r(oin)n(t)h(to)g(the)g(start)f(of)g
(their)h(resp)r(ectiv)n(e)e(data)h(areas,)g(sets)g(the)h(succip)f
(register)299 2308 y(to)e(p)r(oin)n(t)h(to)f(co)r(de)g(that)h(will)g
(terminate)f(execution)g(of)h(the)g(abstract)e(mac)n(hine,)h(sets)h(up)
f(the)299 2408 y(registers)32 b(to)i(re\015ect)g(the)h(input)g(argumen)
n(ts)e(of)h(the)g(main)g(predicate,)i(and)e(jumps)g(to)g(the)299
2507 y(co)r(de)27 b(of)h(this)g(predicate.)399 2607 y(Consider)33
b(the)i(call)f Fk(append\([1,2],)39 b([3],)j(L\))p Fp(.)34
b(This)g(calls)g(app)r(end)h(in)g(its)g(\014rst)f(\(for-)299
2707 y(w)n(ard\))27 b(mo)r(de,)g(whose)g(form)h(after)f(mo)r(de)h
(analysis)e(is:)299 2864 y Fk(:-)43 b(pred)f(append\(list\(int)o(\),)37
b(list\(int\),)j(list\(int\)\).)299 2964 y(:-)j(mode)f(append\(in,)d
(in,)j(out\))g(is)h(det.)299 3163 y(append\(A,)d(B,)i(C\))h(:-)648
3263 y(\()996 3363 y(A)g(==)g([],)996 3462 y(C)g(:=)g(B)648
3562 y(;)996 3661 y(A)g(==)g([H|T],)996 3761 y(append\(T,)d(B,)j(NT\),)
996 3861 y(C)g(:=)g([H|NT])648 3960 y(\).)399 4118 y
Fp(\(W)-7 b(e)28 b(p)r(ostp)r(one)f(consideration)f(of)h(p)r
(olymorphism)g(un)n(til)h(section)f(3.8.\))36 b(Our)27
b(parameter)299 4218 y(passing)f(con)n(v)n(en)n(tion)g(is)i(that)440
4388 y Fo(\017)66 b Fp(if)27 b(an)n(y)e(part)h(of)g(argumen)n(t)f
Fe(i)h Fp(is)g(input,)i(it)e(should)g(b)r(e)h(in)f(register)f(r)p
Fe(i)h Fp(at)g(call)g(but)g(ma)n(y)548 4487 y(not)i(b)r(e)g(there)f(at)
g(return)440 4647 y Fo(\017)66 b Fp(if)26 b(all)g(parts)f(of)h(argumen)
n(t)e Fe(i)i Fp(are)e(output,)j(r)p Fe(i)e Fp(ma)n(y)g(b)r(e)h
(unde\014ned)h(at)f(call)f(but)h(will)g(b)r(e)548 4746
y(in)i(register)e(r)p Fe(i)h Fp(at)g(return)440 4906
y Fo(\017)66 b Fp(the)24 b(called)g(pro)r(cedure)e(is)i(free)g(to)f
(destro)n(y)g(r)p Fe(j)28 b Fp(for)c(v)-5 b(alues)23
b(of)h Fe(j)29 b Fp(greater)22 b(than)i(its)g(arit)n(y)399
5076 y(F)-7 b(or)39 b(our)h(example,)k(the)d(system)f(will)h(put)g(p)r
(oin)n(ters)f(to)g(the)h(lists)g([1,2])e(and)i([3])f(in)n(to)299
5176 y(registers)26 b(r1)g(and)i(r2)f(resp)r(ectiv)n(ely)f(b)r(efore)i
(calling)e(app)r(end.)1752 5325 y(15)p eop
%%Page: 16 16
16 15 bop 299 438 a Fk(append)p 568 438 27 4 v 29 w(3)p
641 438 V 31 w(0:)648 538 y(incr)p 829 538 V 29 w(sp\(2\);)648
638 y(detstackvar\(2\))37 b(=)44 b(succip;)648 737 y(if)e(\(r1)h(==)f
(mkword\(mktag\(0\),)37 b(mkbody\(0\)\)\))996 837 y(goto)42
b(append)p 1483 837 V 29 w(3)p 1556 837 V 31 w(0)p 1631
837 V 31 w(i2;)648 936 y(detstackvar\(1\))37 b(=)44 b
(field\(mktag\(1\),)37 b(r1,)42 b(0\);)648 1036 y(r3)g(=)h(r1;)648
1136 y(r1)f(=)h(field\(mktag\(1\),)38 b(r3,)k(1\);)648
1235 y(localcall\(appen)o(d)p 1356 1235 V 25 w(3)p 1425
1235 V 31 w(0,)h(append)p 1851 1235 V 29 w(3)p 1924 1235
V 31 w(0)p 1999 1235 V 31 w(i3\);)299 1335 y(append)p
568 1335 V 29 w(3)p 641 1335 V 31 w(0)p 716 1335 V 31
w(i3:)648 1435 y(tag)p 785 1435 V 30 w(incr)p 991 1435
V 29 w(hp\(r1,)f(mktag\(1\),)d(2\);)648 1534 y(field\(mktag\(1\),)e
(r1,)42 b(0\))h(=)g(detstackvar\(1\);)648 1634 y(field\(mktag\(1\),)37
b(r1,)42 b(1\))h(=)g(r3;)648 1733 y(r3)f(=)h(r1;)648
1833 y(goto)e(append)p 1134 1833 V 29 w(3)p 1207 1833
V 31 w(0)p 1282 1833 V 31 w(i1;)299 1933 y(append)p 568
1933 V 29 w(3)p 641 1933 V 31 w(0)p 716 1933 V 31 w(i2:)648
2032 y(r3)h(=)h(r2;)299 2132 y(append)p 568 2132 V 29
w(3)p 641 2132 V 31 w(0)p 716 2132 V 31 w(i1:)648 2232
y(succip)e(=)i(detstackvar\(2\);)648 2331 y(decr)p 829
2331 V 29 w(sp\(2\);)648 2431 y(goto)e(*succip;)619 2755
y Fd(FIGURE)k(3.1.)25 b Fc(C)h(co)r(de)g(for)h(the)e(forw)n(ard)i(mo)r
(de)e(of)h(app)r(end,)g(unoptimized)399 2977 y Fp(Figure)35
b(3.1)g(sho)n(ws)g(the)h(co)r(de)g(emitted)h(b)n(y)e(the)i(Mercury)e
(compiler)g(for)g(this)i(mo)r(de)f(of)299 3076 y(app)r(end)k(without)g
(optimization.)73 b(F)-7 b(or)39 b(clarit)n(y)f(of)i(exp)r(osition)f(w)
n(e)g(ha)n(v)n(e)g(turned)h(o\013)f(the)299 3176 y(compiler)22
b(option)h(that)h(automatically)e(generates)g(a)h(commen)n(t)g(for)f
(eac)n(h)h(line)g(of)h(C)f(co)r(de)g(\(!\),)299 3276
y(and)i(w)n(e)g(ha)n(v)n(e)g(c)n(hanged)f(the)i(actual)f(co)r(de)g
(generated)f(b)n(y)h(the)h(compiler)f(in)h(minor)f(w)n(a)n(ys:)34
b(w)n(e)299 3375 y(ha)n(v)n(e)e(shortened)g(lab)r(el)h(names,)h
(eliminated)f(cast)g(op)r(erators,)f(expanded)h(sev)n(eral)e(macros,)
299 3475 y(and)c(remo)n(v)n(ed)f(extern)i(declarations)d(and)j(their)f
(braces.)399 3575 y(Eac)n(h)j(lab)r(el)j(b)r(egins)f(with)g(the)h(name)
f(of)g(the)g(predicate,)h(follo)n(w)n(ed)e(b)n(y)h(the)g(arit)n(y)f(of)
h(the)299 3674 y(predicate)21 b(and)g(the)h(n)n(um)n(b)r(er)g(of)f(the)
h(mo)r(de)g(concerned)e(\(in)j(this)e(case)g(mo)r(de)h(0)f(is)g(the)h
(forw)n(ard)299 3774 y(mo)r(de\).)37 b(F)-7 b(or)27 b(the)g(lab)r(el)h
(that)f(starts)g(an)g(abstract)f(mac)n(hine)h(pro)r(cedure,)f(this)i
(is)f(all.)36 b(Lab)r(els)299 3873 y(in)n(ternal)27 b(to)g(a)g
(predicate)g(also)g(ha)n(v)n(e)f(a)i(lab)r(el)f(n)n(um)n(b)r(er)h
(preceded)f(b)n(y)g(\\i".)399 3973 y(The)i(pro)r(cedure)g(prologue)f
(in)n(v)n(ok)n(es)g(the)i(incr)p 1878 3973 25 4 v 30
w(sp)g(macro)e(to)i(create)f(a)g(stac)n(k)g(frame)g(con-)299
4073 y(taining)d(t)n(w)n(o)g(w)n(ords,)g(and)h(sa)n(v)n(es)e(the)i
(success)f(con)n(tin)n(uation)f(in)i(the)h(b)r(ottom)f(w)n(ord.)35
b(It)27 b(then)299 4172 y(tests)22 b(whether)g(A)h(is)f(equal)f(to)h
(nil)h(or)e(not;)j(if)f(it)f(is,)i(w)n(e)e(branc)n(h)f(to)h(app)r(end)p
2654 4172 V 30 w(3)p 2726 4172 V 29 w(0)p 2797 4172 V
30 w(i2.)34 b(When)23 b(us-)299 4272 y(ing)f(b)r(oth)h(global)f
(registers)e(and)j(nonlo)r(cal)e(gotos,)i(gcc)f(will)g(compile)h(the)g
(en)n(tire)f(if)h(statemen)n(t)299 4372 y(in)n(to)k(a)g(single)f
(conditional)h(branc)n(h)f(instruction,)i(since)f(the)g(righ)n(t)g
(hand)g(side)g(expression)f(is)299 4471 y(the)j(constan)n(t)g(zero.)40
b(The)30 b(co)r(de)f(at)g(app)r(end)p 1731 4471 V 30
w(3)p 1803 4471 V 29 w(0)p 1874 4471 V 30 w(i2)f(implemen)n(ts)i(the)g
(base)e(case.)41 b(It)29 b(copies)299 4571 y(B)e(in)g(r2)g(to)g(r3,)f
(where)h(the)g(caller)f(will)i(lo)r(ok)e(for)h(C.)g(It)h(then)f(falls)g
(through)g(to)g(the)g(epilogue)299 4670 y(co)r(de)i(that)g(restores)e
(the)i(success)f(con)n(tin)n(uation)g(from)h(the)g(stac)n(k,)f(and)h
(then)g(jumps)h(to)e(the)299 4770 y(success)f(con)n(tin)n(uation)f
(after)i(p)r(opping)f(the)h(stac)n(k)f(frame.)399 4870
y(The)k(co)r(de)h(after)f(the)h(if)g(statemen)n(t)g(implemen)n(ts)g
(the)g(recursiv)n(e)e(case.)48 b(Execution)31 b(gets)299
4969 y(to)h(this)h(p)r(oin)n(t)f(only)g(if)h(A)g(has)f(a)g(tag)f(other)
h(than)h(nil,)h(and)e(cons)g(is)g(the)h(only)f(suc)n(h)g(tag)f(in)299
5069 y(the)37 b(t)n(yp)r(e)g(of)f(A;)h(the)h(mo)r(de)e(system)h(guaran)
n(tees)d(that)j(A)g(is)g(not)f(an)h(un)n(b)r(ound)g(v)-5
b(ariable.)299 5169 y(Therefore)31 b(the)j(co)r(de)e(do)r(es)h(not)g
(need)g(to)f(c)n(hec)n(k)g(to)h(kno)n(w)f(that)h(A)g(has)f(the)i(cons)e
(tag)g(and)1752 5325 y(16)p eop
%%Page: 17 17
17 16 bop 299 394 a Fp(that)27 b(the)g(b)r(o)r(dy)g(p)r(oin)n(ts)g(to)g
(a)f(t)n(w)n(o-w)n(ord)f(cell)i(con)n(taining)f(H)h(and)f(T.)h(The)g(v)
-5 b(alue)27 b(of)g(H)g(is)g(not)299 493 y(needed)32
b(immediately)g(but)h(it)g(m)n(ust)f(b)r(e)h(preserv)n(ed)d(across)g
(the)j(recursiv)n(e)d(call.)50 b(Since)32 b(the)299 593
y(call)f(ma)n(y)g(destro)n(y)f(an)n(y)h(register,)g(H)h(m)n(ust)f(b)r
(e)h(preserv)n(ed)e(on)i(the)f(stac)n(k.)48 b(The)32
b(v)-5 b(alue)31 b(of)h(T)299 692 y(do)r(es)h(not)g(need)g(to)g(b)r(e)h
(preserv)n(ed)e(across)f(the)i(call)g(but)h(m)n(ust)f(b)r(e)h(put)g(in)
f(r1)g(for)f(the)i(call.)299 792 y(\(Without)27 b(optimization)e(this)i
(tak)n(es)d(t)n(w)n(o)i(instructions)f(b)r(ecause)g(the)i(co)r(de)e
(generator)f(do)r(es)299 892 y(not)31 b(kno)n(w)f(that)i(A)f(is)g(dead)
g(after)f(the)i(mo)n(v)n(e,)f(and)g(therefore)f(attempts)h(to)g(sa)n(v)
n(e)f(its)h(v)-5 b(alue)299 991 y(in)36 b(r3.\))60 b(The)35
b(other)g(input)h(argumen)n(t)f(of)g(the)h(call,)h(B,)f(is)f(already)f
(in)i(r2.)59 b(The)36 b(lo)r(calcall)299 1091 y(macro)24
b(puts)h(the)h(address)d(of)i(the)h(app)r(end)p 1665
1091 25 4 v 30 w(3)p 1737 1091 V 29 w(0)p 1808 1091 V
30 w(i3)e(lab)r(el)i(in)n(to)e(the)i(succip)f(register)e(and)i(then)299
1191 y(branc)n(hes)36 b(to)i(the)f(app)r(end)p 1187 1191
V 31 w(3)p 1260 1191 V 29 w(0)g(lab)r(el)h(to)f(b)r(egin)h(execution)f
(of)g(the)h(recursiv)n(e)e(in)n(v)n(o)r(cation)299 1290
y(of)g(app)r(end.)62 b(\(There)35 b(is)h(a)g(separate)e(macro)h(for)g
(calling)g(predicates)g(de\014ned)h(in)g(other)g(C)299
1390 y(functions.)75 b(When)41 b(using)f(GNU)h(C's)f(nonlo)r(cal)f
(gotos)g(without)i(assem)n(bler)d(lab)r(els,)43 b(this)299
1489 y(other)27 b(macro)g(tak)n(es)h(the)g(address)f(to)h(b)r(e)h
(branc)n(hed)e(to)h(from)g(a)g(global)f(v)-5 b(ariable)27
b(asso)r(ciated)299 1589 y(with)h(the)g(called)f(predicate.)36
b(A)n(t)28 b(startup,)f(eac)n(h)g(C)g(function)h(assigns)e(the)i
(addresses)e(of)h(the)299 1689 y(Mercury)f(pro)r(cedures)h(within)h(it)
g(to)g(the)g(global)e(v)-5 b(ariables)26 b(asso)r(ciated)h(with)h
(them.\))399 1788 y(When)33 b(the)h(recursiv)n(e)d(in)n(v)n(o)r(cation)
h(has)h(b)r(een)h(completed,)h(execution)e(will)g(con)n(tin)n(ue)g(at)
299 1888 y(app)r(end)p 569 1888 V 30 w(3)p 641 1888 V
29 w(0)p 712 1888 V 30 w(i3,)21 b(at)f(whic)n(h)g(time)h(r3)e(will)i
(con)n(tain)e(the)i(v)-5 b(alue)20 b(of)g(NT.)h(The)f(tag)p
2761 1888 V 29 w(incr)p 2929 1888 V 30 w(hp)g(macro)299
1988 y(incremen)n(ts)30 b(the)h(heap)g(p)r(oin)n(ter)f(b)n(y)g(t)n(w)n
(o)g(w)n(ords,)g(tags)g(the)h(old)g(v)-5 b(alue)30 b(of)h(the)g(heap)f
(p)r(oin)n(ter)299 2087 y(with)25 b(the)f(tag)g(1)f(\(for)h(cons\))g
(and)g(assigns)f(the)h(tagged)f(v)-5 b(alue)24 b(to)h(r1;)f(r1)f(no)n
(w)h(p)r(oin)n(ts)g(to)g(a)g(new)299 2187 y(t)n(w)n(o-w)n(ord)j(cons)h
(cell)h(on)g(the)g(heap.)41 b(The)29 b(next)h(t)n(w)n(o)e(assignmen)n
(ts)g(\014ll)h(in)g(the)h(\014rst)f(w)n(ord)e(in)299
2286 y(this)h(cell)g(with)g(the)h(v)-5 b(alue)27 b(of)h(H)h(from)e(the)
h(stac)n(k)f(and)h(the)g(second)g(w)n(ord)e(with)j(the)f(v)-5
b(alue)28 b(of)299 2386 y(NT)33 b(in)f(r3.)51 b(The)33
b(assignmen)n(t)e(to)h(r3)g(puts)h(the)g(tagged)e(p)r(oin)n(ter)h(to)h
(the)f(cons)g(cell,)i(i.e.)52 b(C,)299 2486 y(where)26
b(the)h(caller)f(exp)r(ects)g(it)h(to)g(b)r(e,)g(and)g(the)g(goto)e
(branc)n(hes)g(to)i(the)g(pro)r(cedure)e(epilogue.)399
2585 y(The)31 b(co)r(de)f(w)n(e)h(ha)n(v)n(e)f(just)h(discussed)g(mak)n
(es)f(sev)n(eral)f(assumptions)h(whic)n(h)h(are)f(safe)h(b)r(e-)299
2685 y(cause)c(they)h(are)e(in)n(v)-5 b(arian)n(ts)26
b(of)i(our)f(execution)g(mo)r(del:)440 2868 y Fo(\017)66
b Fp(Eac)n(h)24 b(called)h(pro)r(cedure)f(lea)n(v)n(es)g(the)h(stac)n
(k)g(p)r(oin)n(ter)g(exactly)f(as)h(it)g(found)h(it.)37
b(There-)548 2967 y(fore)29 b(if)i(a)e(pro)r(cedure)g(lea)n(v)n(es)g(a)
g(v)-5 b(alue)30 b(at)g(a)f(particular)g(o\013set)h(from)g(sp,)g(it)g
(kno)n(ws)f(it)548 3067 y(will)f(still)g(b)r(e)g(there)f(when)h(a)f
(pro)r(cedure)g(it)h(calls)f(returns.)440 3233 y Fo(\017)66
b Fp(The)21 b(v)-5 b(alues)21 b(in)h(the)g(registers)d(holding)i(the)h
(input)g(argumen)n(ts,)f(r1)g(and)g(r2,)g(cannot)g(b)r(e)548
3333 y(un)n(b)r(ound)i(v)-5 b(ariables.)34 b(The)23 b(mo)r(de)f
(analysis)g(algorithm)f(guaran)n(tees)g(that)i(consumers)548
3432 y(of)36 b(a)f(v)-5 b(ariable)35 b(\(or)g(part)g(of)g(a)h(v)-5
b(ariable\))35 b(will)h(b)r(e)g(sc)n(heduled)f(to)h(execute)f(after)h
(its)548 3532 y(pro)r(ducer.)440 3698 y Fo(\017)66 b
Fp(The)35 b(v)-5 b(alues)34 b(in)h(r1)f(and)g(r2)g(do)g(not)h(need)g
(to)g(b)r(e)g(dereferenced.)57 b(The)35 b(ordering)e(of)548
3797 y(consumers)d(after)g(pro)r(ducers)g(means)g(that)h(consumers)e
(can)i(b)r(e)g(passed)f(the)h(v)-5 b(alues)548 3897 y(of)38
b(v)-5 b(ariables)36 b(rather)h(than)h(p)r(oin)n(ters)f(to)h(them.)68
b(Since)38 b(the)h(v)-5 b(alues)37 b(are)g(a)n(v)-5 b(ailable)548
3997 y(when)30 b(building)f(structures,)g(\014elds)h(inside)f
(structures)g(do)g(not)g(need)h(dereferencing)548 4096
y(either.)399 4279 y(The)37 b(lo)n(w-lev)n(el)e(optimizer)i(in)h(the)f
(Mercury)f(compiler)h(turns)g(the)h(co)r(de)f(in)g(\014gure)g(3.1)299
4379 y(in)n(to)26 b(the)h(co)r(de)f(in)h(\014gure)e(3.2.)36
b(The)27 b(optimizer)f(can)g(and)g(do)r(es)g(\014nd)h(out)f(that)h(the)
g(base)f(case)299 4478 y(do)r(esn't)d(con)n(tain)f(an)n(y)g(calls)g
(and)h(hence)g(do)r(es)g(not)f(need)h(a)g(stac)n(k)f(frame.)35
b(It)23 b(therefore)f(dela)n(ys)299 4578 y(the)i(creation)e(of)i(the)g
(stac)n(k)e(frame)i(un)n(til)g(execution)f(en)n(ters)g(the)h(co)r(de)f
(of)h(the)g(recursiv)n(e)e(case;)299 4677 y(this)j(w)n(a)n(y)f(the)i
(base)e(case)h(do)r(es)g(not)g(ha)n(v)n(e)f(to)h(destro)n(y)f(the)h
(stac)n(k)g(frame.)35 b(Ho)n(w)n(ev)n(er,)24 b(on)h(most)299
4777 y(curren)n(t)k(RISC)h(mac)n(hines)g(branc)n(h)f(instructions)g(ha)
n(v)n(e)g(a)h(dela)n(y)f(slot,)h(an)g(instruction)g(after)299
4877 y(the)j(branc)n(h)e(instruction)i(that)f(is)h(executed)f(whether)h
(or)e(not)i(the)g(branc)n(h)e(is)i(tak)n(en.)51 b(The)299
4976 y(store)23 b(instruction)h(that)g(sa)n(v)n(es)e(succip)i(on)f(the)
i(stac)n(k)e(can)g(b)r(e)h(put)h(in)n(to)f(the)g(dela)n(y)f(slot)g(of)h
(the)299 5076 y(branc)n(h)k(instruction,)i(but)g(the)g(C)f(compiler)g
(will)h(only)f(do)g(this)g(if)h(it)g(kno)n(ws)e(that)i(the)g(store)299
5176 y(can)j(b)r(e)g(done)g(in)g(b)r(oth)h(branc)n(hes.)52
b(In)34 b(situations)e(lik)n(e)h(this)h(where)e(there)h(is)g(nothing)g
(else)1752 5325 y(17)p eop
%%Page: 18 18
18 17 bop 299 438 a Fk(append)p 568 438 27 4 v 29 w(3)p
641 438 V 31 w(0:)648 538 y(detstackvar\(0\))37 b(=)44
b(succip;)648 638 y(if)e(\(r1)h(==)f(mkword\(mktag\(0\),)37
b(mkbody\(0\)\)\))996 737 y(goto)42 b(append)p 1483 737
V 29 w(3)p 1556 737 V 31 w(0)p 1631 737 V 31 w(i1000;)648
837 y(incr)p 829 837 V 29 w(sp\(2\);)648 936 y(detstackvar\(1\))37
b(=)44 b(field\(mktag\(1\),)37 b(r1,)42 b(0\);)648 1036
y(r1)g(=)h(field\(mktag\(1\),)38 b(r1,)k(1\);)648 1136
y(localcall\(appen)o(d)p 1356 1136 V 25 w(3)p 1425 1136
V 31 w(0,)h(append)p 1851 1136 V 29 w(3)p 1924 1136 V
31 w(0)p 1999 1136 V 31 w(i3\);)299 1235 y(append)p 568
1235 V 29 w(3)p 641 1235 V 31 w(0)p 716 1235 V 31 w(i3:)648
1335 y(tag)p 785 1335 V 30 w(incr)p 991 1335 V 29 w(hp\(r1,)f
(mktag\(1\),)d(2\);)648 1435 y(field\(mktag\(1\),)e(r1,)42
b(0\))h(=)g(detstackvar\(1\);)648 1534 y(field\(mktag\(1\),)37
b(r1,)42 b(1\))h(=)g(r3;)648 1634 y(r3)f(=)h(r1;)648
1733 y(succip)e(=)i(detstackvar\(2\);)648 1833 y(decr)p
829 1833 V 29 w(sp\(2\);)648 1933 y(goto)e(*succip;)299
2032 y(append)p 568 2032 V 29 w(3)p 641 2032 V 31 w(0)p
716 2032 V 31 w(i1000:)648 2132 y(r3)h(=)h(r2;)648 2232
y(goto)e(*succip;)662 2555 y Fd(FIGURE)k(3.2.)25 b Fc(C)h(co)r(de)g
(for)g(the)g(forw)n(ard)h(mo)r(de)d(of)j(app)r(end,)e(optimized)299
2778 y Fp(to)g(do)g(b)r(efore)g(the)h(if)g(statemen)n(t,)g(the)g
(Mercury)e(optimizer)h(therefore)f(puts)i(the)g(assignmen)n(t)299
2877 y(b)r(efore)k(the)h(if)g(statemen)n(t.)46 b(By)30
b(allo)n(wing)f(the)i(C)g(compiler)f(to)g(put)h(the)g(store)f(in)h(the)
g(dela)n(y)299 2977 y(slot,)c(this)g(sp)r(eeds)h(up)f(the)h(recursiv)n
(e)d(case)i(and)g(do)r(es)g(not)g(harm)f(the)i(base)f(case.)35
b(The)28 b(stac)n(k)299 3076 y(o\013set)23 b(of)g(the)h(store)e(has)h
(to)g(b)r(e)h(adjusted)f(to)g(accoun)n(t)g(for)f(its)i(timing)f(\(b)r
(efore)g(the)h(incremen)n(t)299 3176 y(of)33 b(the)g(stac)n(k)f(p)r
(oin)n(ter\);)k(after)c(the)i(creation)e(of)h(the)g(stac)n(k)f(frame)h
(b)n(y)f(the)i(incr)p 2907 3176 25 4 v 29 w(sp)f(macro,)299
3276 y(detstac)n(kv)-5 b(ar\(2\))26 b(will)i(refer)f(to)g(sa)n(v)n(ed)f
(cop)n(y)h(of)h(succip.)399 3375 y(The)35 b(reason)f(wh)n(y)h(the)h(co)
r(de)f(generator)e(reorders)h(the)i(t)n(w)n(o)e(arms)h(of)g(the)h
(switc)n(h)f(ev)n(en)299 3475 y(without)24 b(optimization)g(is)g(also)f
(related)g(to)h(pip)r(elining.)36 b(On)24 b(most)g(curren)n(t)f(mac)n
(hines)g(tak)n(en)299 3575 y(branc)n(hes)29 b(cause)h(pip)r(eline)h
(breaks)e(and)h(th)n(us)h(can)f(b)r(e)h(signi\014can)n(tly)e(more)h
(exp)r(ensiv)n(e)g(than)299 3674 y(un)n(tak)n(en)e(branc)n(hes.)39
b(Since)28 b(the)h(recursiv)n(e)e(case)h(is)g(more)g(lik)n(ely)g(to)h
(b)r(e)g(executed,)g(the)g(co)r(de)299 3774 y(generator)18
b(puts)i(it)g(\014rst.)34 b(\(In)21 b(general)d(the)j(compiler)e(ma)n
(y)g(reorder)f(the)j(arms)e(of)g(disjunctions)299 3873
y(b)r(ecause)j(Mercury)f(is)h(a)g(pure)h(language)d(and)i(programmers)e
(ma)n(y)i(not)g(dep)r(end)h(on)f(the)h(order)299 3973
y(of)29 b(solutions.)40 b(Ho)n(w)n(ev)n(er,)27 b(this)i(consideration)f
(is)h(not)f(required)g(here,)h(since)g(exactly)f(one)h(of)299
4073 y(the)f(base)f(and)g(recursiv)n(e)f(cases)h(will)g(b)r(e)h
(executed.\))399 4172 y(The)33 b(optimizer)g(has)g(replaced)f(the)i
(goto)e(at)h(the)h(end)f(of)h(the)f(recursiv)n(e)f(case)h(with)g(the)
299 4272 y(co)r(de)f(at)g(the)h(target)e(of)i(the)f(goto,)h(the)g(pro)r
(cedure)e(epilogue,)i(eliminating)f(the)h(jump)g(and)299
4372 y(the)h(pip)r(eline)h(disruption)f(it)h(w)n(ould)e(cause.)56
b(Although)34 b(this)h(optimization)f(ma)n(y)f(increase)299
4471 y(the)27 b(size)f(of)g(the)h(ob)5 b(ject)26 b(co)r(de,)g(the)h
(cost)f(is)g(minimal)h(in)f(this)h(instance,)f(since)g(the)h(base)f
(case)299 4571 y(uses)e(a)h(cut-do)n(wn)f(v)n(ersion)f(of)i(the)g
(epilogue)f(\(one)h(that)g(do)r(es)f(not)h(touc)n(h)f(the)h(stac)n(k\))
g(created)299 4670 y(b)n(y)i(the)h(previous)f(optimization.)399
4770 y(The)35 b(last)g(optimization)g(is)g(the)h(remo)n(v)-5
b(al)34 b(of)h(the)h(redundan)n(t)f(cop)n(y)f(of)h(r1)g(in)n(to)g(r3)f
(just)299 4870 y(b)r(efore)27 b(the)h(recursiv)n(e)e(call.)37
b(This)27 b(mak)n(es)g(the)h(co)r(de)f(smaller)g(as)g(w)n(ell)g(as)g
(faster.)399 4969 y(In)j(the)g(follo)n(wing)f(sections)h(w)n(e)g(will)g
(sho)n(w)f(optimized)i(co)r(de)f(b)r(ecause)f(it)i(is)f(shorter)f(and)
299 5069 y(frequen)n(tly)e(clearer)f(to)i(h)n(umans.)1752
5325 y(18)p eop
%%Page: 19 19
19 18 bop 299 394 a Fj(3.4.)49 b(The)34 b(nondeterministic)g(exe)-5
b(cution)34 b(algorithm)299 542 y Fp(The)h(execution)f(algorithm)g(of)h
(the)g(previous)f(section)h(do)r(es)f(not)h(w)n(ork)e(for)i(m)n
(ultisolution)299 642 y(and)27 b(nondeterministic)g(predicates)g(b)r
(ecause)g(execution)g(ma)n(y)f(bac)n(ktrac)n(k)f(in)n(to)i(suc)n(h)g
(predi-)299 742 y(cates.)35 b(When)26 b(that)f(happ)r(ens,)g(con)n(tin)
n(ued)g(execution)f(requires)f(the)j(v)-5 b(alues)24
b(of)h(the)g(v)-5 b(ariables)299 841 y(o)r(ccurring)33
b(in)i(the)g(predicate,)h(but)g(these)e(v)-5 b(alues)35
b(w)n(ere)e(p)r(opp)r(ed)j(o\013)f(the)g(stac)n(k)e(when)i(the)299
941 y(pro)r(cedure)f(succeeded)h(for)f(the)i(\014rst)f(time.)60
b(W)-7 b(e)35 b(m)n(ust)h(therefore)e(add)h(to)g(our)f(execution)299
1040 y(mo)r(del)24 b(a)f(new)g(stac)n(k)g(whose)g(frames)g(are)f(p)r
(opp)r(ed)i(not)g(on)f(success)g(but)h(on)f(failure.)36
b(Lik)n(e)23 b(our)299 1140 y(other)g(dynamic)h(areas,)f(this)h
Fl(nondet)i(stack)33 b Fp(can)24 b(gro)n(w)e(in)i(an)n(y)f(direction)g
(and)h(its)g(placemen)n(t)299 1240 y(in)38 b(the)g(address)e(space)h
(do)r(es)g(not)h(matter.)66 b(The)38 b(new)f(stac)n(k)g(is)g(addressed)
g(b)n(y)g(t)n(w)n(o)g(new)299 1339 y(abstract)26 b(mac)n(hine)i
(registers:)299 1520 y(curfr)126 b(P)n(oin)n(ts)28 b(to)h(the)h(nondet)
f(stac)n(k)g(frame)g(of)g(the)h(curren)n(tly)e(executing)h
(nondetermin-)599 1619 y(istic)f(pro)r(cedure.)299 1784
y(maxfr)87 b(P)n(oin)n(ts)26 b(to)i(the)g(highest)f(frame)g(on)h(the)g
(nondet)f(stac)n(k.)399 1964 y(Eac)n(h)f(frame)h(of)h(the)g(nondet)f
(stac)n(k)g(consists)g(of)g(four)h(or)e(more)h(w)n(ords)f(con)n
(taining)299 2144 y(succip)217 b(The)31 b(address)e(of)h(the)h(lab)r
(el)g(to)f(return)g(to)h(when)g(the)g(curren)n(t)e(predicate)h(suc-)738
2244 y(ceeds.)299 2409 y(redoip)212 b(The)24 b(address)e(of)i(the)g
(lab)r(el)g(to)g(return)f(to)h(when)g(the)g(curren)n(t)f(alternativ)n
(e)g(fails;)738 2508 y(p)r(oin)n(ts)28 b(to)f(the)h(co)r(de)f(for)g
(the)h(next)g(alternativ)n(e)f(if)h(there)f(is)h(one.)299
2673 y(succfr)228 b(The)28 b(curfr)f(v)-5 b(alue)28 b(to)g(restore)e
(when)i(the)g(curren)n(t)f(predicate)g(succeeds;)h(p)r(oin)n(ts)738
2773 y(to)22 b(the)g(nondet)g(stac)n(k)f(frame)g(of)h(the)g(caller)f
(if)h(the)h(caller)e(is)g(a)h(nondeterministic)738 2872
y(predicate.)299 3037 y(prevfr)221 b(The)33 b(curfr)f(v)-5
b(alue)33 b(to)g(restore)e(when)i(the)g(curren)n(t)f(predicate)h
(fails;)i(p)r(oin)n(ts)e(to)738 3137 y(the)28 b(immediately)g(previous)
e(frame)h(on)h(the)g(nondet)f(stac)n(k.)299 3302 y(framev)-5
b(ars)86 b(Zero)31 b(or)h(more)g(v)-5 b(ariables)31 b(whose)h(v)-5
b(alues)33 b(ha)n(v)n(e)e(to)i(b)r(e)g(sa)n(v)n(ed)e(either)i(b)r(et)n
(w)n(een)738 3401 y(alternativ)n(es)24 b(\(input)i(argumen)n(ts\))f(or)
f(b)r(et)n(w)n(een)i(calls)e(in)i(an)f(alternativ)n(e)f(\(v)-5
b(ari-)738 3501 y(ables)27 b(lo)r(cal)g(to)g(an)h(alternativ)n(e\).)399
3681 y(A)e(framev)-5 b(ar)24 b(slot)i(will)g(con)n(tain)f(garbage)e(b)r
(efore)j(the)g(execution)g(of)f(the)i(pro)r(ducer)e(of)g(the)299
3781 y(v)-5 b(ariable)31 b(it)i(corresp)r(onds)e(to;)k(afterw)n(ard)c
(it)i(will)f(con)n(tain)g(the)h(v)-5 b(alue)32 b(of)h(the)g(v)-5
b(ariable.)50 b(A)n(t)299 3880 y(no)31 b(p)r(oin)n(t)g(will)g(these)g
(slots)g(con)n(tain)f(un)n(b)r(ound)i(v)-5 b(ariables,)31
b(and)g(p)r(oin)n(ters)f(will)h(nev)n(er)g(p)r(oin)n(t)299
3980 y(to)c(these)h(slots.)399 4080 y(The)d(framev)-5
b(ar)24 b(slots)h(are)g(at)g(the)h(lo)n(w)n(est)e(addresses)g(within)i
(eac)n(h)f(frame)g(while)g(the)h(curfr)299 4179 y(and)h(maxfr)f
(registers)f(and)i(the)g(p)r(oin)n(ters)g(b)r(et)n(w)n(een)f(frames)h
(all)f(con)n(tain)h(the)g(address)e(of)i(the)299 4279
y(highest)21 b(w)n(ord)g(within)h(the)g(frame)f(they)h(p)r(oin)n(t)f
(to.)35 b(This)21 b(arrangemen)n(t)f(lets)h(us)h(a)n(v)n(oid)e(storing)
299 4379 y(the)28 b(n)n(um)n(b)r(er)f(of)g(sa)n(v)n(ed)f(v)-5
b(alues)27 b(in)h(eac)n(h)e(frame,)h(as)g(it)h(can)f(b)r(e)h
(recalculated)e(as)h(frameaddr)f(-)299 4478 y(prevfr)21
b(-)g(4)g(w)n(ords)f(if)i(necessary)-7 b(.)33 b(The)22
b(disadv)-5 b(an)n(tage)20 b(is)h(that)h(it)g(is)f(v)n(ery)g(exp)r
(ensiv)n(e)g(to)g(c)n(hange)299 4578 y(the)33 b(size)g(of)f(the)h
(frame)g(after)f(the)h(frame)g(has)f(b)r(een)h(set)g(up.)53
b(Ho)n(w)n(ev)n(er,)32 b(w)n(e)g(feel)h(that)g(the)299
4677 y(time)26 b(cost)e(of)i(c)n(hanging)e(the)h(size)g(of)g(a)g(stac)n
(k)g(frame)f(w)n(ould)h(b)r(e)h(unjusti\014ed)g(ev)n(en)f(if)h(w)n(e)f
(used)299 4777 y(the)k(frame)f(la)n(y)n(out)f(b)r(est)h(suited)h(for)f
(this.)39 b(Therefore)27 b(w)n(e)h(nev)n(er)g(adjust)g(the)h(size)f(of)
g(frames)299 4877 y(on)c(either)g(stac)n(k)g(after)g(setup.)36
b(T)-7 b(o)24 b(reduce)g(stac)n(k)g(usage)f(w)n(e)h(instead)h(use)f(a)g
(graph-colouring)299 4976 y(algorithm)i(for)h(stac)n(k)g(slot)g(allo)r
(cation)g(on)g(b)r(oth)h(stac)n(ks.)399 5076 y(As)34
b(an)g(example)g(of)g(the)h(execution)f(algorithm)f(for)h(nondet)g(and)
g(m)n(ultidet)i(predicates)299 5176 y(\(whic)n(h)29 b(for)f(brevit)n
(y's)f(sak)n(e)g(w)n(e)i(will)f(lump)h(together)f(as)g(nondet)g
(predicates)g(in)h(the)g(rest)f(of)1752 5325 y(19)p eop
%%Page: 20 20
20 19 bop 299 394 a Fp(the)36 b(pap)r(er\),)h(consider)d(the)i(call)f
Fk(append\(A,)k(B,)k([1,2]\))p Fp(.)58 b(This)35 b(in)n(v)n(ok)n(es)e
(app)r(end)j(in)g(its)299 493 y(bac)n(kw)n(ard)25 b(mo)r(de,)j(whose)f
(form)g(after)h(mo)r(de)f(analysis)g(is:)299 651 y Fk(:-)43
b(pred)f(append\(list\(int)o(\),)37 b(list\(int\),)j(list\(int\)\).)299
751 y(:-)j(mode)f(append\(out,)d(out,)j(in\))g(is)h(multidet.)299
950 y(append\(A,)d(B,)i(C\))h(:-)648 1049 y(\()996 1149
y(A)g(:=)g([],)996 1249 y(B)g(:=)g(C)648 1348 y(;)996
1448 y(C)g(==)g([H|NT],)996 1548 y(append\(T,)d(B,)j(NT\),)996
1647 y(A)g(:=)g([H|T])648 1747 y(\).)399 1905 y Fp(\(Note)25
b(that)h(mo)r(de)f(analysis)f(rearranges)f(the)i(t)n(w)n(o)g(mo)r(des)g
(of)g(app)r(end)h(in)g(di\013eren)n(t)f(w)n(a)n(ys;)299
2004 y(compare)35 b(the)j(ab)r(o)n(v)n(e)d(with)j(the)f(in)n(ternal)f
(form)h(of)g(the)g(forw)n(ard)e(mo)r(de)i(of)g(app)r(end)g(from)299
2104 y(section)27 b(3.3.\))36 b(F)-7 b(or)27 b(this)h(Mercury)f(co)r
(de)g(the)h(compiler)f(generates)f(this)i(C)g(co)r(de:)299
2262 y Fk(append_3_1:)648 2361 y(mkframe\(2,)39 b(append_3_1_i2\);)648
2461 y(mark_hp\(frameva)o(r\(1)o(\)\))o(;)648 2560 y(framevar\(0\))g(=)
k(r3;)648 2660 y(r1)f(=)h(mkword\(mktag\(0\),)37 b(mkbody\(0\)\);)648
2760 y(r2)42 b(=)h(r3;)648 2859 y(succeed\(\);)299 2959
y(append_3_1_i2:)648 3059 y(restore_hp\(fram)o(eva)o(r\()o(1\))o(\);)
648 3158 y(modframe\(do_fai)o(l\);)648 3258 y(r1)f(=)h(framevar\(0\);)
648 3357 y(if)f(\(r1)h(==)f(mkword\(mktag\(0\),)37 b(mkbody\(0\)\)\))
996 3457 y(fail\(\);)648 3557 y(r3)42 b(=)h(field\(mktag\(1\),)38
b(r1,)k(1\);)648 3656 y(framevar\(0\))d(=)k(field\(mktag\(1\),)37
b(r1,)42 b(0\);)648 3756 y(localcall\(appen)o(d_3)o(_1)o(,)37
b(append_3_1_i3\);)299 3856 y(append_3_1_i3:)648 3955
y(tag_incr_hp\(r3,)g(mktag\(1\),)j(2\);)648 4055 y(field\(mktag\(1\),)d
(r3,)42 b(0\))h(=)g(framevar\(0\);)648 4154 y(field\(mktag\(1\),)37
b(r3,)42 b(1\))h(=)g(r1;)648 4254 y(r1)f(=)h(r3;)648
4354 y(succeed\(\);)399 4511 y Fp(F)-7 b(ollo)n(wing)22
b(the)h(pattern)g(of)h(all)f(nondeterministic)g(pro)r(cedures,)g(the)g
(co)r(de)g(of)h(app)r(end)p 3150 4511 25 4 v 30 w(3)p
3222 4511 V 29 w(1)299 4611 y(starts)h(with)h(an)g(in)n(v)n(o)r(cation)
f(of)g(the)i(mkframe)e(macro,)g(whic)n(h)h(creates)f(a)g(new)h(frame)g
(on)f(the)299 4711 y(top)k(of)h(the)g(nondet)f(stac)n(k)g(and)g(sets)g
(b)r(oth)h(maxfr)f(and)g(curfr)g(to)h(p)r(oin)n(t)f(to)h(the)g(new)f
(frame.)299 4810 y(Mkframe's)35 b(argumen)n(ts)g(giv)n(e)h(the)g(n)n
(um)n(b)r(er)g(of)h(framev)-5 b(ar)35 b(slots)g(to)i(reserv)n(e)d(in)j
(the)f(frame)299 4910 y(and)29 b(the)i(initial)f(v)-5
b(alue)29 b(of)h(the)g(redoip)f(slot.)43 b(Mkframe)29
b(also)g(\014lls)h(in)g(the)g(succip)g(slot)f(\(with)299
5010 y(the)g(v)-5 b(alue)28 b(put)i(in)e(the)h(succip)g(register)e(b)n
(y)h(the)h(call\),)g(the)g(prevfr)f(slot)g(\(with)i(the)f(previous)299
5109 y(v)-5 b(alue)28 b(of)h(maxfr\),)g(and)f(the)h(succfr)g(slot)f
(\(with)h(the)g(previous)f(v)-5 b(alue)28 b(of)h(curfr\).)40
b(The)29 b(call)f(to)1752 5325 y(20)p eop
%%Page: 21 21
21 20 bop 299 394 a Fp(mkframe)29 b(is)g(then)h(follo)n(w)n(ed)e(b)n(y)
h(co)r(de)g(to)g(sa)n(v)n(e)f(the)i(curren)n(t)e(v)-5
b(alue)30 b(of)f(the)h(heap)f(p)r(oin)n(ter)f(in)299
493 y(framev)-5 b(ar)18 b(1)g(and)h(the)g(curren)n(t)g(v)-5
b(alue)18 b(of)h(C)g(in)h(framev)-5 b(ar)17 b(0)i(for)f(use)h(b)n(y)g
(later)f(alternativ)n(es.)33 b(The)299 593 y(\014rst)26
b(alternativ)n(e)f(consists)g(of)h Fk(A)43 b(:=)g([])25
b Fp(and)h Fk(B)43 b(:=)g(C)p Fp(,)26 b(so)f(t)n(w)n(o)h(assignmen)n
(ts)e(implemen)n(ting)299 692 y(these)i(uni\014cations)g(follo)n(w)f
(next.)37 b(A)n(t)26 b(the)h(end)f(of)h(the)f(alternativ)n(e)f(\(as)h
(at)g(the)g(end)h(of)f(ev)n(ery)299 792 y(alternativ)n(e\))32
b(w)n(e)g(ha)n(v)n(e)g(to)g(reset)g(curfr)g(to)h(p)r(oin)n(t)g(to)g
(the)g(frame)f(of)h(the)g(calling)f(pro)r(cedure)299
892 y(and)26 b(branc)n(h)f(to)h(the)g(con)n(tin)n(uation)f(address)g
(within)i(that)f(pro)r(cedure.)35 b(The)26 b(succeed)g(macro)299
991 y(carries)19 b(out)i(b)r(oth)h(actions,)f(taking)g(b)r(oth)g
(addresses)f(from)h(their)g(slots)f(in)h(the)h(curren)n(t)e(frame.)299
1091 y(Since)g(maxfr)f(is)g(not)h(reset,)g(the)g(frame)g(of)f(this)h
(in)n(v)n(o)r(cation)e(of)i(app)r(end)g(remains)e(on)i(the)g(stac)n(k.)
399 1191 y(Sometime)33 b(later)f(some)h(other)g(part)f(of)h(the)h
(program)d(will)j(w)n(an)n(t)e(to)h(\014nd)h(the)f(next)h(so-)299
1290 y(lution,)c(whic)n(h)g(it)g(do)r(es)f(b)n(y)g(executing)h(the)g
(redo)e(macro.)42 b(The)30 b(Mercury)e(execution)i(mo)r(del)299
1390 y(uses)24 b(simple)g(c)n(hronological)d(bac)n(ktrac)n(king,)h
(i.e.)36 b(w)n(e)24 b(alw)n(a)n(ys)e(bac)n(ktrac)n(k)g(to)i(the)g(most)
g(recen)n(t)299 1489 y(c)n(hoice.)51 b(The)33 b(redo)e(macro)g
(therefore)h(branc)n(hes)f(to)i(the)g(lab)r(el)f(whose)g(address)g(it)h
(\014nds)f(in)299 1589 y(the)25 b(redoip)f(slot)g(in)h(top)g(nondet)g
(frame)f(and)h(sets)f(curfr)g(to)h(p)r(oin)n(t)g(to)f(that)h(frame)f
(to)h(pro)n(vide)299 1689 y(the)j(prop)r(er)f(en)n(vironmen)n(t)f(for)h
(the)h(co)r(de)g(b)r(eing)f(branc)n(hed)g(to.)399 1788
y(Ev)n(en)n(tually)g(the)j(nondet)f(stac)n(k)f(frame)h(w)n(e)f(created)
h(in)g(this)g(in)n(v)n(o)r(cation)f(of)h(app)r(end)h(will)299
1888 y(b)r(ecome)38 b(the)g(top)g(nondet)g(stac)n(k)g(frame.)67
b(When)39 b(that)f(happ)r(ens,)j(an)d(in)n(v)n(o)r(cation)e(of)i(the)
299 1988 y(redo)g(macro)f(will)i(set)g(curfr)g(to)f(p)r(oin)n(t)h(to)g
(this)g(frame)f(and)h(execution)g(will)g(con)n(tin)n(ue)f(at)299
2087 y(app)r(end)p 569 2087 25 4 v 30 w(3)p 641 2087
V 29 w(1)p 712 2087 V 30 w(i2.)43 b(The)29 b(co)r(de)h(there)f(starts)g
(b)n(y)h(in)n(v)n(oking)e(the)i(restore)p 2531 2087 V
28 w(hp)g(macro)f(to)g(reco)n(v)n(er)299 2187 y(all)35
b(the)i(space)e(allo)r(cated)g(since)g(the)i(start)e(of)h(the)g
(previous)e(alternativ)n(e.)61 b(The)36 b(mark)p 3172
2187 V 28 w(hp)299 2286 y(and)30 b(restore)p 715 2286
V 29 w(hp)g(macros)f(usually)i(just)g(cop)n(y)e(the)i(heap)g(p)r(oin)n
(ter)f(to)g(and)h(from)f(the)h(named)299 2386 y(lo)r(cations,)e(but)i
(they)f(and)g(incr)p 1325 2386 V 29 w(hp)g(are)f(implemen)n(ted)h(as)g
(macros)e(to)i(allo)n(w)e(us)i(to)g(explore)299 2486
y(other)20 b(memory)h(managemen)n(t)f(strategies)f(as)i(w)n(ell.)34
b(F)-7 b(or)21 b(example,)h(b)n(y)e(rede\014ning)h(incr)p
3076 2486 V 29 w(hp)h(to)299 2585 y(call)i(gc)p 532 2585
V 29 w(mallo)r(c,)h(w)n(e)f(can)g(a)n(v)n(oid)f(the)i(need)g(for)f(our)
f(o)n(wn)h(garbage)e(collector)i(and)g(simply)h(link)299
2685 y(in)f(Hans)f(Bo)r(ehm's)h(conserv)-5 b(ativ)n(e)22
b(garbage)f(collector)i(for)g(C)h([2].)35 b(In)24 b(suc)n(h)f(a)h
(setup,)h(w)n(e)e(could)299 2785 y(put)33 b(our)e(o)n(wn)h(wrapp)r(ers)
f(around)g(gc)p 1519 2785 V 29 w(mallo)r(c)h(and)g(gc)p
2063 2785 V 29 w(free)g(to)g(allo)n(w)f(a)h(restore)p
2902 2785 V 28 w(hp)h(to)f(free)299 2884 y(all)c(blo)r(c)n(ks)g(allo)r
(cated)g(since)g(the)h(corresp)r(onding)d(mark)p 2097
2884 V 29 w(hp)j(without)g(in)n(v)n(oking)e(the)i(general)299
2984 y(garbage)j(collector,)i(but)h(this)f(has)f(quite)i(high)f(o)n(v)n
(erhead)e(during)h(forw)n(ard)g(execution.)55 b(A)299
3083 y(simpler)38 b(solution)h(is)g(to)g(de\014ne)g(mark)p
1579 3083 V 29 w(hp)g(and)g(restore)p 2159 3083 V 28
w(hp)g(to)g(do)g(nothing)f(and)h(let)g(the)299 3183 y(garbage)32
b(collector)i(reco)n(v)n(er)e(all)j(memory)-7 b(.)58
b(Of)35 b(course,)g(if)h(the)f(Mercury)f(compiler)g(kno)n(ws)299
3283 y(this)22 b(will)h(happ)r(en,)g(it)g(should)f(not)g(reserv)n(e)e
(a)i(framev)-5 b(ar)21 b(slot)h(for)g(the)g(sa)n(v)n(ed)f(hp.)35
b(T)-7 b(o)22 b(reduce)g(C)299 3382 y(compilation)g(time,)i(it)f
(should)g(also)e(a)n(v)n(oid)g(emitting)j(the)f(mark)p
2325 3382 V 29 w(hp)f(and)h(restore)p 2872 3382 V 28
w(hp)g(macros.)399 3482 y(The)30 b(co)r(de)h(for)f(the)h(second)f
(alternativ)n(e)f(con)n(tin)n(ues)h(after)h(the)g(restore)p
2698 3482 V 28 w(hp)g(b)n(y)g(up)r(dating)299 3582 y(the)26
b(redoip)e(slot)h(via)g(the)h(mo)r(dframe)f(macro.)35
b(Since)25 b(w)n(e)g(are)g(en)n(tering)f(the)i(last)f(alternativ)n(e,)
299 3681 y(the)35 b(new)g(v)-5 b(alue)34 b(of)h(redoip)e(should)i
(cause)f(this)h(call)f(to)g(fail)h(if)g(it)g(is)g(ev)n(er)e(ask)n(ed)g
(for)i(more)299 3781 y(solutions.)56 b(Do)p 808 3781
V 29 w(fail)35 b(is)f(a)f(global)g(v)-5 b(ariable)33
b(that)i(con)n(tains)e(the)h(address)f(of)h(a)g(lab)r(el)g(in)g(the)299
3880 y(Mercury)g(run)n(time)i(system.)61 b(The)36 b(co)r(de)f(at)h
(this)g(lab)r(el)f(executes)h(the)g(fail)f(macro,)i(whic)n(h)299
3980 y(remo)n(v)n(es)28 b(the)j(topmost)f(frame)g(on)g(the)h(nondet)f
(stac)n(k)g(\(b)n(y)g(setting)h(maxfr)f(to)g(the)h(v)-5
b(alue)30 b(of)299 4080 y(the)22 b(prevfr)f(slot)h(of)f(the)h(frame)g
(b)r(eing)g(remo)n(v)n(ed\),)f(sets)h(curfr)f(to)h(p)r(oin)n(t)g(to)f
(the)i(newly)e(exp)r(osed)299 4179 y(frame,)27 b(and)h(branc)n(hes)e
(to)h(the)h(lab)r(el)g(whose)f(address)f(is)i(in)g(the)g(redoip)e(slot)
i(of)f(that)h(frame.)399 4279 y(The)23 b(next)h(statemen)n(t)g(copies)f
(the)h(sa)n(v)n(ed)f(v)-5 b(alue)24 b(of)f(the)h(argumen)n(t)f(C)h
(from)f(framev)-5 b(ar)23 b(slot)299 4379 y(0)35 b(in)n(to)f(the)i
(register)d(r1)h(for)h(further)g(manipulation.)59 b(This)35
b(register)e(do)r(esn't)j(ha)n(v)n(e)d(to)i(b)r(e)299
4478 y(\(and)f(in)g(this)g(case)f(isn't\))h(the)g(same)f(register)g(as)
g(the)h(one)f(the)h(argumen)n(t)f(w)n(as)g(passed)f(in)299
4578 y(originally;)23 b(indeed)h(the)g(v)-5 b(alue)23
b(do)r(es)g(not)h(need)f(to)h(b)r(e)g(put)g(in)n(to)f(a)g(register)f
(at)h(all)h(if)g(the)f(b)r(o)r(dy)299 4677 y(of)g(the)h(particular)e
(alternativ)n(e)h(do)r(es)g(not)g(need)h(it)g(or)f(if)h(the)g(v)-5
b(alue)23 b(is)g(used)h(only)f(once.)35 b(Here,)299 4777
y(ho)n(w)n(ev)n(er,)29 b(w)n(e)i(m)n(ust)g(test)g(the)g(v)-5
b(alue)31 b(of)f(C)h(and)g(p)r(ossibly)f(get)h(H)g(and)g(NT)g(out)f(of)
h(the)g(cons)299 4877 y(cell)c(it)h(p)r(oin)n(ts)g(to,)g(so)e(it)j(is)e
(more)g(e\016cien)n(t)h(to)f(load)g(it)h(in)n(to)f(a)g(register.)399
4976 y(Ev)n(en)j(though)h(the)h(source)f(for)g(the)g(second)g
(alternativ)n(e)g(con)n(tains)f(a)h(test)h(of)f(C)h(against)299
5076 y(cons,)22 b(the)g(compiler)e(generates)g(co)r(de)h(that)h
(compares)e(C)h(to)h(nil,)h(since)e(this)g(do)r(es)g(not)h(require)299
5176 y(masking)32 b(o\013)h(of)g(the)h(non-tag)d(parts)i(of)g(r1.)52
b(If)34 b(C)f(is)g(nil,)i(the)e(second)f(alternativ)n(e)g(cannot)1752
5325 y(21)p eop
%%Page: 22 22
22 21 bop 299 394 a Fp(succeed,)29 b(so)f(the)h(co)r(de)f(in)n(v)n(ok)n
(es)f(the)i(fail)g(macro)f(directly)-7 b(.)40 b(\(A)29
b(redo)f(w)n(ould)g(in)n(v)n(ok)n(e)g(the)h(fail)299
493 y(macro)f(indirectly)i(through)f(the)h(redoip)f(slot,)h(whic)n(h)f
(is)h(sligh)n(tly)f(slo)n(w)n(er.\))41 b(If)30 b(C)g(is)g(not)f(nil,)
299 593 y(w)n(e)g(extract)g(H)h(and)f(NT)h(from)f(the)h(cons)f(cell)g
(C)h(p)r(oin)n(ts)f(to.)42 b(Since)30 b(the)g(v)-5 b(alue)29
b(of)h(H)g(will)f(b)r(e)299 692 y(needed)h(after)g(the)g(call)g(but)g
(the)g(v)-5 b(alue)30 b(of)g(NT)g(will)h(not)f(b)r(e,)h(w)n(e)e(sa)n(v)
n(e)g(the)h(v)-5 b(alue)30 b(of)g(H)g(in)g(a)299 792
y(framev)-5 b(ar)28 b(slot)i(and)g(put)g(NT)g(in)n(to)g(r3,)f(where)h
(it)g(should)g(b)r(e)g(for)f(the)h(recursiv)n(e)e(call.)44
b(Since)299 892 y(the)21 b(lifetimes)h(of)f(C)g(and)g(H)h(do)e(not)i(o)
n(v)n(erlap,)e(the)h(compiler)g(uses)g(the)g(same)g(framev)-5
b(ar)19 b(slot)i(for)299 991 y(them.)45 b(The)30 b(recursiv)n(e)e(call)
i(ma)n(y)g(succeed)f(sev)n(eral)g(times.)44 b(In)31 b(our)e(example,)h
(the)h(v)-5 b(alue)30 b(of)299 1091 y(NT)c(will)g(b)r(e)g([2],)g(and)f
(the)h(recursiv)n(e)e(call)h(will)h(succeed)g(t)n(wice,)g(the)g
(solutions)f(b)r(eing)g(T)h(=)f([],)299 1191 y(B)g(=)g([2])f(and)h(T)h
(=)e([2],)i(B)f(=)g([].)36 b(When)25 b(the)h(recursiv)n(e)d(call)i
(returns)f(one)h(of)g(these)g(solutions,)299 1290 y(the)h(co)r(de)f(at)
g(app)r(end)p 998 1290 25 4 v 30 w(3)p 1070 1290 V 30
w(1)p 1142 1290 V 29 w(i3)g(will)h(create)e(a)h(new)h(cons)e(cell)i
(con)n(taining)e(H)i(\(whic)n(h)f(is)h(1\))f(and)299
1390 y(T)d(and)f(return)h(the)g(result)g(as)f(the)h(v)-5
b(alue)22 b(of)g(A)g(in)g(r1,)g(together)f(with)h(the)h(un)n(touc)n
(hed)e(v)-5 b(alue)22 b(of)299 1489 y(B)i(in)g(r2.)34
b(Therefore)23 b(the)h(second)f(alternativ)n(e)g(succeeds)g(t)n(wice)h
(with)g(the)g(solutions)f(A)i(=)e([1],)299 1589 y(B)k(=)h([2])f(and)g
(A)h(=)g([1,2],)e(B)i(=)f([].)399 1689 y(Supp)r(ose)33
b(w)n(e)g(w)n(an)n(ted)g(to)g(discard)g(nondet)h(stac)n(k)e(frames)h
(as)g(so)r(on)g(as)f(p)r(ossible.)55 b(Since)299 1788
y(w)n(e)29 b(cannot)f(lea)n(v)n(e)g(a)h(hole)g(in)g(the)g(nondet)h
(stac)n(k,)e(b)r(efore)h(w)n(e)g(could)g(discard)f(this)h(frame)g(w)n
(e)299 1888 y(w)n(ould)e(ha)n(v)n(e)g(to)g(c)n(hec)n(k)g(whether)h
(this)g(frame)f(w)n(as)f(on)i(top)g(of)f(the)h(stac)n(k)f(or)g(not)h
(\(the)g(test)g(is)299 1988 y(simply)h(curfr)f(==)g(maxfr\).)40
b(The)29 b(problem)g(is)f(that)i(although)e(this)h(test)g(is)g(c)n
(heap,)f(so)g(is)h(an)299 2087 y(in)n(v)n(o)r(cation)f(of)i(the)g(fail)
g(macro,)f(and)g(the)i(test)f(will)g(fail)f(some)g(of)h(the)g(time.)44
b(F)-7 b(or)29 b(example,)299 2187 y(after)24 b(returning)g(the)h
(solution)f(A)h(=)f([1,2],)g(B)h(=)f([])g(the)h(frame)f(of)h(the)g
(original)e(in)n(v)n(o)r(cation)g(of)299 2286 y(app)r(end)p
569 2286 V 30 w(3)p 641 2286 V 29 w(1)j(will)g(b)r(e)g(on)g(top)f(of)h
(the)g(nondet)g(stac)n(k,)f(but)i(after)e(returning)g(A)i(=)e([1],)h(B)
g(=)f([2])299 2386 y(it)32 b(will)g(not)g(b)r(e.)50 b(Therefore)31
b(in)h(this)g(case)f(lea)n(ving)f(the)i(frame)g(on)f(the)i(nondet)e
(stac)n(k)g(un)n(til)299 2486 y(failure)g(is)g(faster)f(than)h(trying)g
(to)g(discard)f(it)i(on)e(the)i(last)f(success,)g(and)g(this)g(is)g
(what)g(the)299 2585 y(co)r(de)h(ab)r(o)n(v)n(e)e(do)r(es.)50
b(The)32 b(curren)n(t)f(Mercury)g(compiler)g(discards)g(the)h(nondet)g
(stac)n(k)f(frame)299 2685 y(on)h(the)h(last)f(success)f(only)h(if)h
(the)f(last)g(alternativ)n(e)f(con)n(tains)h(no)g(nondeterministic)g
(co)r(de,)299 2785 y(b)r(ecause)27 b(only)g(in)h(this)g(case)f(can)g
(the)h(run)n(time)f(test)h(b)r(e)g(a)n(v)n(oided.)299
3038 y Fj(3.5.)49 b(The)34 b(semideterministic)g(exe)-5
b(cution)34 b(algorithm)299 3183 y Fp(Semideterministic)26
b(predicates)e(cannot)g(succeed)h(more)g(than)g(once.)35
b(Since)26 b(they)f(can)g(nev)n(er)299 3283 y(b)r(e)34
b(bac)n(ktrac)n(k)n(ed)d(in)n(to,)k(their)f(lo)r(cal)f(v)-5
b(ariables)32 b(can)h(b)r(e)h(stored)f(in)h(the)g(det)g(stac)n(k.)54
b(This)34 b(is)299 3382 y(faster)24 b(than)h(storing)f(them)i(on)f(the)
g(nondet)g(stac)n(k,)g(since)g(w)n(e)f(nev)n(er)h(ha)n(v)n(e)e(to)i
(allo)r(cate)f(space)299 3482 y(for)j(and)g(\014ll)h(in)g(the)g
(\014xed)g(slots)f(of)g(nondet)h(stac)n(k)f(frames.)399
3582 y(There)21 b(are)h(t)n(w)n(o)g(w)n(a)n(ys)f(to)h(implemen)n(t)h
(failure)f(in)h(semidet)g(co)r(de.)35 b(One)22 b(approac)n(h)e(uses)i
(the)299 3681 y(mec)n(hanisms)e(w)n(e)g(in)n(tro)r(duced)h(in)g(the)g
(previous)f(section.)34 b(When)21 b(a)g(test)g(uni\014cation)f(fails)h
(in)g(a)299 3781 y(semidet)j(predicate,)g(this)h(approac)n(h)d(calls)h
(for)h(executing)f(a)h(redo)f(to)h(cause)f(bac)n(ktrac)n(king)f(to)299
3880 y(the)e(most)f(recen)n(t)g(p)r(oin)n(t)h(where)f(an)g(alternativ)n
(e)f(action)h(exists.)34 b(This)20 b(means)f(that)h(predicates)299
3980 y(whic)n(h)30 b(call)g(semidet)g(predicates)g(m)n(ust)g(ensure)f
(the)i(redoip)e(slot)h(in)h(the)f(top)g(nondet)h(stac)n(k)299
4080 y(frame)36 b(p)r(oin)n(ts)h(to)f(the)h(appropriate)e(failure)h
(con)n(tin)n(uation.)63 b(Suc)n(h)36 b(predicates)g(m)n(ust)h(also)299
4179 y(b)r(e)f(prepared)f(to)h(restore)f(the)h(det)g(stac)n(k)g(p)r
(oin)n(ter)f(to)h(the)h(v)-5 b(alue)36 b(it)g(had)g(b)r(efore)g(the)g
(call.)299 4279 y(\(The)i(semidet)f(predicate)g(cannot)g(restore)f(the)
i(det)g(stac)n(k)e(p)r(oin)n(ter)h(itself,)k(since)c(it)h(do)r(es)299
4379 y(not)d(create)g(its)g(o)n(wn)g(nondet)h(stac)n(k)e(frame,)j(and)f
(therefore)e(cannot)h(gain)g(con)n(trol)f(at)h(the)299
4478 y(appropriate)k(time.\))78 b(Suc)n(h)41 b(restoration)e(requires)h
(a)g(nondet)h(stac)n(k)f(frame)h(with)g(a)g(slot)299
4578 y(reserv)n(ed)27 b(to)i(store)f(the)i(det)f(stac)n(k)f(p)r(oin)n
(ter.)41 b(This)29 b(is)g(wh)n(y)g(predicates)f(that)h(call)g(a)f
(semidet)299 4677 y(predicate)38 b(m)n(ust)h(establish)g(their)g(o)n
(wn)f(nondet)i(stac)n(k)e(frame)g(instead)h(of)g(b)r(orro)n(wing)e(an)
299 4777 y(existing)h(one.)71 b(This)39 b(complicates)f(the)h(implemen)
n(tation)g(of)g(semidet)g(predicates)f(called)299 4877
y(from)27 b(within)h(det)g(predicates,)f(e.g.)37 b(as)27
b(the)h(condition)f(of)g(an)h(if-then-else.)399 4976
y(The)39 b(other)g(approac)n(h)e(is)j(to)f(conceptually)g(transform)f
(semidet)i(predicates)f(in)n(to)g(de-)299 5076 y(terministic)c
(predicates)f(that)h(return)f(a)h(success/failure)e(indication.)58
b(W)-7 b(e)35 b(add)g(a)f(hidden)299 5176 y(argumen)n(t)d(to)i(the)f
(predicate)g(to)g(hold)h(this)f(b)r(o)r(olean)g(v)-5
b(alue.)52 b(If)32 b(the)h(predicate)f(completes)1752
5325 y(22)p eop
%%Page: 23 23
23 22 bop 299 394 a Fp(successfully)-7 b(,)26 b(then)h(it)g(m)n(ust)g
(store)e(the)i(v)-5 b(alue)26 b(of)g(an)n(y)g(output)h(argumen)n(ts)e
(in)i(the)g(appropri-)299 493 y(ate)33 b(registers,)f(set)h(the)h
(success)e(indication)h(to)g(true,)h(and)f(then)h(return.)52
b(On)33 b(failure,)h(the)299 593 y(predicate)26 b(m)n(ust)h(set)g(the)g
(success)f(indication)h(to)g(false)g(and)f(return)h(immediately)g(from)
f(the)299 692 y(p)r(oin)n(t)32 b(of)g(failure.)49 b(Predicates)30
b(that)i(call)g(a)f(semidet)h(predicate)f(m)n(ust)h(examine)g(the)g(v)
-5 b(alue)299 792 y(of)31 b(the)h(status)f(register)f(and)i(act)f
(accordingly)-7 b(.)46 b(This)32 b(approac)n(h)d(requires)h(either)i
(that)f(the)299 892 y(abstract)22 b(mac)n(hine)h(reserv)n(e)f(one)h
(register)f(purely)h(for)g(holding)g(success)g(indications,)h(or)e
(that)299 991 y(w)n(e)28 b(use)g(one)g(of)h(the)g(general)e(purp)r(ose)
h(registers)e(for)i(this.)40 b(The)29 b(latter)f(implies)h(that)f
(predi-)299 1091 y(cates)d(m)n(ust)g(kno)n(w)g(the)h(determinism)f(of)g
(the)h(predicates)f(they)g(call,)h(in)f(order)f(to)i(determine)299
1191 y(whic)n(h)32 b(registers)f(to)i(use)f(for)g(argumen)n(t)g
(passing.)51 b(Ho)n(w)n(ev)n(er,)31 b(this)i(requiremen)n(t)f(p)r(oses)
g(no)299 1290 y(di\016cult)n(y)-7 b(,)28 b(since)f(that)h(information)f
(is)h(readily)e(a)n(v)-5 b(ailable)27 b(in)g(declarations.)399
1390 y(The)h(curren)n(t)f(implemen)n(tation)h(uses)g(the)g(second)g
(approac)n(h,)e(with)j(success)e(indications)299 1489
y(stored)g(in)h(the)h(general)e(purp)r(ose)g(register)g(r1.)37
b(This)28 b(requires)f(argumen)n(t)g Fe(i)h Fp(to)g(b)r(e)g(stored)f
(in)299 1589 y(register)e(r)p Fe(n)15 b Fp(+)h(1,)26
b(whic)n(h)h(mak)n(es)e(the)i(calling)f(con)n(v)n(en)n(tion)e(for)i
(semidet)h(predicates)f(di\013eren)n(t)299 1689 y(from)33
b(the)h(calling)f(con)n(v)n(en)n(tion)f(for)h(det)h(or)f(nondet)g
(predicates.)54 b(This)34 b(is)f(not)h(a)f(problem,)299
1788 y(ho)n(w)n(ev)n(er,)26 b(since)i(the)g(co)r(de)g(generator)d(alw)n
(a)n(ys)h(kno)n(ws)h(the)h(determinism)g(of)g(the)h(predicates)299
1888 y(it)f(is)f(dealing)g(with.)299 2141 y Fj(3.6.)49
b(If-then-else)33 b(and)i(ne)-5 b(gation)299 2286 y Fp(The)27
b(if-then-else)g(and)g(negation)g(constructs)f(in)h(most)g(v)-5
b(arian)n(ts)26 b(of)i(Prolog)c(are)j(non-logical)299
2386 y(and)k(unsound:)45 b(they)32 b(can)f(cause)g(the)h(system)f(to)g
(compute)h(answ)n(ers)e(whic)n(h)h(are)g(inconsis-)299
2486 y(ten)n(t)24 b(with)g(the)g(program)e(view)n(ed)h(as)g(a)h
(logical)e(theory)-7 b(.)35 b(Some)24 b(existing)f(logic)g(programming)
299 2585 y(systems)29 b(suc)n(h)g(as)g(NU-Prolog)f(and)h(G\177)-42
b(odel)29 b(pro)n(vide)g(logical)f(and)h(sound)h(replacemen)n(ts)e(for)
299 2685 y(these)33 b(Prolog)e(constructs.)54 b(Unfortunately)-7
b(,)35 b(these)e(systems)g(enforce)g(safet)n(y)g(via)g(run)n(time)299
2785 y(groundness)g(c)n(hec)n(ks.)58 b(This)35 b(e\013ect)h(can)f
(increase)e(the)j(run)n(time)f(of)g(a)f(program)f(b)n(y)i(an)g(ar-)299
2884 y(bitrarily)c(large)f(factor;)j(if)f(the)g(goals)e(c)n(hec)n(k)n
(ed)g(for)i(groundness)e(include)i(large)e(terms,)i(the)299
2984 y(c)n(hec)n(ks)26 b(can)i(b)r(e)g(prohibitiv)n(ely)e(exp)r(ensiv)n
(e.)399 3083 y(The)c(real)g(requiremen)n(t)g(for)h(the)g(safet)n(y)f
(of)h(a)f(negated)g(goal)g(is)h(that)g(the)g(negated)f(goal)g(not)299
3183 y(exp)r(ort)h(an)n(y)g(bindings)g(to)g(the)h(rest)f(of)g(the)h
(computation.)35 b(The)24 b(Mercury)e(mo)r(de)i(system)f(can)299
3283 y(ensure)k(this)h(at)g(compile)f(time,)i(remo)n(ving)d(the)i(need)
g(for)f(an)n(y)g(run)n(time)h(c)n(hec)n(ks.)36 b(The)28
b(mo)r(de)299 3382 y(system)38 b(also)f(allo)n(ws)g(increased)h
(\015exibilit)n(y)-7 b(,)41 b(b)n(y)d(allo)n(wing)f(the)i(negated)f
(goal)f(to)h(con)n(tain)299 3482 y(un)n(b)r(ound)29 b(v)-5
b(ariables)27 b(that)i(are)e(instan)n(tiated)i(b)n(y)f(the)h(goal,)e
(as)h(long)g(as)g(these)g(v)-5 b(ariables)28 b(are)299
3582 y(not)23 b(visible)g(outside)g(the)h(negation.)34
b(F)-7 b(or)23 b(example,)h(if)f(one)g(w)n(an)n(ts)g(to)g(test)g
(whether)g(t)n(w)n(o)g(lists)299 3681 y(are)j(disjoin)n(t,)g(one)h(ma)n
(y)f(use)g(the)h(goal)e Fk(not)43 b(\(member\(E,)c(Xs\),)j(member\(E,)e
(Ys\)\))p Fp(,)25 b(where)299 3781 y(the)j(v)-5 b(ariable)26
b(E)i(o)r(ccurs)e(only)h(inside)h(the)g(negation.)399
3880 y(The)40 b(rules)g(for)g(if-then-elses)h(are)e(somewhat)h
(di\013eren)n(t.)76 b(Since)41 b Fk(\()p Fl(Cond)j Fk(-)p
Fe(>)f Fl(Then)h Fk(;)299 3980 y Fl(Else)p Fk(\))38 b
Fp(is)g(logically)e(equiv)-5 b(alen)n(t)37 b(to)h Fk(\()p
Fl(Cond)p Fk(,)44 b Fl(Then)g Fk(;)f(not)g Fl(Cond)p
Fk(,)h Fl(Else)p Fk(\))38 b Fp(the)g(condition)299 4080
y(ma)n(y)23 b(exp)r(ort)h(its)h(bindings)f(to)g(the)g(then)h(part)f(of)
g(the)h(if-then-else,)g(but)f(not)h(to)f(the)g(else)g(part)299
4179 y(or)j(to)g(the)h(rest)f(of)h(the)g(computation.)399
4279 y(F)-7 b(or)22 b(an)g(example)g(of)h(the)g(co)r(de)f(generated)g
(for)g(negations)g(and)g(if-then-elses)g(\(the)i(t)n(w)n(o)e(are)299
4379 y(closely)29 b(related\),)h(consider)f(the)h(predicate)g
(addelemen)n(t,)g(whose)f(Mercury)g(co)r(de)h(is)g(sho)n(wn)299
4478 y(in)e(\014gure)f(3.3,)f(together)h(with)h(the)g(C)g(co)r(de)f
(generated)g(from)g(this)h(b)n(y)f(the)h(compiler.)399
4578 y(Since)39 b(the)h(b)r(o)r(dy)g(of)g(addelemen)n(t)f(con)n(tains)g
(a)g(call,)j(w)n(e)d(start)g(b)n(y)h(sa)n(ving)e(the)i(succip)299
4677 y(register.)62 b(The)37 b(compiler)f(do)r(esn't)h(kno)n(w)f(that)h
(mem)n(b)r(er)f(cannot)g(allo)r(cate)g(space)g(on)g(the)299
4777 y(heap,)31 b(so)f(next)g(w)n(e)g(sa)n(v)n(e)f(the)i(curren)n(t)f
(heap)g(p)r(oin)n(ter.)45 b(W)-7 b(e)31 b(then)g(sa)n(v)n(e)e(the)i(v)
-5 b(alues)30 b(of)g(Elem)299 4877 y(and)40 b(List0)h(since)f(they)h
(ma)n(y)f(b)r(e)h(needed)g(after)g(the)g(call.)76 b(Next)41
b(w)n(e)f(set)h(up)g(the)g(input)299 4976 y(argumen)n(ts)26
b(to)h(mem)n(b)r(er;)g(since)g(the)h(called)f(mo)r(de)g(of)h(mem)n(b)r
(er)f(is)g(semideterministic,)h(they)299 5076 y(are)19
b(in)i(r2)e(and)h(r3)g(resp)r(ectiv)n(ely)-7 b(.)33 b(Mem)n(b)r(er)20
b(returns)g(its)g(success)g(indication)g(in)h(r1.)33
b(If)21 b(mem)n(b)r(er)299 5176 y(succeeds,)35 b(w)n(e)e(cop)n(y)g
(List0)h(from)f(the)i(stac)n(k)e(in)n(to)g(r3,)i(returning)e(it)h(as)g
(the)g(v)-5 b(alue)34 b(of)g(List.)1752 5325 y(23)p eop
%%Page: 24 24
24 23 bop 299 438 a Fk(:-)43 b(pred)f(addelement\(int,)37
b(list\(int\),)i(list\(int\)\).)299 538 y(:-)k(mode)f(addelement\(in,)
37 b(in,)43 b(out\))f(is)g(det.)299 737 y(addelement\(Elem,)37
b(List0,)k(List\))g(:-)648 837 y(\()i(member\(Elem,)38
b(List0\))j(->)996 936 y(List)h(=)h(List0)648 1036 y(;)996
1136 y(List)f(=)h([Elem)f(|)h(List0])648 1235 y(\).)299
1435 y(addelement)p 744 1435 27 4 v 27 w(3)p 815 1435
V 31 w(0:)648 1534 y(incr)p 829 1534 V 29 w(sp\(4\);)648
1634 y(detstackvar\(4\))37 b(=)44 b(succip;)648 1733
y(mark)p 829 1733 V 29 w(hp\(detstackvar\(3\))o(\);)648
1833 y(detstackvar\(1\))37 b(=)44 b(r2;)648 1933 y(detstackvar\(2\))37
b(=)44 b(r1;)648 2032 y(r3)e(=)h(r2;)648 2132 y(r2)f(=)h(r1;)648
2232 y(localcall\(membe)o(r)p 1356 2232 V 25 w(2)p 1425
2232 V 31 w(0)p 1500 2232 V 31 w(l,)g(addelement)p 2102
2232 V 27 w(3)p 2173 2232 V 31 w(0)p 2248 2232 V 31 w(i2\);)299
2331 y(addelement)p 744 2331 V 27 w(3)p 815 2331 V 31
w(0)p 890 2331 V 31 w(i2:)648 2431 y(if)f(\(!r1\))996
2531 y(goto)g(addelement)p 1659 2531 V 27 w(3)p 1730
2531 V 31 w(0)p 1805 2531 V 31 w(i1;)648 2630 y(r3)g(=)h
(detstackvar\(1\);)648 2730 y(succip)e(=)i(detstackvar\(4\);)648
2829 y(decr)p 829 2829 V 29 w(sp\(4\);)648 2929 y(goto)e(*succip;)299
3029 y(addelement)p 744 3029 V 27 w(3)p 815 3029 V 31
w(0)p 890 3029 V 31 w(i1:)648 3128 y(restore)p 961 3128
V 28 w(hp\(detstackvar\(3)o(\)\);)648 3228 y(tag)p 785
3228 V 30 w(incr)p 991 3228 V 29 w(hp\(r3,)h(mktag\(1\),)d(2\);)648
3328 y(field\(mktag\(1\),)e(r3,)42 b(1\))h(=)g(detstackvar\(1\);)648
3427 y(field\(mktag\(1\),)37 b(r3,)42 b(0\))h(=)g(detstackvar\(2\);)648
3527 y(succip)e(=)i(detstackvar\(4\);)648 3626 y(decr)p
829 3626 V 29 w(sp\(4\);)648 3726 y(goto)e(*succip;)907
4050 y Fd(FIGURE)k(3.3.)25 b Fc(Mercury)h(and)f(C)h(co)r(de)g(for)h
(addelemen)n(t)299 4272 y Fp(If)39 b(mem)n(b)r(er)g(fails,)i(w)n(e)e
(branc)n(h)f(to)h(addelemen)n(t)p 1884 4272 25 4 v 29
w(3)p 1955 4272 V 30 w(0)p 2027 4272 V 29 w(i1,)i(where)e(w)n(e)f(reco)
n(v)n(er)f(an)n(y)h(storage)299 4372 y(mem)n(b)r(er)27
b(ma)n(y)g(ha)n(v)n(e)f(allo)r(cated)h(on)g(the)h(heap;)f(storage)f
(allo)r(cated)h(b)n(y)g(failed)g(computations)299 4471
y(will)i(nev)n(er)f(b)r(e)i(used.)41 b(W)-7 b(e)29 b(then)h(construct)f
(a)f(new)h(cons)g(cell)g(with)g(Elem)g(as)g(the)g(head)g(and)299
4571 y(List0)e(as)g(the)h(tail,)g(and)f(return)g(this)h(new)g(list)g
(as)f(List.)399 4670 y(In)j(general,)g(the)h(compiler)e(can)h(reco)n(v)
n(er)e(the)j(space)f(allo)r(cated)f(on)h(the)h(heap)f(ev)n(en)g(b)n(y)g
(a)299 4770 y(successful)g(computation)g(if)g(that)h(computation)f(has)
f(no)h(output)h(v)-5 b(ariables;)30 b(our)f(compiler)299
4870 y(do)r(es)h(not)g(y)n(et)g(do)f(so.)44 b(In)30 b(this)h(case,)f
(ho)n(w)n(ev)n(er,)e(it)j(w)n(ould)e(b)r(e)i(b)r(etter)f(to)g(notice)g
(that)h(mem-)299 4969 y(b)r(er)f(cannot)f(p)r(ossibly)g(allo)r(cate)g
(an)n(y)h(new)f(storage)f(on)i(the)g(heap,)g(and)g(therefore)f(b)r(oth)
h(the)299 5069 y(mark)p 492 5069 V 29 w(hp)k(and)g(restore)p
1062 5069 V 28 w(hp)g(instructions)g(and)f(the)i(framev)-5
b(ar)32 b(they)i(refer)f(to)h(can)g(b)r(e)g(opti-)299
5169 y(mized)27 b(a)n(w)n(a)n(y)-7 b(.)35 b(W)-7 b(e)28
b(ha)n(v)n(e)e(not)h(y)n(et)g(implemen)n(ted)h(this)f(optimization,)h
(primarily)e(b)r(ecause)g(in)1752 5325 y(24)p eop
%%Page: 25 25
25 24 bop 299 394 a Fp(the)27 b(general)e(case)g(it)i(requires)e
(information)h(ab)r(out)h(predicates)e(de\014ned)i(in)g(other)f(mo)r
(dules.)399 493 y(The)e(condition)g(of)g(an)h(if-then-else)f(ma)n(y)f
(b)r(e)i(nondeterministic;)h(in)e(suc)n(h)g(cases)g(the)g(com-)299
593 y(piler)k(sets)h(up)g(the)g(success)e(and)i(failure)f(con)n(tin)n
(uations)g(di\013eren)n(tly)-7 b(.)40 b(The)29 b(co)r(de)f(b)r(efore)g
(the)299 692 y(call)i(to)h(the)g(condition)f(sets)g(the)h(redoip)f
(slot)h(of)f(the)h(curren)n(t)f(frame)g(to)h(p)r(oin)n(t)f(to)h(the)g
(fail-)299 792 y(ure)25 b(con)n(tin)n(uation;)g(the)h(call)f(itself)h
(puts)g(the)g(success)f(con)n(tin)n(uation)f(in)i(the)g(succip)f
(register.)299 892 y(Both)31 b(con)n(tin)n(uations)g(m)n(ust)g(reset)g
(the)h(redoip)f(slot)g(to)h(p)r(oin)n(t)g(to)f(the)h(next)g(alternativ)
n(e)e(af-)299 991 y(ter)35 b(the)h(if-then-else;)j(the)d(co)r(de)f
(that)h(do)r(es)f(this)h(at)f(the)h(success)e(con)n(tin)n(uation)h
(prev)n(en)n(ts)299 1091 y(bac)n(ktrac)n(king)25 b(to)i(the)h(else)g
(part)f(after)g(the)h(last)f(failure)h(of)f(the)h(condition.)399
1191 y(An)n(y)22 b(v)-5 b(ariables)21 b(pro)r(duced)h(in)h(the)g
(condition)f(of)g(an)g(if-then-else)h(ma)n(y)e(b)r(e)i(consumed)f(only)
299 1290 y(in)29 b(the)h(then)f(part)g(of)g(that)g(if-then-else.)41
b(Di\013eren)n(t)30 b(solutions)e(of)h(the)h(condition)e(ma)n(y)h(th)n
(us)299 1390 y(lead)35 b(to)h(di\013eren)n(t)f(computations)h(in)f(the)
h(then)h(part.)60 b(If)36 b(a)f(nondeterministic)h(condition)299
1489 y(pro)r(duces)31 b(no)h(suc)n(h)f(v)-5 b(ariables,)32
b(or)f(if)h(they)g(are)f(not)h(consumed)f(an)n(ywhere,)h(then)g(only)f
(the)299 1589 y(\014rst)c(solution)g(of)g(the)h(condition)f(is)g
(useful.)37 b(F)-7 b(or)27 b(suc)n(h)g(conditions)g(the)h(compiler)e
(generates)299 1689 y(co)r(de)k(that)g(sa)n(v)n(es)f(the)h(v)-5
b(alue)30 b(of)g(maxfr)g(b)r(efore)g(the)h(call)e(to)h(the)h(condition)
f(and)g(restores)e(it)299 1788 y(afterw)n(ards)23 b(in)i(the)g(success)
g(con)n(tin)n(uation)f(to)g(prune)h(a)n(w)n(a)n(y)e(the)i(unnecessary)f
(nondet)h(stac)n(k)299 1888 y(frames.)47 b(\(The)32 b(failure)f(con)n
(tin)n(uation)f(of)i(a)f(frame)g(can)g(b)r(e)g(reac)n(hed)f(only)h(if)h
(that)g(frame)f(is)299 1988 y(on)e(the)g(top)g(of)g(the)g(nondet)h
(stac)n(k,)e(so)g(a)h(similar)f(restoration)f(in)j(the)f(failure)g(con)
n(tin)n(uation)299 2087 y(w)n(ould)d(not)h(only)g(not)g(b)r(e)g(able)g
(to)f(prune)h(a)n(w)n(a)n(y)e(an)n(y)h(frames)g(but)i(ma)n(y)e(also)g
(put)h(bac)n(k)f(some)299 2187 y(frames)h(that)h(ha)n(v)n(e)e(already)g
(b)r(een)i(remo)n(v)n(ed.\))399 2286 y(The)39 b(compiler)h(generates)e
(co)r(de)i(to)f(discard)g(unnecessary)g(frames)g(from)g(the)i(nondet)
299 2386 y(stac)n(k)27 b(whenev)n(er)f(a)i(m)n(ulti-)g(or)e
(nondeterministic)i(computation)g(has)f(no)g(outputs,)h(not)g(just)299
2486 y(in)38 b(the)g(conditions)f(of)g(if-then-elses.)67
b(The)37 b(only)g(di\013erence)h(b)r(et)n(w)n(een)g(the)f(treatmen)n(t)
h(of)299 2585 y(m)n(ultideterministic)c(and)g(nondeterministic)g
(predicates)f(b)n(y)h(the)g(co)r(de)g(generator)e(is)h(that)299
2685 y(if)g(a)f(m)n(ultideterministic)i(computation)e(has)g(no)h
(outputs,)h(the)f(generated)f(co)r(de)g(do)r(es)h(not)299
2785 y(need)28 b(and)f(th)n(us)h(do)r(es)f(not)h(ha)n(v)n(e)e(a)h
(failure)g(con)n(tin)n(uation.)399 2884 y(Our)c(implemen)n(tation)h(of)
f(negation)g(is)h(v)n(ery)f(similar)g(to)g(the)i(implemen)n(tation)f
(of)f(if-then-)299 2984 y(else.)36 b(This)28 b(is)f(not)h(surprising,)e
(since)i(one)f(can)g(transform)g(goals)f(suc)n(h)h(as)299
3142 y Fk(not)42 b(member\(Elem,)d(List0\))299 3299 y
Fp(in)n(to)299 3457 y Fk(\()k(member\(Elem,)c(List0\))i(->)i(fail)e(;)j
(true)e(\))299 3723 y Fj(3.7.)49 b(Higher)35 b(or)-5
b(der)34 b(pr)-5 b(e)g(dic)g(ates)299 3872 y Fp(Mercury)26
b(supp)r(orts)h(higher-order)d(predicates;)j(that)g(is,)h(a)e
(predicate)h(can)g(b)r(e)g(passed)g(as)f(an)299 3972
y(argumen)n(t)33 b(to)h(another)f(predicate.)55 b(Actually)-7
b(,)36 b(it)e(w)n(ould)g(b)r(e)g(more)f(accurate)g(to)h(sa)n(y)e(that)
299 4071 y(Mercury)d(supp)r(orts)h(higher-order)e(pro)r(cedures,)i
(since)g(y)n(ou)g(can)g(only)g(pass)g(a)g(single)g(mo)r(de)299
4171 y(of)e(a)f(predicate;)g(if)i(y)n(ou)e(w)n(an)n(t)g(m)n(ultiple)h
(mo)r(des,)g(y)n(ou)f(ha)n(v)n(e)f(to)i(pass)f(m)n(ultiple)h
(higher-order)299 4271 y(pro)r(cedure)d(terms.)36 b(A)27
b(higher-order)c(predicate)j(term)g(\(sometimes)g(kno)n(wn)f(as)h(a)g
(\\closure"\))299 4370 y(can)32 b(b)r(e)h(the)f(name)h(of)f(a)g
(predicate,)h(the)g(name)f(of)g(a)g(predicate)g(with)h(some)e(of)i(the)
g(initial)299 4470 y(argumen)n(ts)e(supplied)h(\(currying\),)h(or)e(a)g
(lam)n(b)r(da)h(expression.)49 b(The)32 b(family)g(of)g(built-in)h(of)
299 4570 y(predicates)27 b Fk(call/1)p Fp(,)e Fk(call/2)p
Fp(,)g(.)14 b(.)g(.)g(are)26 b(used)i(to)f(call)h(higher-order)d
(predicate)i(terms.)399 4669 y(F)-7 b(or)30 b(example,)i(the)f(follo)n
(wing)f(predicate)h(tak)n(es)f(as)g(input)i(a)f(predicate)f(and)h(a)g
(list,)h(and)299 4769 y(applies)27 b(that)h(predicate)f(to)g(all)h(the)
g(elemen)n(ts)f(of)h(the)g(list)g(to)f(pro)r(duce)g(a)g(new)h(list.)299
4927 y Fk(:-)43 b(pred)f(map\(pred\(T1,)c(T2\),)k(list\(T1\),)e
(list\(T2\)\).)299 5026 y(:-)j(mode)f(map\(pred\(in,)c(out\))k(is)h
(det,)f(in,)g(out\))g(is)h(det.)1752 5325 y Fp(25)p eop
%%Page: 26 26
26 25 bop 299 394 a Fk(map\(Pred,)40 b([],)i([]\).)299
493 y(map\(Pred,)e([X)i(|)i(Xs],)e([Y)g(|)i(Ys]\))d(:-)648
593 y(call\(Pred,)e(X,)k(Y\),)648 692 y(map\(Pred,)c(Xs,)k(Ys\).)399
850 y Fp(If)28 b(y)n(ou)e(ha)n(v)n(e)h(de\014ned)h(a)f(predicate)g
(called)g(double,)299 1008 y Fk(:-)43 b(pred)f(double\(int::in,)37
b(int::out\))j(is)j(det.)299 1207 y(double\(X,)d(Y\))i(:-)h(Y)g(is)g(2)
g(*)h(X.)299 1365 y Fp(y)n(ou)27 b(can)g(pass)g(it)h(to)f(map)h(lik)n
(e)f(this:)648 1523 y Fk(map\(double,)39 b([1,2,3],)h(List\))399
1680 y Fp(This)32 b(goal)f(will)i(bind)g(List)g(to)f([2,4,6].)51
b(The)33 b(same)f(e\013ect)h(can)f(b)r(e)h(ac)n(hiev)n(ed)e(through)h
(a)299 1780 y(lam)n(b)r(da)27 b(expression:)648 1938
y Fk(Double)41 b(=)i(lambda\([X::in,)38 b(Y::out])i(is)j(det,)f(Y)h(is)
g(2)g(*)g(X\),)648 2037 y(map\(Double,)c([1,2,3],)h(List\))399
2195 y Fp(The)25 b(compiler)f(implemen)n(ts)i(lam)n(b)r(da)e
(expressions)g(b)n(y)h(translating)f(them)h(in)n(to)g(auxiliary)299
2295 y(predicates,)i(so)g(the)h(ab)r(o)n(v)n(e)e(t)n(w)n(o)h(examples)g
(w)n(ould)g(result)g(in)h(equiv)-5 b(alen)n(t)27 b(ob)5
b(ject)28 b(co)r(de.)399 2394 y(Since)33 b(Mercury)g(supp)r(orts)g
(currying,)h(programmers)d(can)i(sp)r(ecify)h(the)g(\014rst)f(few)h
(argu-)299 2494 y(men)n(ts)27 b(when)h(constructing)f(higher-order)e
(predicate)i(terms.)37 b(F)-7 b(or)27 b(example,)g(giv)n(en)299
2652 y Fk(:-)43 b(pred)f(multiply\(int::i)o(n,)37 b(int::in,)j
(int::out\))g(is)j(det.)299 2851 y(multiply\(X,)c(Y,)k(Z\))f(:-)h(Z)g
(is)g(X)g(*)g(Y.)299 3009 y Fp(the)28 b(three)f(goals)648
3166 y Fk(map\(multiply\(2\))o(,)38 b([1,2,3],)i(List\))648
3366 y(Multiply)g(=)j(multiply,)648 3465 y(Double)e(=)i
(call\(Multiply,)38 b(2\),)648 3565 y(map\(Double,)h([1,2,3],)h(List\))
648 3764 y(Factor)h(=)i(2,)648 3864 y(Double)e(=)i(lambda\([X::in,)38
b(Y::out])i(is)j(det,)f(Y)h(is)g(Factor)e(*)i(X\),)648
3963 y(map\(Double,)c([1,2,3],)h(List\))299 4121 y Fp(are)21
b(three)h(more)f(w)n(a)n(ys)f(of)i(doing)g(the)g(same)g(thing.)35
b(As)22 b(sho)n(wn)f(in)h(the)h(last)e(example,)i(lam)n(b)r(da)299
4221 y(expressions)e(ma)n(y)h(refer)g(to)g(v)-5 b(ariables)22
b(suc)n(h)g(as)g(F)-7 b(actor)22 b(whic)n(h)h(o)r(ccur)f(outside)g(of)h
(the)g(lam)n(b)r(da)299 4320 y(expression;)j(when)i(transforming)d(a)i
(lam)n(b)r(da)g(expressions)f(to)h(an)h(auxiliary)d(predicate,)i(the)
299 4420 y(compiler)c(passes)g(an)n(y)g(suc)n(h)g(non-lo)r(cal)g(v)-5
b(ariables)23 b(as)g(additional)g(curried)g(argumen)n(ts)g(to)g(the)299
4520 y(in)n(tro)r(duced)k(predicate.)399 4619 y(The)e(compiler)f
(represen)n(ts)f(higher-order)g(predicate)h(terms)h(as)g(a)f(p)r(oin)n
(ter)h(to)g(a)f(structure)299 4719 y(con)n(taining)30
b(the)i(address)e(of)i(the)g(pro)r(cedure)e(to)i(call,)g(the)g(n)n(um)n
(b)r(er)f(of)g(curried)g(argumen)n(ts)299 4819 y(\(if)24
b(an)n(y\),)f(and)g(then)g(the)h(curried)e(argumen)n(ts.)34
b(T)-7 b(o)22 b(call)h(a)g(higher-order)d(predicate)i(term,)i(the)299
4918 y(compiler)29 b(generates)f(a)i(call)f(to)h(a)g(piece)g(of)f(co)r
(de)h(in)g(the)g(Mercury)f(run)n(time)h(system)g(whic)n(h)299
5018 y(p)r(ositions)24 b(the)g(curried)f(argumen)n(ts)g(and)h(the)g
(input)h(argumen)n(ts)e(to)h(the)h Fk(call)d Fp(builtin)j(in)f(the)299
5117 y(appropriate)e(registers,)g(calls)h(the)h(pro)r(cedure,)g(and)f
(then)h(p)r(ositions)f(the)h(output)g(argumen)n(ts)1752
5325 y(26)p eop
%%Page: 27 27
27 26 bop 299 394 a Fp(in)28 b(the)g(appropriate)e(registers.)399
493 y(Higher-order)k(predicates)h(are)h(considerably)f(more)h
(e\016cien)n(t)g(in)h(Mercury)f(than)g(in)h(ex-)299 593
y(isting)f(Prolog)d(systems,)k(b)r(ecause)f(the)g(address)f(of)h(the)g
(pro)r(cedure)f(to)h(call)g(is)g(determined)299 692 y(at)c
(compile/link)g(time,)h(not)f(at)h(run)n(time,)f(and)g(higher-order)e
(predicate)i(terms)g(are)g(alw)n(a)n(ys)299 792 y(compiled,)f(nev)n(er)
g(in)n(terpreted.)399 892 y(The)32 b(Mercury)f(compiler)h(has)g(an)g
(optimization)g(that)g(lo)r(oks)g(for)f(calls)h(to)g(higher-order)299
991 y(predicates)c(in)i(whic)n(h)f(the)h(higher-order)d(argumen)n(t)i
(terms)g(ha)n(v)n(e)f(a)h(kno)n(wn)g(v)-5 b(alue)29 b(\(e.g.)42
b(all)299 1091 y(the)22 b(calls)f(to)h Fk(map/3)e Fp(ab)r(o)n(v)n(e\),)
i(and)g(generates)e(a)i(v)n(ersion)e(of)i(the)g(called)g(predicate)f
(sp)r(ecialized)299 1191 y(for)f(these)g(argumen)n(t)g(v)-5
b(alues.)34 b(In)20 b(man)n(y)g(imp)r(ortan)n(t)g(cases)g(this)g(can)g
(eliminate)h(all)f(the)h(p)r(enal-)299 1290 y(ties)i(usually)g(asso)r
(ciated)e(with)j(higher-order)d(predicates,)i(whic)n(h)g(means)g
(programmers)d(can)299 1390 y(use)27 b(them)h(m)n(uc)n(h)g(more)f
(freely)-7 b(.)299 1643 y Fj(3.8.)49 b(Polymorphic)34
b(pr)-5 b(e)g(dic)g(ates)299 1788 y Fp(One)34 b(consequence)g(of)g(sp)r
(ecializing)g(the)h(data)f(represen)n(tation)f(of)h(eac)n(h)g(t)n(yp)r
(e)h(is)f(that)h(im-)299 1888 y(plemen)n(ting)e(p)r(olymorphic)f
(predicates)h(b)r(ecomes)f(a)h(little)h(more)e(complicated.)53
b(Our)33 b(t)n(yp)r(e)299 1988 y(system)h(allo)n(ws)f(p)r(olymorphic)h
(predicates)f(to)h(do)h(three)f(things)g(with)h(v)-5
b(alues)34 b(whose)g(t)n(yp)r(e)299 2087 y(is)c(not)g(kno)n(wn)f(un)n
(til)h(run)n(time:)42 b(to)30 b(cop)n(y)f(suc)n(h)g(v)-5
b(alues,)31 b(to)f(unify)g(t)n(w)n(o)f(suc)n(h)h(v)-5
b(alues,)30 b(and)g(to)299 2187 y(compare)23 b(t)n(w)n(o)h(suc)n(h)h(v)
-5 b(alues)24 b(for)h(less)f(than,)i(equal)e(or)g(greater)f(than.)36
b(In)25 b(all)f(three)h(cases,)f(the)299 2286 y(v)-5
b(alues)27 b(concerned)g(m)n(ust)g(b)r(e)h(ground.)399
2386 y(Cop)n(ying)i(is)i(not)g(a)g(problem,)g(since)g(in)g(our)f
(execution)h(mo)r(del)g(v)-5 b(alues)31 b(of)h(all)g(t)n(yp)r(es)g(are)
299 2486 y(the)j(same)g(size)g(\(with)h(one)e(exception;)39
b(see)c(b)r(elo)n(w\).)59 b(T)-7 b(o)35 b(handle)g(uni\014cations)f
(and)h(com-)299 2585 y(parisons,)29 b(the)i(compiler)f(in)n(tro)r
(duces)g(an)g(extra)f(argumen)n(t)g(for)h(eac)n(h)g(t)n(yp)r(e)g(v)-5
b(ariable)30 b(in)g(the)299 2685 y(t)n(yp)r(e)j(declaration)f(of)h(the)
g(predicate)g(in)g(question,)h(giving)e(information)g(ab)r(out)h(the)h
(v)-5 b(alue)299 2785 y(of)32 b(the)h(t)n(yp)r(e)g(v)-5
b(ariable.)50 b(Calls)32 b(that)h(instan)n(tiate)f(t)n(yp)r(e)h(v)-5
b(ariables)31 b(set)h(these)h(argumen)n(ts)e(to)299 2884
y(p)r(oin)n(t)i(to)g(structures)f(con)n(taining)g(information)g(ab)r
(out)h(the)h(t)n(yp)r(es)f(b)r(eing)g(assigned)f(to)g(the)299
2984 y(t)n(yp)r(e)g(v)-5 b(ariables.)49 b(In)32 b(the)h(curren)n(t)e
(implemen)n(tation,)j(this)e Fk(type)p 2398 2984 27 4
v 30 w(info)e Fp(structure)i(con)n(tains)299 3083 y(the)h(addresses)e
(of)h(the)h Fk(unify/2)d Fp(and)i Fk(compare/3)d Fp(pro)r(cedures)j
(for)g(the)h(t)n(yp)r(e.)51 b(These)33 b(are)299 3183
y(ordinary)26 b(predicates)i(whose)g(de\014nitions)g(are)f
(automatically)h(generated)f(b)n(y)h(the)g(compiler)299
3283 y(from)38 b(the)h(t)n(yp)r(e)g(de\014nition,)j(as)37
b(w)n(e)i(ha)n(v)n(e)e(sho)n(wn)h(in)h(an)f(example)g(in)h(section)f
(2.2.)69 b(\(W)-7 b(e)299 3382 y(could)23 b(implemen)n(t)h
(uni\014cation)f(as)g(a)g(comparison)e(follo)n(w)n(ed)h(b)n(y)i(a)e
(test)i(for)f(equalit)n(y)-7 b(,)23 b(but)h(the)299 3482
y(curren)n(t)k(v)n(ersion)g(of)i(the)f(compiler)g(can)g(generate)f
(somewhat)h(b)r(etter)h(co)r(de)f(for)g(sp)r(ecialized)299
3582 y(uni\014cation)e(pro)r(cedures.\))399 3681 y(When)e(a)f
(predicate)g(p1)g(passes)f(an)h(argumen)n(t)g(of)g(t)n(yp)r(e)h
(list\(tree\(in)n(t\)\))h(to)e(a)g(predicate)g(p2)299
3781 y(that)i(exp)r(ects)g(an)g(argumen)n(t)f(of)h(t)n(yp)r(e)h
(list\(T\),)g(it)f(passes)f(a)h(t)n(yp)r(e)p 2381 3781
25 4 v 30 w(info)g(structure)g(describing)299 3880 y(the)f(t)n(yp)r(e)h
(tree\(in)n(t\))f(to)g(p2,)g(whic)n(h)h(then)f(uses)g(it)g(whenev)n(er)
f(it)i(w)n(an)n(ts)e(to)h(manipulate)g(v)-5 b(alues)299
3980 y(of)22 b(t)n(yp)r(e)g(T.)f(If)i(p2)e(w)n(an)n(ts)g(to)h(pass)f(a)
g(v)-5 b(alue)22 b(of)f(t)n(yp)r(e)h(list\(T\))h(to)e(a)h(predicate)f
(p3)g(that)h(exp)r(ects)g(a)299 4080 y(v)-5 b(alue)22
b(of)g(t)n(yp)r(e)h(U,)g(where)f(U)g(is)g(another)g(t)n(yp)r(e)g(v)-5
b(ariable,)23 b(p2)f(m)n(ust)g(pac)n(k)-5 b(age)21 b(up)i(the)g(t)n(yp)
r(e)p 3127 4080 V 30 w(info)299 4179 y(for)28 b(T)h(in)n(to)g(the)g(t)n
(yp)r(e)p 994 4179 V 30 w(info)g(for)g(U.)g(Therefore)f(t)n(yp)r(e)p
1969 4179 V 30 w(info)h(structures)f(can)g(con)n(tain)g(p)r(oin)n(ters)
299 4279 y(to)k(other)g(t)n(yp)r(e)p 791 4279 V 30 w(info)g
(structures,)h(and)f(the)h(uni\014cation)f(and)g(comparison)e(routines)
i(of)g(one)299 4379 y(t)n(yp)r(e)p 463 4379 V 30 w(info)39
b(structure)f(will)h(in)n(v)n(ok)n(e)e(the)i(uni\014cation)f(and)h
(comparison)e(routines)h(of)g(other)299 4478 y(structures)c(when)i
(necessary)-7 b(.)57 b(The)35 b(w)n(a)n(y)f(w)n(e)h(do)g(this)g(is)g
(similar)g(to)g(the)g(w)n(a)n(y)f(w)n(e)h(handle)299
4578 y(currying)26 b(and)i(closures)e(for)h(higher-order)e(predicates)i
(\(see)g(section)g(3.7\).)399 4677 y(Man)n(y)d(p)r(olymorphic)h
(predicates)f(do)h(not)h(need)f(these)h(additional)e(argumen)n(ts.)35
b(W)-7 b(e)26 b(ha)n(v)n(e)299 4777 y(therefore)34 b(implemen)n(ted)i
(an)f(optimization)g(that)g(lo)r(oks)g(for)f(predicates)h(that)g(ha)n
(v)n(e)f(argu-)299 4877 y(men)n(ts)39 b(that)g(are)f(used)i(only)e(in)i
(recursiv)n(e)d(calls,)k(creates)d(a)h(sp)r(ecialized)g(v)n(ersion)e
(of)i(the)299 4976 y(predicate)33 b(without)i(the)f(argumen)n(t,)h
(replaces)d(the)j(original)d(predicate)h(de\014nition)i(with)f(a)299
5076 y(call)h(to)g(the)h(sp)r(ecialized)e(v)n(ersion,)i(and)f(adjusts)g
(all)g(calls)g(to)g(the)h(predicate)e(accordingly)-7
b(.)299 5176 y(\(The)34 b(original)f(predicate)g(in)n(terface)g(ma)n(y)
g(still)i(b)r(e)f(needed)g(if)h(the)f(predicate)f(is)h(exp)r(orted)1752
5325 y(27)p eop
%%Page: 28 28
28 27 bop 299 394 a Fp(from)27 b(the)h(mo)r(dule)g(or)f(if)h(it)g(is)f
(referred)g(to)g(from)g(a)h(higher-order)d(construct.\))399
493 y(This)i(optimization)f(eliminates)h(an)n(y)g(unneeded)g(t)n(yp)r
(e)p 2152 493 25 4 v 30 w(info)h(structures,)e(and)h(sometimes)299
593 y(eliminates)39 b(unnecessary)e(argumen)n(ts)h(put)i(there)e(b)n(y)
h(the)h(programmer.)68 b(The)39 b(compiler)299 692 y(generates)c(a)h(w)
n(arning)f(in)h(the)h(latter)f(case,)i(ev)n(en)e(if)h(the)g(eliminated)
g(argumen)n(t)e(app)r(ears)299 792 y(more)30 b(than)i(once;)g(this)g
(can)f(happ)r(en)g(if)h(the)g(argumen)n(t)e(app)r(ears)g(in)i(the)f
(clause)g(head)g(and)299 892 y(in)d(recursiv)n(e)e(calls)h(but)h(no)n
(where)e(else.)399 991 y(W)-7 b(e)28 b(could)f(optimize)h(p)r
(olymorphic)f(predicates)g(that)i(do)e(need)h(the)g(t)n(yp)r(e)p
2770 991 V 30 w(info)g(structure)299 1091 y(b)n(y)f(creating)g(sp)r
(ecialized)g(v)n(ersions)f(of)h(the)h(C)g(co)r(de)f(for)g(the)h
(required)e(com)n(binations)h(of)g(the)299 1191 y(v)-5
b(alues)19 b(of)h(t)n(yp)r(e)g(v)-5 b(ariables.)33 b(Since)19
b(only)h(some)f(com)n(binations)f(will)i(ha)n(v)n(e)f(a)g(signi\014can)
n(t)g(impact)299 1290 y(on)g(run)n(time,)j(this)e(optimization)f(could)
g(clearly)g(b)r(ene\014t)i(from)e(feedbac)n(k)g(from)g(pro\014ling)g
(runs)299 1390 y(to)34 b(iden)n(tify)h(these)f(com)n(binations.)57
b(W)-7 b(e)34 b(ha)n(v)n(e)g(not)g(y)n(et)g(implemen)n(ted)h(this)g
(optimization,)299 1489 y(but)19 b(sp)r(ecialization)f(is)h(certainly)f
(one)g(p)r(ossible)h(w)n(a)n(y)e(of)i(handling)g(double-precision)e
(\015oating-)299 1589 y(p)r(oin)n(t)24 b(n)n(um)n(b)r(ers,)h(whic)n(h)f
(do)g(not)g(\014t)h(in)n(to)f(32-bit)g(w)n(ords.)34 b(The)24
b(other)g(w)n(a)n(y)f(is)h(to)g(pass)g(around)299 1689
y(p)r(oin)n(ters)j(to)g(suc)n(h)h(n)n(um)n(b)r(ers,)f(whic)n(h)g(is)h
(what)f(our)g(curren)n(t)g(implemen)n(tation)h(do)r(es.)0
1988 y Fm(4.)41 b(Comparison)30 b(with)h(the)h(W)-11
b(AM)299 2154 y Fp(It)22 b(is)g(in)n(teresting)f(to)g(compare)g(our)g
(execution)g(mo)r(del)h(with)h(the)f(W)-7 b(arren)21
b(Abstract)g(Mac)n(hine)299 2253 y([1,)13 b(34].)36 b(W)-7
b(e)25 b(did)g(not)g(design)g(the)g(Mercury)f(execution)h(mo)r(del)g(b)
n(y)g(starting)f(with)i(the)f(W)-9 b(AM)299 2353 y(and)26
b(mo)r(difying)g(it;)h(w)n(e)e(designed)h(it)g(from)g(scratc)n(h.)35
b(Similar)25 b(constrain)n(ts)g(led)h(us)g(to)g(similar)299
2452 y(solutions)31 b(for)h(some)g(problems,)g(but)h(in)g(most)f
(cases,)g(w)n(e)g(ha)n(v)n(e)f(found)h(di\013eren)n(t)h(tradeo\013s)299
2552 y(to)24 b(b)r(e)g(appropriate,)f(usually)g(b)r(ecause)h(of)g(the)g
(b)r(etter)g(information)g(pro)n(vided)e(b)n(y)i(Mercury's)299
2652 y(declarations.)40 b(The)30 b(main)f(di\013erences)g(b)r(et)n(w)n
(een)h(the)f(Mercury)g(execution)g(mo)r(del)g(and)g(the)299
2751 y(standard)d(W)-9 b(AM)29 b(are)d(the)i(follo)n(wing.)399
2851 y Fl(Our)c(exe)l(cution)i(mo)l(del)g(do)l(es)g(not)g(ne)l(e)l(d)f
(and)i(do)l(es)f(not)f(have)i(a)f(gener)l(al)h(uni\014c)l(ation)e
(prim-)299 2951 y(itive.)62 b Fp(As)36 b(w)n(e)f(ha)n(v)n(e)g(seen)g
(at)h(the)g(end)g(of)f(section)g(2.2)g(and)h(in)g(the)g(examples)f(of)g
(section)299 3050 y(3,)e(strong)d(t)n(yp)r(es)i(and)g(mo)r(des)g(allo)n
(w)e(the)j(compiler)e(to)h(generate)e(sp)r(ecialized)i(co)r(de)g(for)f
(all)299 3150 y(uni\014cations.)40 b(These)29 b(sp)r(ecialized)g(co)r
(des)f(ha)n(v)n(e)g(no)g(equiv)-5 b(alen)n(t)29 b(of)g(the)g(W)-9
b(AM's)29 b(read/write)299 3249 y(mo)r(de)22 b(switc)n(h.)35
b(Deep)22 b(tests)h(\(suc)n(h)f(as)f(comparing)g(t)n(w)n(o)g(lists)h
(for)f(equalit)n(y\))h(are)f(implemen)n(ted)299 3349
y(as)h(calls)h(to)g(automatically)e(generated)h(recursiv)n(e)g
(predicates.)34 b(In)23 b(the)h(absence)e(of)h(p)r(olymor-)299
3449 y(phism,)29 b(or)e(if)i(the)f(p)r(olymorphism)g(o)n(v)n(erhead)e
(is)i(eliminated)g(through)g(sp)r(ecialization,)f(suc)n(h)299
3548 y(predicates)g(are)f(the)i(fastest)g(w)n(a)n(y)e(to)i(p)r(erform)f
(suc)n(h)g(uni\014cations.)399 3648 y Fl(Indexing)39
b(is)h(much)g(simpler)h(in)e(our)h(mo)l(del.)71 b Fp(W)-7
b(e)38 b(do)g(not)h(need)f(op)r(erations)f(suc)n(h)h(as)299
3748 y(switc)n(h)p 533 3748 V 30 w(on)p 651 3748 V 29
w(term)28 b(b)r(ecause)g(the)g(mo)r(de)h(system)f(tells)g(the)g
(compiler)g(exactly)f(whic)n(h)h(parts)g(of)299 3847
y(whic)n(h)35 b(argumen)n(ts)f(will)h(b)r(e)g(b)r(ound)h(at)f(eac)n(h)f
(p)r(oin)n(t)h(in)g(the)h(program.)57 b(W)-7 b(e)35 b(can)g(generate)
299 3947 y(smaller)f(and)g(faster)g(co)r(de)h(b)r(ecause)f(w)n(e)h(do)f
(not)h(need)g(to)g(prepare)e(for)h(the)h(p)r(ossibilit)n(y)g(of)299
4046 y(ha)n(ving)d(to)i(execute)f(all)g(alternativ)n(es.)53
b(Strong)33 b(t)n(yping)g(and)g(our)g(sp)r(ecialized)g(data)g(repre-)
299 4146 y(sen)n(tation)24 b(let)h(us)g(use)f(dense)h(jump)h(tables)e
(instead)h(of)f(hash)h(tables)f(or)g(decision)g(trees)h(when)299
4246 y(an)j(argumen)n(t)f(has)h(a)g(t)n(yp)r(e)g(with)h(man)n(y)f
(alternativ)n(es.)37 b(This)29 b(is)f(faster)g(indexing)g(than)g(ev)n
(en)299 4345 y(C)j(has.)48 b(A)32 b(C)g(compiler)f(alw)n(a)n(ys)e(has)i
(to)h(emit)g(co)r(de)f(to)g(c)n(hec)n(k)g(that)h(the)g(expression)e(b)r
(eing)299 4445 y(switc)n(hed)22 b(on)g(is)f(within)i(the)g(domain)e(of)
h(the)h(jump)g(table;)h(a)d(Mercury)g(compiler)h(can)f(usually)299
4545 y(a)n(v)n(oid)27 b(this)i(test)f(b)r(ecause)h(it)f(kno)n(ws)g(the)
h(full)g(set)g(of)f(v)-5 b(alues)28 b(the)h(switc)n(hed-on)f(v)-5
b(ariable)27 b(can)299 4644 y(tak)n(e.)399 4744 y Fl(We)34
b(have)h(sep)l(ar)l(ate)g(algorithms)h(for)f(deterministic)g(and)g
(nondeterministic)g(c)l(o)l(de.)53 b(We)299 4844 y(c)l(ombine)46
b(choic)l(e)g(p)l(oints)f(and)h(envir)l(onments)e(into)h(one)g(data)h
(structur)l(e,)h(nondet)e(stack)299 4943 y(fr)l(ames.)37
b Fp(These)24 b(t)n(w)n(o)g(p)r(oin)n(ts)h(are)e(related.)36
b(One)24 b(can)g(classify)g(predicates)g(in)n(to)h(three)f(classes)299
5043 y(based)33 b(on)h(whether)g(they)g(con)n(tain)f(disjunctions)h
(after)g(indexing)g(and)g(the)g(nature)f(of)h(the)299
5142 y(calls)27 b(they)h(con)n(tain:)1752 5325 y(28)p
eop
%%Page: 29 29
29 28 bop 440 394 a Fo(\017)66 b Fp(predicates)27 b(with)h(no)f
(disjunctions)h(con)n(taining)e(calls)h(only)g(to)h(deterministic)f
(predi-)548 493 y(cates)440 655 y Fo(\017)66 b Fp(predicates)37
b(with)h(no)f(disjunctions)h(con)n(taining)e(some)h(calls)g(to)h
(nondeterministic)548 755 y(predicates)440 917 y Fo(\017)66
b Fp(predicates)27 b(with)h(disjunctions)399 1091 y(The)20
b(W)-9 b(AM)21 b(cannot)e(distinguish)h(b)r(et)n(w)n(een)h(the)f
(\014rst)g(t)n(w)n(o)g(classes)e(b)r(ecause)i(Prolog)e(lac)n(ks)h(a)299
1191 y(mo)r(de)j(system)h(and)f(a)g(predicate)g(ma)n(y)g(b)r(e)h
(deterministic)g(in)f(one)g(mo)r(de)h(and)f(not)h(in)g(another.)299
1290 y(The)30 b(W)-9 b(AM)30 b(therefore)f(dra)n(ws)g(a)h(line)g(b)r
(et)n(w)n(een)g(the)g(second)f(and)h(third)g(classes:)41
b(it)30 b(creates)299 1390 y(en)n(vironmen)n(ts)38 b(for)g(predicates)g
(in)h(the)h(\014rst)e(t)n(w)n(o)g(classes)g(and)h(b)r(oth)g(en)n
(vironmen)n(ts)f(and)299 1489 y(c)n(hoice)33 b(p)r(oin)n(ts)h(for)g
(predicates)g(in)g(the)h(third)f(class.)56 b(The)34 b(omission)g(of)g
(c)n(hoice)f(p)r(oin)n(ts)h(for)299 1589 y(the)i(\014rst)g(t)n(w)n(o)g
(classes)e(is)i(an)g(imp)r(ortan)n(t)g(optimization)g(b)r(ecause)f(c)n
(hoice)h(p)r(oin)n(ts)g(are)f(big.)299 1689 y(W)-7 b(e)30
b(on)f(the)i(other)e(hand)g(can)h(and)f(do)h(detect)g(determinism)g
(and)f(optimize)h(the)g(\014rst)g(class)299 1788 y(separately)h(and)h
(th)n(us)g(v)n(ery)f(e\013ectiv)n(ely)-7 b(.)51 b(W)-7
b(e)33 b(treat)f(predicates)f(in)i(the)g(second)e(and)i(third)299
1888 y(classes)24 b(the)i(same)f(w)n(a)n(y)f(b)r(ecause)h(this)g(lets)h
(us)f(k)n(eep)g(o)n(v)n(erheads)e(lo)n(w.)35 b(F)-7 b(or)25
b(predicates)g(in)g(the)299 1988 y(third)32 b(class,)g(our)f(sc)n(heme)
g(is)h(m)n(uc)n(h)f(faster)g(b)r(ecause)h(w)n(e)f(m)n(ust)h(create)f
(only)g(one)g(structure)299 2087 y(whereas)22 b(the)i(W)-9
b(AM)24 b(m)n(ust)f(create)g(t)n(w)n(o:)34 b(w)n(e)23
b(incremen)n(t)g(a)g(stac)n(k)g(p)r(oin)n(ter)g(only)g(once,)h(do)f
(not)299 2187 y(need)28 b(to)g(set)g(up)h(links)f(b)r(et)n(w)n(een)g
(en)n(vironmen)n(t)f(and)h(c)n(hoice)f(p)r(oin)n(t,)i(and)f(\014ll)g
(in)h(man)n(y)e(few)n(er)299 2286 y(\014xed)g(slots)f(\(c)n(hoice)g(p)r
(oin)n(ts)g(and)h(en)n(vironmen)n(ts)e(ha)n(v)n(e)g(a)i(total)f(of)g
(nine)h(\014xed)g(slots)f(whereas)299 2386 y(our)35 b(frames)g(ha)n(v)n
(e)g(only)g(four\).)62 b(F)-7 b(or)35 b(predicates)g(in)h(the)h(second)
e(class,)i(the)f(W)-9 b(AM)37 b(lo)r(oks)299 2486 y(marginally)28
b(faster)h(b)r(ecause)g(its)h(en)n(vironmen)n(ts)e(ha)n(v)n(e)g(only)i
(t)n(w)n(o)e(\014xed)i(slots,)g(CE)f(and)g(CP;)299 2585
y(ho)n(w)n(ev)n(er,)24 b(our)g(frames)h(need)h(not)f(store)g(un)n(b)r
(ound)g(v)-5 b(ariables,)25 b(so)g(the)h(total)f(n)n(um)n(b)r(er)g(of)g
(slots)299 2685 y(will)31 b(b)r(e)g(ab)r(out)f(the)i(same.)45
b(\(The)31 b(designers)e(of)i(NTO)n(AM)g([36])f(also)f(merge)h(en)n
(vironmen)n(ts)299 2785 y(and)24 b(c)n(hoice)g(p)r(oin)n(ts)h(in)n(to)f
(one)h(structure,)g(but)g(their)f(tec)n(hnique)h(and)g(their)f(motiv)-5
b(ation)25 b(ha)n(v)n(e)299 2884 y(little)j(in)g(common)f(with)h
(ours.\))399 2984 y Fl(L)l(ast)f(c)l(al)t(l)h(optimization)h(is)f(e)l
(asier)g(with)g(the)g(W)-6 b(AM.)25 b Fp(Some)g(predicates)f(that)h
(can)g(exploit)299 3083 y(last)35 b(call)g(optimization)g(with)h(the)g
(W)-9 b(AM)36 b(cannot)f(do)g(so)g(with)h(our)f(execution)g(mo)r(del)g
(as)299 3183 y(w)n(e)29 b(ha)n(v)n(e)f(presen)n(ted)h(it)g(so)g(far.)41
b(When)30 b(a)f(predicate)g(tak)n(es)f(some)h(v)-5 b(alues)28
b(pro)r(duced)h(b)n(y)g(the)299 3283 y(last)h(call)h(and)g(puts)g(them)
g(in)n(to)g(a)f(newly)h(constructed)f(cell,)i(the)f(Mercury)f(mo)r(de)h
(analysis)299 3382 y(algorithm)d(m)n(ust)h(reorder)f(the)h(sup)r
(erhomogeneous)e(form)i(of)g(the)h(conjunction)f(to)h(put)f(the)299
3482 y(construction)f(uni\014cation)i(after)e(what)i(used)f(to)g(b)r(e)
h(the)f(\\last")f(call.)42 b(Since)29 b(the)h(execution)299
3582 y(algorithm)j(m)n(ust)h(regain)f(con)n(trol)g(after)h(the)g
(\\last")f(call)h(to)g(construct)g(a)g(cell,)i(the)e(called)299
3681 y(predicate)29 b(cannot)f(return)h(directly)g(to)g(the)h(calling)e
(predicate's)h(caller.)40 b(A)30 b(Prolog)d(system)299
3781 y(using)k(the)h(W)-9 b(AM)32 b(w)n(ould)g(do)f(the)h(construction)
f(uni\014cation)g(\014rst)h(and)f(then)h(p)r(erform)f(the)299
3880 y(call,)c(and)h(w)n(ould)f(th)n(us)g(b)r(e)h(able)g(to)f(exploit)h
(last)f(call)g(optimization.)399 3980 y(T)-7 b(ail)24
b(recursion)e(optimization)i(is)g(last)g(call)g(optimization)g(applied)
h(to)f(the)g(case)g(when)g(the)299 4080 y(last)29 b(call)h(is)g(a)f
(recursiv)n(e)f(call.)44 b(When)30 b(coun)n(ted)g(b)n(y)f(frequency)h
(of)f(o)r(ccurrence)g(at)h(run)n(time,)299 4179 y(most)g(last)f(call)h
(optimizations)f(are)g(in)i(fact)f(tail)g(recursion)e(optimizations.)44
b(The)30 b(Mercury)299 4279 y(execution)d(mo)r(del)h(needs)g(only)f(a)g
(sligh)n(t)g(c)n(hange)g(to)g(let)h(it)h(supp)r(ort)e(tail)h(recursion)
e(in)i(cases)299 4379 y(where)35 b(a)g(cell)g(construction)f(follo)n
(ws)h(the)g(last)g(call;)k(section)c(5.2)f(sho)n(ws)h(ho)n(w)f(to)h(do)
g(this.)299 4478 y(That)26 b(section)g(also)f(in)n(tro)r(duces)h(a)g
(recursion)f(optimization)h(that)g(w)n(orks)f(just)i(\014ne)g(with)f
(the)299 4578 y(order)20 b(pro)r(duced)h(b)n(y)g(mo)r(de)h(analysis;)g
(section)f(5.3)f(then)i(sho)n(ws)e(that)i(this)g(new)f(optimization)299
4677 y(can)27 b(b)r(e)h(ev)n(en)f(more)g(e\013ectiv)n(e)h(than)f(tail)h
(recursion)e(optimization.)399 4777 y(The)33 b(Mercury)f(execution)h
(mo)r(del)g(can)g(do)g(last)g(call)f(optimization)h(trivially)g(whenev)
n(er)299 4877 y(the)40 b(last)f(call)g(of)h(a)f(predicate)g(lea)n(v)n
(es)f(the)i(righ)n(t)f(v)-5 b(alues)39 b(in)h(the)g(righ)n(t)f
(registers.)72 b(Since)299 4976 y(programming)32 b(tec)n(hniques)i(suc)
n(h)g(as)g(accum)n(ulator)f(passing)g(encourage)f(it,)37
b(this)e(happ)r(ens)299 5076 y(surprisingly)c(often.)52
b(When)33 b(compiling)f(the)h(Mercury)e(compiler,)i(the)g(Mercury)e
(compiler)299 5176 y(recognizes)23 b(ab)r(out)h(9\045)g(of)h(calls)f
(as)g(last)g(calls.)35 b(By)24 b(con)n(trast,)g(with)h(its)g(more)f
(general)f(notion)1752 5325 y(29)p eop
%%Page: 30 30
30 29 bop 299 394 a Fp(of)28 b(LCO,)g(the)h(NU-Prolog)e(compiler)h
(turns)g(ab)r(out)h(24\045)e(of)i(all)f(calls)g(in)n(to)g(last)h(calls)
e(\(these)299 493 y(coun)n(ts)h(are)f(static)h(coun)n(ts\).)40
b(Therefore)27 b(Mercury)g(\014nds)i(ab)r(out)f(one)g(third)h(of)f(the)
h(last)f(call)299 593 y(opp)r(ortunities)f(Prolog)f(do)r(es.)399
692 y Fl(Our)40 b(exe)l(cution)h(mo)l(del)h(do)l(es)f(not)g(ne)l(e)l(d)
g(a)h(tr)l(ail.)75 b Fp(This)40 b(is)g(a)g(simple)g(consequence)f(of)
299 792 y(the)i(fact)h(that)f(our)f(mo)r(de)h(system)g(kno)n(ws)f
(exactly)h(what)g(is)g(b)r(ound)g(and)g(what)g(is)g(free)299
892 y(at)35 b(an)n(y)f(p)r(oin)n(t)h(in)g(the)g(program,)g(and)g(prev)n
(en)n(ts)f(an)n(y)g(access)g(to)h(free)f(v)-5 b(ariables.)58
b(W)-7 b(e)35 b(can)299 991 y(therefore)28 b(represen)n(t)h(free)g(v)-5
b(ariables)28 b(as)g(uninitialized)i(w)n(ords,)f(and)g(resetting)g(v)-5
b(ariables)28 b(to)299 1091 y(\\uninitialized")f(is)g(ob)n(viously)g
(unnecessary)-7 b(.)399 1191 y Fl(Our)30 b(exe)l(cution)h(mo)l(del)i
(do)l(es)f(not)f(ne)l(e)l(d)h(der)l(efer)l(encing.)44
b Fp(The)30 b(reason)e(is)h(that)h(the)g(mo)r(de)299
1290 y(system)24 b(guaran)n(tees)f(that)i(pro)r(ducers)e(will)i(o)r
(ccur)f(b)r(efore)h(consumers;)f(therefore)g(the)h(v)-5
b(alues)299 1390 y(themselv)n(es)28 b(are)f(a)n(v)-5
b(ailable)27 b(whenev)n(er)h(they)g(are)g(needed)g(\(to)h(b)r(e)g
(passed)e(to)i(a)f(predicate)g(or)299 1489 y(to)f(b)r(e)h(put)h(in)n
(to)e(a)g(structured)g(term\).)37 b(This)28 b(a)n(v)n(oids)e(m)n(uc)n
(h)h(unnecessary)f(indirection.)399 1589 y Fl(Our)35
b(exe)l(cution)h(mo)l(del)h(do)l(es)g(not)f(ne)l(e)l(d)h(to)f(b)l(ox)g
(inte)l(gers)g(and)h(\015o)l(ats.)59 b Fp(Since)35 b(w)n(e)g(don't)299
1689 y(need)25 b(to)h(reserv)n(e)d(tag)i(bits)h(for)f(indicating)g
(whether)g(a)g(v)-5 b(ariable)25 b(is)g(b)r(ound)h(or)e(not)i(and)f
(what)299 1788 y(its)30 b(t)n(yp)r(e)h(is,)g(w)n(e)f(can)f(use)i(the)f
(full)h(size)f(of)g(the)h(w)n(ord)e(for)h(storing)f(data.)44
b(This)31 b(means)e(that)299 1888 y(our)f(mo)r(del)h(can)f(store)g(v)-5
b(alues)28 b(of)h(primitiv)n(e)f(t)n(yp)r(es)h(suc)n(h)f(as)h(in)n
(tegers)e(and)i(single-precision)299 1988 y(\015oating-p)r(oin)n(t)g(n)
n(um)n(b)r(ers)g(in)i(their)e(nativ)n(e)h(format.)43
b(This)30 b(a)n(v)n(oids)e(loss)i(of)g(precision)f(to)g(the)299
2087 y(tag)c(bits,)i(and)e(the)h(absence)f(of)h(b)r(o)n(xing)f(and)h
(un)n(b)r(o)n(xing)f(co)r(de)g(sp)r(eeds)h(up)g(arithmetic)g(to)f(the)
299 2187 y(lev)n(el)h(where)h(it)g(is)g(exactly)g(as)f(fast)h(as)f(in)i
(imp)r(erativ)n(e)e(languages.)35 b(On)27 b(32-bit)f(mac)n(hines)g(w)n
(e)299 2286 y(do)d(ha)n(v)n(e)g(to)g(b)r(o)n(x)g(double-precision)f
(\015oating-p)r(oin)n(t)h(n)n(um)n(b)r(ers)g(b)r(ecause)g(they)h(do)f
(not)h(\014t)g(in)n(to)299 2386 y(a)31 b(single)g(w)n(ord.)47
b(\(Our)31 b(curren)n(t)g(implemen)n(tation)g(b)r(o)n(xes)g(all)g
(\015oats,)h(i.e.)48 b(represen)n(ts)30 b(them)299 2486
y(as)e(a)h(p)r(oin)n(ter)g(to)g(a)g(memory)f(lo)r(cation)g(con)n
(taining)h(the)g(n)n(um)n(b)r(er,)g(b)r(ecause)g(this)h(allo)n(ws)d
(the)299 2585 y(compiler)33 b(to)i(treat)e(all)h(registers)f(as)h
(equiv)-5 b(alen)n(t.)56 b(This)34 b(restriction)g(will)g(go)g(a)n(w)n
(a)n(y)e(in)i(the)299 2685 y(future.\))399 2785 y Fl(Our)g(exe)l
(cution)h(mo)l(del)i(r)l(elies)f(much)g(less)f(on)h(glob)l(al)h
(analysis)g(for)f(go)l(o)l(d)h(p)l(erformanc)l(e.)299
2884 y Fp(High)24 b(p)r(erformance)e(Prolog)g(systems)h(m)n(ust)h(p)r
(erform)f(global)g(analysis)f(to)i(\014nd)g(out)g(whether)299
2984 y(they)c(can)g(omit)h(a)e(particular)g(trailing)h(or)f
(dereferencing)h(op)r(eration)f(and)h(whether)g(all)g(callers)299
3083 y(can)26 b(pass)f(un)n(b)r(o)n(xed)h(in)n(tegers)g(or)f(\015oats.)
36 b(In)26 b(the)h(Mercury)f(execution)g(mo)r(del)g(none)g(of)h(these)
299 3183 y(op)r(erations)g(is)g(ev)n(er)g(required.)38
b(A)28 b(compiler)f(for)h(the)g(Mercury)f(execution)h(mo)r(del)g(ma)n
(y)f(still)299 3283 y(use)22 b(global)f(analysis)g(to)h(gather)f
(information)g(suc)n(h)h(as)f(whether)h(a)g(particular)f(predicate)g
(can)299 3382 y(ev)n(er)27 b(allo)r(cate)f(space)h(on)h(the)g(heap)g
(or)f(whether)g(a)h(particular)e(predicate)h(can)h(ev)n(er)e(clobb)r
(er)299 3482 y(a)h(particular)f(register.)0 3781 y Fm(5.)41
b(Optimizations)299 3947 y Fp(Since)f(Mercury)f(is)h(a)g(purely)g
(declarativ)n(e)f(language,)i(one)f(can)g(apply)g(man)n(y)f(optimiza-)
299 4046 y(tions)29 b(to)f(Mercury)g(programs.)38 b(Some)29
b(of)g(these)f(optimizations)h(are)f(standard)f(in)i(the)h(logic)299
4146 y(programming)i(comm)n(unit)n(y)-7 b(,)35 b(for)f(example,)i
(early)d(discarding)f(of)j(nondet)f(frames)f(\(c)n(hoice)299
4246 y(p)r(oin)n(ts)d(in)g(the)g(W)-9 b(AM\).)31 b(Others)e(are)g
(standard)g(in)h(the)g(imp)r(erativ)n(e)g(language)e(comm)n(unit)n(y)-7
b(,)299 4345 y(for)26 b(example)f(automatic)h(inlining,)h(common)f(sub)
r(expression)f(elimination,)h(and)g(the)h(short-)299
4445 y(circuiting)37 b(of)h(jumps)h(to)e(jumps.)68 b(F)-7
b(or)38 b(presen)n(tation)e(in)i(this)g(section)g(w)n(e)f(ha)n(v)n(e)g
(selected)299 4545 y(the)28 b(optimizations)g(that)g(w)n(e)g(b)r(eliev)
n(e)g(to)g(b)r(e)h(most)f(signi\014can)n(t)f(in)h(raising)f(the)i
(e\016ciency)f(of)299 4644 y(Mercury)g(programs)f(to)j(the)g(lev)n(el)f
(of)g(programs)e(written)j(in)f(imp)r(erativ)n(e)g(languages.)41
b(This)299 4744 y(represen)n(ts)26 b(w)n(ork)g(in)h(progress;)e(the)j
(curren)n(t)f(Mercury)f(implemen)n(tation)h(implemen)n(ts)h(only)299
4844 y(one)f(of)h(these)f(optimizations.)1752 5325 y(30)p
eop
%%Page: 31 31
31 30 bop 299 394 a Fj(5.1.)49 b(Structur)-5 b(e)36 b(r)-5
b(euse)299 543 y Fp(Con)n(v)n(en)n(tional)29 b(logic)i(programming)e
(languages)g(cannot)i(express)f(the)h(lo)n(w-lev)n(el)f(notion)h(of)299
643 y(destructiv)n(e)k(up)r(date.)60 b(Prolog)33 b(programmers)g(m)n
(ust)i(c)n(ho)r(ose)f(b)r(et)n(w)n(een)h(resorting)f(to)h(non-)299
742 y(logical)26 b(op)r(erations)g(suc)n(h)g(as)h(assert/retract)d(and)
j(setarg,)f(or)g(implemen)n(ting)i(an)f(up)r(date)g(as)299
842 y(the)e(creation)e(of)h(an)g(almost-iden)n(tical)g(cop)n(y)-7
b(.)35 b(Programs)21 b(written)k(in)f(the)h(second)f(st)n(yle)g(ha)n(v)
n(e)299 941 y(man)n(y)f(predicates)g(in)h(whic)n(h)g(the)g(last)g
(reference)e(to)i(a)f(memory)g(cell)h(\(structure\))g(is)g(follo)n(w)n
(ed)299 1041 y(almost)h(immediately)h(b)n(y)g(the)g(allo)r(cation)f(of)
h(another)f(cell)h(of)g(the)g(same)f(size.)36 b(One)26
b(ob)n(vious)299 1141 y(optimization)h(is)h(to)f(reuse)g(the)h(newly)g
(freed)f(memory)g(cell)g(for)g(the)h(follo)n(wing)f(allo)r(cation.)399
1240 y(This)35 b(is)g(b)n(y)g(no)n(w)f(a)h(w)n(ell)g(researc)n(hed)e
(area)h([13,)13 b(18,)g(20,)g(29].)59 b(The)35 b(k)n(ey)g(problem)f(is)
h(the)299 1340 y(analysis)g(required)g(to)h(iden)n(tify)g(the)h(lo)r
(cation)e(of)h(the)h(last)f(reference)f(to)h(a)f(memory)h(cell.)299
1440 y(These)30 b(analyses)g(require)f(data\015o)n(w)h(information,)h
(and)g(their)f(accuracy)g(is)g(limited)i(b)n(y)e(the)299
1539 y(accuracy)18 b(of)j(the)f(data\015o)n(w)g(information)f(they)i
(are)e(based)h(on.)34 b(Since)20 b(the)h(Mercury)e(compiler)299
1639 y(has)25 b(p)r(erfect)h(data\015o)n(w)e(information,)h(reuse)g
(analyses)f(for)h(Mercury)f(can)h(b)r(e)h(simpler,)f(faster)299
1738 y(and)j(y)n(et)g(more)f(e\013ectiv)n(e)h(than)g(reuse)g(analyses)e
(for)i(logic)f(languages)f(without)j(strong)e(t)n(yp)r(e)299
1838 y(and)34 b(mo)r(de)h(systems.)57 b(T)n(yp)r(e)34
b(information)g(helps)h(e.g.)57 b(in)35 b(\014nding)f(out)h(that)g(in)f
(a)h(tree)f(of)299 1938 y(items,)e(all)f(the)g(tree)g(cells)g(can)f(b)r
(e)i(reused)e(ev)n(en)h(though)g(the)g(space)f(of)h(the)h(items)f
(cannot.)299 2037 y(This)f(is)h(of)f(course)g(all)g(that)h(is)f
(usually)g(required)g(for)g(optimizing)g(the)h(implemen)n(tation)g(of)
299 2137 y(predicates)c(that)h(manipulate)f(the)h(tree.)399
2237 y(If)k(reuse)f(analysis)g(\014nds)h(that)g(an)g(input)g(argumen)n
(t)f(to)h(a)g(call)f(is)h(the)g(last)g(reference)f(to)299
2336 y(a)i(structure,)h(i.e.)54 b(the)34 b(structure)f(will)g(nev)n(er)
g(b)r(e)h(needed)f(again,)h(the)f(implemen)n(tation)h(of)299
2436 y(the)f(called)g(predicate)f(is)h(free)g(to)f(reuse)h(the)g(space)
f(of)h(that)g(structure.)53 b(If)33 b(reuse)f(analysis)299
2535 y(\014nds)38 b(that)g(the)g(structure)f(will)h(not)g(b)r(e)g
(accessed)e(during)i(forw)n(ard)e(execution)h(but)h(ma)n(y)299
2635 y(b)r(e)f(needed)h(after)e(bac)n(ktrac)n(king,)i(the)f(implemen)n
(tation)g(of)g(the)h(called)e(predicate)h(is)g(free)299
2735 y(to)30 b(mo)r(dify)i(the)f(con)n(ten)n(ts)f(of)g(the)h
(structure,)g(pro)n(vided)f(that)h(the)g(old)f(v)-5 b(alues)31
b(are)e(restored)299 2834 y(on)j(bac)n(ktrac)n(king.)49
b(The)32 b(standard)g(w)n(a)n(y)f(to)h(arrange)f(for)g(this)i(to)g
(happ)r(en)f(is)h(to)f(store)f(the)299 2934 y(addresses)j(and)j
(original)d(v)-5 b(alues)36 b(of)g(an)n(y)g(mo)r(di\014ed)g(w)n(ords)f
(on)h(a)g(trail,)i(to)e(sa)n(v)n(e)f(the)h(trail)299
3034 y(p)r(oin)n(ter)e(in)g(a)g(nondet)g(stac)n(k)f(frame)h(when)g(en)n
(tering)f(a)h(disjunction,)i(and)e(to)g(un)n(wind)g(the)299
3133 y(trail)22 b(to)h(this)h(sa)n(v)n(ed)d(p)r(oin)n(t)i(when)g(en)n
(tering)g(the)g(second)f(and)h(later)f(disjuncts.)36
b(This)23 b(m)n(ust)g(b)r(e)299 3233 y(done)e(ev)n(en)h(for)f
(disjunctions)h(in)g(predicates)f(that)h(do)g(not)g(themselv)n(es)f
(use)h(trailed)f(structure)299 3333 y(reuse.)52 b(In)33
b(an)n(y)g(case,)g(since)g(v)-5 b(alue-trailing)32 b(requires)f(t)n(w)n
(o)h(trail)h(w)n(ords)f(for)g(eac)n(h)g(up)r(dated)299
3432 y(w)n(ord,)d(its)h(use)f(impro)n(v)n(es)f(space)h(utilization)g
(only)g(if)h(reused)f(cells)h(are)e(big,)i(or)f(if)h(the)f(reuse)299
3532 y(of)h(one)f(cell)h(allo)n(ws)f(the)h(reuse)f(of)h(other)f(cells)h
(without)g(c)n(hange.)43 b(The)30 b(latter)f(happ)r(ens)h(e.g.)299
3631 y(when)h(one)g(inserts)g(a)g(new)g(elemen)n(t)h(in)n(to)f(a)f
(tree;)j(with)f(a)f(trailed)g(up)r(date)g(of)h(one)f(no)r(de)g(to)299
3731 y(p)r(oin)n(t)j(to)h(the)f(new)h(elemen)n(t,)h(the)e(cells)g(on)g
(the)h(path)g(leading)e(to)h(the)h(insertion)f(site)g(can)299
3831 y(remain)27 b(unc)n(hanged.)399 3930 y(Structure)20
b(reuse)h(optimization)f(can)h(b)r(e)g(applied)g(to)g(man)n(y)g
(predicates)f(in)h(real)f(programs.)299 4030 y(W)-7 b(e)22
b(illustrate)f(it)g(with)h(a)f(simple)h(example)f(here;)i(w)n(e)e
(describ)r(e)g(a)g(sligh)n(tly)g(more)f(complicated)299
4130 y(example)27 b(\(binary)g(searc)n(h)f(tree)i(insertion\))f(in)h
(section)f(5.3.)399 4229 y(Our)19 b(example)i(here)f(is)g(the)h(forw)n
(ard)e(mo)r(de)i(of)f(the)h(app)r(end)g(predicate.)34
b(The)21 b(reuse)f(opp)r(or-)299 4329 y(tunit)n(y)27
b(in)g(app)r(end)g(arises)e(when)i(program)d(analysis)h(can)i(pro)n(v)n
(e)e(that)i(there)f(are)g(no)g(further)299 4428 y(references)33
b(to)h(the)h(list)f(passed)f(in)i(r1)e(after)h(the)h(call)e(to)h(app)r
(end,)j(whic)n(h)d(will)g(frequen)n(tly)299 4528 y(b)r(e)28
b(the)g(case.)37 b(The)27 b(sp)r(ecialized)h(v)n(ersion)e(of)i(app)r
(end)g(is)f(in)h(\014gure)f(5.1.)37 b(This)28 b(v)n(ersion)e(di\013ers)
299 4628 y(from)f(the)h(one)g(in)g(\014gure)f(3.2)g(in)h(that)g(the)g
(recursiv)n(e)e(case)h(sa)n(v)n(es)f(A)i(on)f(the)h(stac)n(k)f(instead)
h(of)299 4727 y(H,)e(and)g(that)h(instead)f(of)g(allo)r(cating)f(a)h
(new)g(cons)f(cell)h(on)g(the)h(heap,)f(it)h(reuses)e(A's)h(cons)g
(cell)299 4827 y(for)k(C.)h(Since)f(the)h(\014rst)g(\014eld)f(of)h
(this)g(cell)f(already)f(con)n(tains)h(H,)h(w)n(e)f(do)g(not)h(need)f
(to)h(either)299 4927 y(sa)n(v)n(e)d(H)i(or)f(put)h(its)g(v)-5
b(alue)27 b(in)n(to)g(the)h(cell.)399 5026 y(Ev)n(en)e(giv)n(en)g(some)
g(calls)h(to)g(a)g(predicate)f(that)h(can)g(exploit)g(structure)g
(reuse,)f(it)i(is)e(quite)299 5126 y(unlik)n(ely)35 b(that)g
Fl(al)t(l)i Fp(calls)d(to)h(a)g(giv)n(en)f(predicate)h(will)h(ha)n(v)n
(e)e(last)g(references)g(to)i(structures)1752 5325 y(31)p
eop
%%Page: 32 32
32 31 bop 299 438 a Fk(append)p 568 438 27 4 v 29 w(3)p
641 438 V 31 w(0)p 716 438 V 31 w(sr:)648 538 y(detstackvar\(0\))37
b(=)44 b(succip;)648 638 y(if)e(\(r1)h(==)f(mkword\(mktag\(0\),)37
b(mkbody\(0\)\)\))996 737 y(goto)42 b(append)p 1483 737
V 29 w(3)p 1556 737 V 31 w(0)p 1631 737 V 31 w(sr)p 1750
737 V 31 w(i1000;)648 837 y(incr)p 829 837 V 29 w(sp\(2\);)648
936 y(detstackvar\(1\))37 b(=)44 b(r1;)648 1036 y(r1)e(=)h
(field\(mktag\(1\),)38 b(r1,)k(1\);)648 1136 y(localcall\(appen)o(d)p
1356 1136 V 25 w(3)p 1425 1136 V 31 w(0)p 1500 1136 V
31 w(sr,)h(append)p 1970 1136 V 29 w(3)p 2043 1136 V
30 w(0)p 2117 1136 V 31 w(sr)p 2236 1136 V 31 w(i3\);)299
1235 y(append)p 568 1235 V 29 w(3)p 641 1235 V 31 w(0)p
716 1235 V 31 w(sr)p 835 1235 V 30 w(i3:)648 1335 y(r1)f(=)h
(detstackvar\(1\);)648 1435 y(field\(mktag\(1\),)37 b(r1,)42
b(1\))h(=)g(r3;)648 1534 y(r3)f(=)h(r1;)648 1634 y(succip)e(=)i
(detstackvar\(2\);)648 1733 y(decr)p 829 1733 V 29 w(sp\(2\);)648
1833 y(goto)e(*succip;)299 1933 y(append)p 568 1933 V
29 w(3)p 641 1933 V 31 w(0)p 716 1933 V 31 w(sr)p 835
1933 V 30 w(i1000:)648 2032 y(r3)h(=)h(r2;)648 2132 y(goto)e(*succip;)
1031 2456 y Fd(FIGURE)k(5.1.)25 b Fc(App)r(end)g(with)g(structure)h
(reuse)299 2678 y Fp(in)36 b(the)g(same)e(argumen)n(t)h(p)r(osition.)60
b(The)36 b(ob)5 b(ject)35 b(co)r(de)g(of)h(the)g(program)d(m)n(ust)j
(therefore)299 2778 y(con)n(tain)22 b(t)n(w)n(o)g(separate)f(implemen)n
(tations)h(of)h(the)g(predicate:)34 b(the)23 b(old,)h(general)d(v)n
(ersion)g(and)299 2877 y(the)27 b(new,)f(sp)r(ecialized)g(v)n(ersion.)
35 b(Calls)26 b(in)h(whic)n(h)f(that)h(argumen)n(t)e(is)h(a)g(last)g
(reference)g(jump)299 2977 y(to)35 b(the)i(sp)r(ecialized)e(v)n(ersion)
f(app)r(end)p 1541 2977 25 4 v 30 w(3)p 1613 2977 V 30
w(0)p 1685 2977 V 29 w(sr;)39 b(other)c(calls)h(jump)g(to)g(the)g
(general)e(v)n(ersion)299 3076 y(app)r(end)p 569 3076
V 30 w(3)p 641 3076 V 29 w(0.)399 3176 y(In)25 b(some)f(programs,)g
(structure)g(reuse)h(b)r(ecomes)f(so)h(imp)r(ortan)n(t)g(as)f(to)h(b)r
(e)h(indisp)r(ensable.)299 3276 y(If)36 b(y)n(ou)f(are)f(writing)i(a)f
(n)n(um)n(b)r(er)g(crunc)n(hing)g(program,)h(it)g(is)g(not)f
(su\016cien)n(t)h(to)f(just)i(hop)r(e)299 3375 y(that)27
b(the)f(compiler)g(will)h(b)r(e)g(able)f(to)g(optimize)g(y)n(our)g
(arra)n(y)e(up)r(dates)i(|)h(y)n(ou)e(need)i(to)f Fl(know)299
3475 y Fp(that)37 b(it)f(will,)j(lest)e(y)n(our)e(co)r(de)h(su\013er)g
(orders)f(of)h(magnitude)g(increases)f(in)i(memory)e(con-)299
3575 y(sumption)23 b(and)g(execution)g(time.)36 b(Mercury's)22
b(mo)r(de)i(system)f(therefore)f(pro)n(vides)g(a)h(concept)299
3674 y(called)h Fl(unique)i(mo)l(des)32 b Fp([13],)24
b(analogous)e(to)i(linear)g(t)n(yp)r(es)g(in)h(functional)f
(programming)e([33].)299 3774 y(Unique)30 b(mo)r(des)g(essen)n(tially)f
(allo)n(w)g(the)i(programmer)c(to)j(declare)f(that)h(there)g(should)g
(only)299 3873 y(ev)n(er)i(b)r(e)h(one)f(reference)g(to)h(a)g
(particular)e(ob)5 b(ject,)34 b(th)n(us)f(guaran)n(teeing)e(that)i(the)
g(compiler)299 3973 y(will)i(b)r(e)h(able)f(to)g(apply)g(un)n(trailed)g
(structure)f(reuse)h(for)g(up)r(dates)g(to)g(that)h(ob)5
b(ject.)59 b(Mer-)299 4073 y(cury)25 b(also)g(pro)n(vides)g(a)h
(related)f(concept,)h(called)g Fl(mostly)j(unique)f(mo)l(des)7
b Fp(,)27 b(whic)n(h)f(pro)n(vides)e(a)299 4172 y(w)n(eak)n(er)d
(guaran)n(tee:)32 b(that)23 b(the)g(compiler)f(will)h(b)r(e)g(able)f
(to)h(apply)f Fl(tr)l(aile)l(d)32 b Fp(structure)22 b(reuse)g(for)299
4272 y(up)r(dates)31 b(to)h(that)f(ob)5 b(ject.)48 b(Lik)n(e)31
b(all)g(the)g(other)g(declarations)f(in)h(Mercury)-7
b(,)31 b(b)r(oth)h(forms)f(of)299 4372 y(uniqueness)22
b(annotations)g(on)g(mo)r(de)h(declarations)e(are)h(c)n(hec)n(k)n(ed)f
(at)i(compile)g(time)g(to)f(ensure)299 4471 y(that)33
b(they)g(are)f(correct.)51 b(This)33 b(c)n(hec)n(king)f(can)g(b)r(e)h
(done)g(using)f(only)h(lo)r(cal)f(analysis,)h(since)299
4571 y(the)f(compiler)e(need)i(only)e(lo)r(ok)h(at)g(the)h
(declarations)d(for)i(called)g(predicates,)g(not)h(at)f(their)299
4670 y(b)r(o)r(dies.)399 4770 y(Mercury)17 b(uses)h(unique)h(mo)r(des)f
(to)g(implemen)n(t)h(logical)e(input/output.)35 b(An)19
b(I/O)e(predicate)299 4870 y(is)30 b(logically)f(considered)g(to)h(b)r
(e)h(a)e(relation)h(b)r(et)n(w)n(een)g(the)g(states)g(of)g(the)h(w)n
(orld)e(b)r(efore)h(and)299 4969 y(after)25 b(the)i(I/O)d(op)r(eration)
h(is)h(carried)e(out.)37 b(The)25 b(unique)h(mo)r(de)g(system)g
(ensures)f(that)h(there)299 5069 y(can)e(b)r(e)i(only)e(one)g(liv)n(e)h
(reference)f(to)g(the)i(curren)n(t)e(state)g(of)h(the)g(w)n(orld,)g(so)
f(the)h(compiler)f(can)299 5169 y(safely)29 b(implemen)n(t)i(I/O)e
(predicates)g(b)n(y)g(destructiv)n(ely)h(up)r(dating)g(the)g(state)g
(of)f(the)i(w)n(orld.)1752 5325 y(32)p eop
%%Page: 33 33
33 32 bop 299 394 a Fp(Unique)34 b(mo)r(de)f(analysis,)h(whic)n(h)f
(relies)g(on)g(determinism)h(information,)g(will)g(ensure)e(that)299
493 y(the)c(implemen)n(tation)g(nev)n(er)e(has)h(to)h(bac)n(ktrac)n(k)d
(past)i(an)n(y)g(I/O)g(op)r(eration.)399 593 y(As)g(an)h(example,)f
(consider)f(the)i(hello)g(predicate:)299 751 y Fk(:-)43
b(pred)f(hello\(io_state,)37 b(io_state\).)299 850 y(:-)43
b(mode)f(hello\(di,)d(uo\))k(is)g(det.)299 1049 y(hello\(S0,)d(S\))i
(:-)648 1149 y(write_string\("H)o(ell)o(o,)37 b(",)43
b(S0,)f(S1\),)648 1249 y(write_string\("w)o(orl)o(d\\)o(n")o(,)c(S1,)k
(S\).)399 1406 y Fp(The)e(\014rst)h(argumen)n(t)e(of)i(hello,)i(S0,)h
(describ)r(es)c(the)h(I/O)f(state)g(of)h(the)g(computation)299
1506 y(on)c(en)n(try)g(to)g(hello,)i(while)f(the)f(second)g(argumen)n
(t,)i(S,)e(describ)r(es)g(the)h(I/O)e(state)h(of)g(the)299
1606 y(computation)29 b(on)g(exit)g(from)g(hello.)42
b(The)29 b(mo)r(des)h(di)f(and)g(uo)g(stand)g(for)g(destructiv)n(e)g
(input)299 1705 y(and)i(unique)h(output)g(resp)r(ectiv)n(ely)-7
b(.)48 b(The)31 b(di)h(mo)r(de)g(of)f(S0)h(requires)e(the)i(caller)e
(of)i(hello)f(to)299 1805 y(supply)d(as)g(\014rst)g(argumen)n(t)g(an)g
(I/O)g(state)g(to)g(whic)n(h)h(no)f(other)g(references)f(remain;)h(the)
h(uo)299 1905 y(mo)r(de)20 b(of)f(S)h(promises)e(that)i(hello)g(will)g
(return)f(as)g(second)g(argumen)n(t)f(the)i(unique)g(reference)f(to)299
2004 y(the)24 b(new)f(I/O)f(state.)36 b(In)23 b(the)h(example)f(this)g
(new)g(I/O)g(state)g(is)g(reac)n(hed)f(in)i(t)n(w)n(o)e(stages,)h(with)
299 2104 y(the)33 b(in)n(termediate)g(stage)f(S1)h(re\015ecting)f(the)h
(I/O)f(state)h(after)g(\\Hello")f(has)g(b)r(een)i(written)299
2203 y(but)28 b(\\w)n(orld")e(has)h(not.)299 2469 y Fj(5.2.)49
b(R)-5 b(e)g(cursion)34 b(optimizations)299 2619 y Fp(Most)e(Prolog)f
(systems)h(implemen)n(t)h(recursion)f(optimization)g(\(usually)h(as)f
(a)g(sp)r(ecial)h(case)299 2718 y(of)38 b(last)f(call)h
(optimization\).)67 b(F)-7 b(or)38 b(the)g(\014rst,)i(deterministic)e
(mo)r(de)g(of)g(app)r(end,)j(the)d(one)299 2818 y(discussed)e(in)g
(section)g(3.3,)h(mo)r(de)f(reordering)e(puts)j(the)f(construction)f
(uni\014cation)h Fk(C)43 b(:=)299 2917 y([H)g(|)g(NT])29
b Fp(after)h(the)g(recursiv)n(e)f(call.)44 b(T)-7 b(o)30
b(exploit)g(tail)g(recursion)e(optimization,)j(w)n(e)f(m)n(ust)299
3017 y(rev)n(erse)c(this)h(order.)36 b(The)28 b(new)f(order)g(of)g(the)
h(recursiv)n(e)e(case)h(is)648 3175 y Fk(A)43 b(==)f([H)h(|)g(T],)648
3274 y(C)g(:=)f([H)h(|)g(NT],)648 3374 y(append\(T,)c(B,)k(NT\))399
3532 y Fp(This)25 b(order)f(requires)g(that)h(app)r(end)h(return)f(its)
g(last)g(argumen)n(t)f(not)h(in)h(a)f(register)f(but)h(in)299
3631 y(memory)-7 b(,)31 b(in)g(the)h(second)e(\014eld)h(of)g(C's)g
(cons)f(cell.)47 b(The)31 b(tail)g(recursiv)n(e)e(v)n(ersion)h(of)g
(app)r(end)299 3731 y(should)25 b(therefore)g(b)r(e)h(passed)f(the)h
(address)f(of)g(this)h(\014eld)g(in)g(r3.)36 b(T)-7 b(o)25
b(allo)n(w)f(other)i(predicates)299 3831 y(to)33 b(call)f(app)r(end)i
(without)f(kno)n(wing)f(ho)n(w)g(app)r(end)i(w)n(as)e(compiled,)i(w)n
(e)f(need)g(an)f(in)n(terface)299 3930 y(pro)r(cedure)c(to)h(con)n(v)n
(ert)f(b)r(et)n(w)n(een)h(the)h(parameter)e(passing)g(con)n(v)n(en)n
(tions.)40 b(Using)29 b(a)g(v)-5 b(arian)n(t)299 4030
y(of)24 b(the)g(co)r(de)f(of)h(the)g(predicate)f(itself)h(as)f(the)h
(in)n(terface)g(pro)r(cedure)e(is)i(a)f(simple)h(and)g(e\016cien)n(t)
299 4130 y(tec)n(hnique.)399 4229 y(Figure)k(5.2)g(sho)n(ws)f(b)r(oth)j
(the)f(in)n(terface)f(pro)r(cedure)g(and)h(the)g(tail)g(recursiv)n(e)e
(pro)r(cedure.)299 4329 y(The)j(co)r(de)g(for)f(the)i(recursiv)n(e)d
(case)h(of)h(the)g(in)n(terface)g(pro)r(cedure)f(allo)r(cates)f(a)i
(cons)f(cell)h(for)299 4428 y(C)g(but)h(\014lls)f(in)h(only)e(the)i
(\014rst)f(\014eld,)h(with)g(H.)f(It)h(remem)n(b)r(ers)e(the)i(address)
d(of)j(this)f(cell)g(for)299 4528 y(later)c(return)g(to)g(the)h(caller)
f(in)g(r3.)36 b(It)27 b(then)g(sets)f(up)h(the)g(argumen)n(ts)e(of)h
(the)h(call)f(to)h(the)g(tail)299 4628 y(recursiv)n(e)f(in)n(ternal)h
(pro)r(cedure:)35 b(it)28 b(puts)g(T)g(in)g(r1,)f(as)f(usual,)i(and)f
(puts)h(the)g(address)e(where)299 4727 y(NT)33 b(should)h(b)r(e)f(put)h
(in)g(r3.)53 b(B)33 b(is)g(already)f(in)h(r2.)53 b(It)34
b(then)g(calls)e(the)i(in)n(ternal)f(pro)r(cedure)299
4827 y(app)r(end)p 569 4827 25 4 v 30 w(3)p 641 4827
V 29 w(0)p 712 4827 V 30 w(tr,)27 b(whic)n(h)h(will)g(b)r(e)g(the)g
(only)f(call)g(to)h(that)f(pro)r(cedure)g(in)h(the)g(program.)399
4927 y(The)38 b(base)h(case)f(of)h(app)r(end)p 1340 4927
V 30 w(3)p 1412 4927 V 29 w(0)p 1483 4927 V 30 w(tr)f(is)h(di\013eren)n
(t)g(only)g(in)g(where)f(it)i(puts)f(the)g(output)299
5026 y(argumen)n(t.)i(The)29 b(recursiv)n(e)e(case)i(creates)f(a)h(new)
g(cons)g(cell)g(\(\014lling)h(in)f(the)h(\014rst)f(\014eld)g(with)299
5126 y(H\))g(and)f(puts)h(in)f(the)h(address)e(of)i(this)f(cell)h
(where)f(the)g(caller)g(ask)n(ed)f(it)i(to)f(b)r(e)h(put.)40
b(It)28 b(then)1752 5325 y(33)p eop
%%Page: 34 34
34 33 bop 299 438 a Fk(append)p 568 438 27 4 v 29 w(3)p
641 438 V 31 w(0:)648 538 y(detstackvar\(0\))37 b(=)44
b(succip;)648 638 y(if)e(\(r1)h(==)f(mkword\(mktag\(0\),)37
b(mkbody\(0\)\)\))996 737 y(goto)42 b(append)p 1483 737
V 29 w(3)p 1556 737 V 31 w(0)p 1631 737 V 31 w(i1000;)648
837 y(incr)p 829 837 V 29 w(sp\(2\);)648 936 y(tag)p
785 936 V 30 w(incr)p 991 936 V 29 w(hp\(r4,)g(mktag\(1\),)d(2\);)648
1036 y(detstackvar\(1\))e(=)44 b(r4;)648 1136 y(field\(mktag\(1\),)37
b(r4,)42 b(0\))h(=)g(field\(mktag\(1\),)38 b(r1,)k(0\);)648
1235 y(r1)g(=)h(field\(mktag\(1\),)38 b(r1,)k(1\);)648
1335 y(r3)g(=)h(&field\(mktag\(1\),)37 b(r4,)43 b(1\);)648
1435 y(localcall\(appen)o(d)p 1356 1435 V 25 w(3)p 1425
1435 V 31 w(0)p 1500 1435 V 31 w(tr,)g(append)p 1970
1435 V 29 w(3)p 2043 1435 V 30 w(0)p 2117 1435 V 31 w(i3\);)299
1534 y(append)p 568 1534 V 29 w(3)p 641 1534 V 31 w(0)p
716 1534 V 31 w(i3:)648 1634 y(r3)f(=)h(detstackvar\(1\);)648
1733 y(succip)e(=)i(detstackvar\(2\);)648 1833 y(goto)e(*succip;)299
1933 y(append)p 568 1933 V 29 w(3)p 641 1933 V 31 w(0)p
716 1933 V 31 w(i1000:)648 2032 y(r3)h(=)h(r2;)648 2132
y(goto)e(*succip;)299 2331 y(append)p 568 2331 V 29 w(3)p
641 2331 V 31 w(0)p 716 2331 V 31 w(tr:)648 2431 y(if)h(\(r1)h(==)f
(mkword\(mktag\(0\),)37 b(mkbody\(0\)\)\))996 2531 y(goto)42
b(append)p 1483 2531 V 29 w(3)p 1556 2531 V 31 w(0)p
1631 2531 V 31 w(i1000)p 1882 2531 V 29 w(tr;)648 2630
y(tag)p 785 2630 V 30 w(incr)p 991 2630 V 29 w(hp\(r4,)g(mktag\(1\),)d
(2\);)648 2730 y(*r3)j(=)h(r4;)648 2829 y(field\(mktag\(1\),)37
b(r4,)42 b(0\))h(=)g(field\(mktag\(1\),)38 b(r1,)k(0\);)648
2929 y(r1)g(=)h(field\(mktag\(1\),)38 b(r1,)k(1\);)648
3029 y(r3)g(=)h(&field\(mktag\(1\),)37 b(r4,)43 b(1\);)648
3128 y(localtailcall\(a)o(ppe)o(nd)p 1530 3128 V 25 w(3)p
1600 3128 V 31 w(0)p 1675 3128 V 31 w(tr\);)299 3228
y(append)p 568 3228 V 29 w(3)p 641 3228 V 31 w(0)p 716
3228 V 31 w(i1000)p 967 3228 V 29 w(tr:)648 3328 y(*r3)f(=)h(r2;)648
3427 y(goto)e(*succip;)838 3751 y Fd(FIGURE)j(5.2.)26
b Fc(App)r(end)e(with)i(tail)g(recursion)g(optimization)299
3973 y Fp(sets)34 b(up)g(the)g(argumen)n(ts)f(for)g(the)h(recursiv)n(e)
e(call)i(to)g(\014ll)g(in)g(the)g(second)f(\014eld)i(of)e(the)i(new)299
4073 y(cons)24 b(cell)g(and)g(p)r(erforms)g(a)g(tail)g(call)g(\(if)h
(debugging)f(is)g(not)g(turned)h(on,)g(this)f(is)h(just)g(a)f(goto\).)
299 4172 y(Ev)n(en)n(tually)30 b(con)n(trol)f(will)j(reac)n(h)e(the)h
(base)g(case)f(of)h(app)r(end)p 2267 4172 25 4 v 30 w(3)p
2339 4172 V 29 w(0)p 2410 4172 V 30 w(tr,)h(whic)n(h)f(will)g(return)g
(to)299 4272 y(app)r(end)p 569 4272 V 30 w(3)p 641 4272
V 29 w(0)p 712 4272 V 30 w(i3.)399 4372 y(Another)c(w)n(a)n(y)f(to)h
(optimize)g(app)r(end)h(is)f(a)g(new)g(compilation)g(tec)n(hnique)g(w)n
(e)g(call)g(middle)299 4471 y(recursion)22 b(optimization.)35
b(This)23 b(applies)g(whenev)n(er)g(the)g(execution)g(pattern)h(of)f(a)
g(determin-)299 4571 y(istic)j(predicate)g(follo)n(ws)f(the)h(pattern)g
(of)g(the)g(grammar)e Fe(D)2197 4541 y Fh(n)2243 4571
y Fe(AU)2371 4541 y Fh(n)2416 4571 y Fp(.)36 b(The)26
b(pattern)g(applies)g(to)299 4670 y(all)h(simply)h(\(i.e.)37
b(not)28 b(m)n(utually\))g(recursiv)n(e)d(deterministic)j(predicates.)
399 4770 y(In)d(the)h(case)e(of)i(app)r(end,)g(the)g
Fe(D)h Fp(\(do)n(wn\))f(part)e(is)i(the)f(execution)g(of)h
Fk(A)43 b(==)g([H)g(|)g(T])p Fp(,)24 b(the)299 4870 y
Fe(A)33 b Fp(\(across\))e(part)g(is)i(the)f(execution)g(of)h
Fk(C)43 b(:=)g(B)p Fp(,)32 b(and)g(the)h Fe(U)41 b Fp(\(up\))33
b(part)f(is)g(the)h(execution)299 4969 y(of)f Fk(C)43
b(:=)g([H)f(|)h(NT])p Fp(,)31 b Fe(n)h Fp(b)r(eing)g(giv)n(en)f(b)n(y)g
(the)h(length)g(of)g(the)g(list)g(in)g(r1.)49 b Fk(A)43
b(==)g([])31 b Fp(is)g(part)299 5069 y(of)36 b(the)g(con)n(trol)f
(\015o)n(w,)j(as)d(is)h(the)h(part)e(of)h Fk(A)44 b(==)e([H)h(|)g(T])36
b Fp(that)g(tests)g(A)h(for)e(a)h(cons)f(tag.)299 5169
y(The)24 b(optimization)h(consists)f(of)g(replacing)f(the)i(original)e
(con)n(trol)h(structure)g(with)h(t)n(w)n(o)e(lo)r(ops)1752
5325 y(34)p eop
%%Page: 35 35
35 34 bop 299 438 a Fk(append)p 568 438 27 4 v 29 w(3)p
641 438 V 31 w(0:)648 538 y(if)42 b(\(r1)h(==)f(mkword\(mktag\(0\),)37
b(mkbody\(0\)\)\))996 638 y(goto)42 b(append)p 1483 638
V 29 w(3)p 1556 638 V 31 w(0)p 1631 638 V 31 w(i1;)648
737 y(r5)g(=)h(sp;)299 837 y(append)p 568 837 V 29 w(3)p
641 837 V 31 w(0)p 716 837 V 31 w(i4:)648 936 y(incr)p
829 936 V 29 w(sp\(1\);)648 1036 y(detstackvar\(1\))37
b(=)44 b(field\(mktag\(1\),)37 b(r1,)42 b(0\);)648 1136
y(r1)g(=)h(field\(mktag\(1\),)38 b(r1,)k(1\);)648 1235
y(if)g(\(r1)h(!=)f(mkword\(mktag\(0\),)37 b(mkbody\(0\)\)\))996
1335 y(goto)42 b(append)p 1483 1335 V 29 w(3)p 1556 1335
V 31 w(0)p 1631 1335 V 31 w(i4;)648 1435 y(r3)g(=)h(r2;)299
1534 y(append)p 568 1534 V 29 w(3)p 641 1534 V 31 w(0)p
716 1534 V 31 w(i5:)648 1634 y(tag)p 785 1634 V 30 w(incr)p
991 1634 V 29 w(hp\(r4,)f(mktag\(1\),)d(2\);)648 1733
y(field\(mktag\(1\),)e(r4,)42 b(0\))h(=)g(detstackvar\(1\);)648
1833 y(field\(mktag\(1\),)37 b(r4,)42 b(1\))h(=)g(r3;)648
1933 y(r3)f(=)h(r4;)648 2032 y(decr)p 829 2032 V 29 w(sp\(1\);)648
2132 y(if)f(\(sp)h(>)g(r5\))996 2232 y(goto)f(append)p
1483 2232 V 29 w(3)p 1556 2232 V 31 w(0)p 1631 2232 V
31 w(i5;)648 2331 y(goto)f(*succip;)299 2431 y(append)p
568 2431 V 29 w(3)p 641 2431 V 31 w(0)p 716 2431 V 31
w(i1:)648 2531 y(r3)h(=)h(r2;)648 2630 y(goto)e(*succip;)780
2954 y Fd(FIGURE)k(5.3.)25 b Fc(App)r(end)f(with)i(middle)f(recursion)h
(optimization)299 3176 y Fp(written)31 b(inline)g(con)n(taining)f(the)h
(original)e(co)r(de)h(for)h Fk(A)43 b(==)g([H)f(|)i(T])29
b Fp(and)i Fk(C)43 b(:=)g([H)g(|)g(NT])299 3276 y Fp(resp)r(ectiv)n
(ely)-7 b(,)29 b(with)g(the)h(co)r(de)f(for)g Fk(C)43
b(:=)g(B)28 b Fp(in)i(the)f(middle.)43 b(The)29 b(resulting)f(co)r(de)h
(is)h(sho)n(wn)299 3375 y(in)e(\014gure)f(5.3.)399 3475
y(The)22 b(co)r(de)g(for)f(the)i(base)e(case)g(is)h(unc)n(hanged.)35
b(The)22 b(co)r(de)g(for)f(the)i(recursiv)n(e)d(case)i(uses)f(the)299
3575 y(stac)n(k)g(p)r(oin)n(ter)g(to)h(coun)n(t)f Fe(n)p
Fp(,)i(and)e(therefore)g(starts)g(b)n(y)g(sa)n(ving)g(the)h(curren)n(t)
f(v)-5 b(alue)21 b(of)h(sp)g(in)g(r5.)299 3674 y(The)j(b)r(o)r(dy)g(of)
g(the)h(do)n(wn)e(lo)r(op)h(sets)g(up)g(the)g(stac)n(k)f(and)h
(registers)f(as)g(for)g(a)h(call,)g(but)h(instead)299
3774 y(of)33 b(jumping)g(to)g(the)h(start)e(of)h(the)g(pro)r(cedure)f
(to)h(test)h(r1,)f(w)n(e)g(p)r(erform)f(the)i(test)f(directly)-7
b(.)299 3873 y(This)37 b(replaces)e(one)i(unconditional)f(jump)i(and)f
(one)f(conditional)g(branc)n(h)g(with)i(just)f(one)299
3973 y(conditional)22 b(branc)n(h.)34 b(When)24 b(the)f(condition)f
(fails,)i(w)n(e)e(execute)h(the)g(base)f(case)g(and)g(fall)h(in)n(to)
299 4073 y(the)h(up)f(lo)r(op,)h(whic)n(h)g(uses)f(the)h(same)f(sc)n
(heme)g(to)g(execute)g(the)h(co)r(de)f(for)g Fk(C)43
b(:=)g([H)g(|)g(NT])22 b Fp(as)299 4172 y(man)n(y)27
b(times)h(as)e(the)i(do)n(wn)f(lo)r(op)h(executed)f Fk(A)43
b(==)g([H)g(|)g(T])p Fp(.)27 b(The)g(exact)g(parallel)g(b)r(et)n(w)n
(een)299 4272 y(the)k(t)n(w)n(o)f(lo)r(ops)g(ensures)f(that)i(the)g(up)
g(lo)r(op)f(\014nds)h(the)g(v)-5 b(arious)29 b(incarnations)h(of)g(H)h
(on)f(the)299 4372 y(stac)n(k)21 b(where)g(the)h(do)n(wn)f(lo)r(op)h
(left)g(them,)i(and)d(that)h(the)g(comparison)e(of)i(sp)g(against)e(r5)
h(stops)299 4471 y(the)28 b(up)g(lo)r(op)f(at)g(the)h(righ)n(t)f(time.)
399 4571 y(If)32 b(the)g(recursiv)n(e)d(case)i(con)n(tains)g(an)n(y)g
(calls)g(apart)f(from)i(the)g(recursiv)n(e)e(call,)i(w)n(e)f(w)n(ould)
299 4670 y(ha)n(v)n(e)c(to)h(k)n(eep)g(the)g(up)h(and/or)d(the)j(do)n
(wn)f(coun)n(ter)f(on)h(the)g(stac)n(k,)g(since)g(calls)f(can)h(destro)
n(y)299 4770 y(an)n(y)k(register.)50 b(\(F)-7 b(or)32
b(co)r(de)g(that)h(in)g(Prolog)d(systems)i(w)n(ould)g(b)r(e)h(tail)f
(recursiv)n(e,)g(the)h(do)n(wn)299 4870 y(coun)n(ter)e(can)h(alw)n(a)n
(ys)f(b)r(e)h(k)n(ept)h(in)f(a)g(register.\))50 b(If)33
b(e.g.)50 b(the)33 b(up)g(coun)n(ter)e(m)n(ust)i(b)r(e)f(on)g(the)299
4969 y(stac)n(k,)23 b(w)n(e)g(m)n(ust)g(push)h(zero)e(on)h(the)g(stac)n
(k)g(b)r(efore)f(the)i(lo)r(op;)g(inside)g(the)f(lo)r(op)g(w)n(e)g(m)n
(ust)g(then)299 5069 y(p)r(op)28 b(the)h(coun)n(ter)e(o\013)i(the)f
(stac)n(k,)g(push)g(an)n(y)g(v)-5 b(alues)28 b(to)g(b)r(e)h(sa)n(v)n
(ed)e(and)h(then)h(push)f(the)h(new)299 5169 y(v)-5 b(alue)31
b(of)h(the)g(coun)n(ter.)47 b(This)32 b(w)n(a)n(y)-7
b(,)31 b(the)h(coun)n(ter)f(is)g(alw)n(a)n(ys)f(on)h(the)h(top)f(of)h
(stac)n(k)e(when)i(a)1752 5325 y(35)p eop
%%Page: 36 36
36 35 bop 299 438 a Fk(append)p 568 438 27 4 v 29 w(3)p
641 438 V 31 w(0:)648 538 y(if)42 b(\(r1)h(==)f(mkword\(mktag\(0\),)37
b(mkbody\(0\)\)\))996 638 y(goto)42 b(append)p 1483 638
V 29 w(3)p 1556 638 V 31 w(0)p 1631 638 V 31 w(i1;)648
737 y(r3)g(=)h(r1;)299 837 y(append)p 568 837 V 29 w(3)p
641 837 V 31 w(0)p 716 837 V 31 w(i4:)648 936 y(r4)f(=)h(r1;)648
1036 y(r1)f(=)h(field\(mktag\(1\),)38 b(r1,)k(1\);)648
1136 y(if)g(\(r1)h(!=)f(mkword\(mktag\(0\),)37 b(mkbody\(0\)\)\))996
1235 y(goto)42 b(append)p 1483 1235 V 29 w(3)p 1556 1235
V 31 w(0)p 1631 1235 V 31 w(i4;)648 1335 y(field\(mktag\(1\),)37
b(r4,)42 b(1\))h(=)g(r2;)648 1435 y(goto)e(*succip;)299
1534 y(append)p 568 1534 V 29 w(3)p 641 1534 V 31 w(0)p
716 1534 V 31 w(i1:)648 1634 y(r3)h(=)h(r2;)648 1733
y(goto)e(*succip;)900 2057 y Fd(FIGURE)k(5.4.)25 b Fc(App)r(end)f(with)
i(destructiv)n(e)f(assignmen)n(t)299 2274 y Fp(call)i(is)h(made.)399
2374 y(Simply)j(recursiv)n(e)e(predicates)h(with)h(more)g(than)g(one)f
(recursiv)n(e)f(case)h(ma)n(y)g(still)i(b)r(e)f(de-)299
2473 y(terministic;)37 b(insertion)c(in)n(to)h(a)f(binary)g(searc)n(h)f
(tree)i(is)f(an)h(example.)55 b(In)34 b(suc)n(h)f(cases,)h(the)299
2573 y(do)n(wn)26 b(part)g(m)n(ust)g(select)g(the)h(recursiv)n(e)e
(alternativ)n(e)g(that)h(will)h(pro)r(duce)f(the)h(solution,)f(and)299
2673 y(push)36 b(the)g(n)n(um)n(b)r(er)f(of)h(this)g(alternativ)n(e)e
(on)i(the)g(stac)n(k;)j(the)d(up)g(part)f(m)n(ust)h(execute)f(the)299
2772 y(remaining)27 b(part)g(of)g(the)h(indicated)g(alternativ)n(e.)399
2872 y(Accessing)g(the)i(stac)n(k)e(for)h(lo)r(op)g(coun)n(ters)f(or)g
(alternativ)n(e)g(indicators)h(will)g(certainly)g(re-)299
2972 y(duce)e(the)h(p)r(erformance)f(gain)f(to)i(b)r(e)g(had)f(from)g
(middle)h(recursion)e(optimization,)h(and)h(will)299
3071 y(in)e(fact)g(usually)f(slo)n(w)g(the)i(program)d(do)n(wn.)35
b(Ho)n(w)n(ev)n(er,)25 b(the)h(middle)g(recursion)f(transforma-)299
3171 y(tion)k(ma)n(y)f(b)r(e)h(w)n(orth)n(while)f(ev)n(en)g(in)h(suc)n
(h)g(cases)f(if)h(it)g(creates)f(the)h(conditions)f(required)g(for)299
3270 y(the)g(destructiv)n(e)f(assignmen)n(t)f(optimization.)299
3520 y Fj(5.3.)49 b(Destructive)35 b(assignment)e(optimization)299
3665 y Fp(The)g(tail)h(recursion)d(and)i(structure)g(reuse)g
(optimizations)g(are)f(orthogonal;)i(they)f(can)g(b)r(e)299
3764 y(applied)38 b(indep)r(enden)n(tly)h(of)g(eac)n(h)e(other.)69
b(The)38 b(middle)h(recursion)e(and)h(structure)f(reuse)299
3864 y(optimizations)32 b(are)f(also)h(orthogonal,)f(but)i(applying)f
(b)r(oth)h(also)f(creates)f(an)h(opp)r(ortunit)n(y)299
3963 y(for)27 b(further)g(optimization.)37 b(Consider)27
b(the)h(original)e(co)r(de)h(for)g(app)r(end)h(again:)299
4121 y Fk(append\(A,)40 b(B,)i(C\))h(:-)648 4221 y(\()996
4320 y(A)g(==)g([],)996 4420 y(C)g(:=)g(B)648 4520 y(;)996
4619 y(A)g(==)g([H)g(|)g(T],)996 4719 y(append\(T,)d(B,)j(NT\),)996
4819 y(C)g(:=)g([H)g(|)g(NT])648 4918 y(\).)399 5076
y Fp(With)26 b(structure)g(reuse)f(optimization,)h(the)g(recursiv)n(e)e
(case)h(replaces)g(T)h(with)g(NT)g(in)g(the)299 5176
y(cons)h(cell)h(of)g(A,)g(whic)n(h)f(it)i(reuses)d(as)i(the)g(v)-5
b(alue)27 b(of)h(C.)g(When)g(a)g(recursiv)n(e)e(call)h(reac)n(hes)f
(the)1752 5325 y(36)p eop
%%Page: 37 37
37 36 bop 299 438 a Fk(ListNode)40 b(*append\(ListNode)d(*a,)42
b(ListNode)f(*b\))299 538 y Fo(f)648 638 y Fk(if)h(\(a)h(==)g(NULL\))e
Fo(f)996 737 y Fk(return)g(b;)648 837 y Fo(g)i Fk(else)f
Fo(f)996 936 y Fk(ListNode)f(*tmp)g(=)j(a;)996 1036 y(while)e
(\(tmp->next)d(!=)k(NULL\))1345 1136 y(tmp)f(=)h(tmp->next;)996
1235 y(tmp->next)d(=)j(b;)996 1335 y(return)e(a;)648
1435 y Fo(g)299 1534 y(g)899 1858 y Fd(FIGURE)k(5.5.)25
b Fc(App)r(end)f(from)i(the)f(GNU)g(C++)h(library)299
2080 y Fp(recursiv)n(e)31 b(case)h(again,)i(the)f(reuse)g(is)g(total;)i
(the)f(cons)e(cell)h(already)f(has)g(the)i(righ)n(t)e(v)-5
b(alues)299 2180 y(in)27 b(b)r(oth)h(its)f(\014elds.)37
b(Since)27 b(all)g(recursiv)n(e)e(calls)i(except)g(the)g(last)g(in)n(v)
n(ok)n(e)f(the)h(recursiv)n(e)f(case,)299 2279 y(this)38
b(means)g(that)h(in)f(the)h(pattern)f Fe(D)1565 2249
y Fh(n)1610 2279 y Fe(AU)1738 2249 y Fh(n)1783 2279 y
Fp(,)j(the)e(last)f Fe(U)2235 2249 y Fh(n)p Fb(\000)p
Fi(1)2403 2279 y Fp(part)g(p)r(erforms)f(no)h(useful)299
2379 y(computation.)46 b(It)31 b(can)g(therefore)f(b)r(e)h(remo)n(v)n
(ed,)f(pro)n(vided)g(w)n(e)h(also)e(adjust)j(the)f(co)r(de)f(that)299
2479 y(manipulates)d(the)g(stac)n(k.)36 b(W)-7 b(e)27
b(need)h(only)e(the)i(\014rst)f(and)g(last)f(v)-5 b(alues)27
b(to)g(b)r(e)h(p)r(opp)r(ed)f(o\013)g(the)299 2578 y(stac)n(k;)i(the)g
(\014rst)g(pro)n(vides)e(the)i(address)f(of)h(the)g(only)g(cons)f(cell)
h(whose)f(con)n(ten)n(ts)h(are)f(to)g(b)r(e)299 2678
y(mo)r(di\014ed)23 b(and)g(the)h(last)e(pro)n(vides)g(the)i(\014nal)f
(v)-5 b(alue)22 b(of)i(r3.)34 b(W)-7 b(e)23 b(can)g(replace)f(b)r(oth)i
(uses)e(of)h(the)299 2778 y(stac)n(k)i(with)h(v)-5 b(ariables,)25
b(one)g(assigned)f(b)r(efore)i(the)g(lo)r(op)f(\(r3\))h(and)f(one)g
(assigned)g(ev)n(ery)f(time)299 2877 y(through)f(the)h(lo)r(op)g
(\(r4\).)35 b(The)24 b(third)g(use)g(of)f(the)i(stac)n(k,)e(as)g(a)h
(coun)n(ter,)g(is)f(no)h(longer)f(needed.)299 2977 y(The)i(resulting)g
(co)r(de)h(is)f(sho)n(wn)g(in)h(\014gure)e(5.4.)36 b(This)25
b(is)h(v)n(ery)e(close)h(to)g(the)h(v)n(ersion)e(that)i(a)f(C)299
3076 y(programmer)f(w)n(ould)j(write)g(from)f(scratc)n(h.)36
b(Figure)26 b(5.5)g(sho)n(ws)g(the)i(co)r(de)e(for)h(app)r(end)g(from)
299 3176 y(the)32 b(GNU)h(C++)f(library)-7 b(,)32 b(cleaned)f(up)i(for)
e(publication.)51 b(In)32 b(our)f(co)r(de)h(r4)g(in)g(our)f(v)n(ersion)
299 3276 y(pla)n(ys)c(the)g(role)g(of)h(tmp)g(while)g(r1)e(pla)n(ys)h
(the)h(role)f(of)g(tmp{)p Fe(>)p Fp(next.)399 3375 y(These)35
b(optimizations)g(can)g(pro)r(duce)g(similarly)g(go)r(o)r(d)g(co)r(de)g
(for)g(other)g(predicates)g(b)r(e-)299 3475 y(sides)e(app)r(end.)55
b(Consider)32 b(the)i(predicate)f(that)h(inserts)e(a)h(k)n(ey/v)-5
b(alue)33 b(pair)f(in)n(to)h(a)h(binary)299 3575 y(searc)n(h)d(tree,)i
(whose)f(co)r(de)g(app)r(ears)g(in)h(\014gure)e(5.6.)51
b(The)33 b(structure)f(reuse,)h(tail)f(recursion)299
3674 y(and)37 b(middle)g(recursion)e(optimizations)h(can)h(all)f(b)r(e)
i(applied)e(to)h(this)g(co)r(de,)i(although)d(as)299
3774 y(usual)29 b(the)g(t)n(w)n(o)f(recursion)g(optimizations)g(are)g
(m)n(utually)h(exclusiv)n(e.)40 b(The)29 b(structure)f(reuse)299
3873 y(optimization)e(reuses)f(the)i(input)g(tree)f(cell)h(in)f(the)h
(\014rst)f(and)g(third)h(alternativ)n(es)e(in)h(the)h(dis-)299
3973 y(junction.)37 b(The)25 b(tail)g(recursion)f(optimization)h
(alters)f(the)i(parameter)d(passing)h(so)h(that)g(calls)299
4073 y(to)g(the)h(in)n(ternal)f(tail-recursiv)n(e)e(pro)r(cedure)i
(pass)f(the)i(address)e(where)h(the)h(result)f(should)g(b)r(e)299
4172 y(put)32 b(in)f(r4.)47 b(If)32 b(structure)f(reuse)f(and)i(tail)f
(recursion)f(are)g(applied)h(together,)h(the)f(returned)299
4272 y(result)c(will)h(almost)f(alw)n(a)n(ys)f(b)r(e)i(the)g(address)e
(passed)h(in)h(r1.)399 4372 y(If)k(structure)f(reuse)g(and)g(middle)h
(recursion)e(are)h(applied)h(together,)f(w)n(e)h(can)f(apply)g(the)299
4471 y(destructiv)n(e)22 b(assignmen)n(t)f(optimization)i(as)f(w)n
(ell.)35 b(The)22 b(co)r(de)h(generated)e(b)n(y)h(the)h(destructiv)n(e)
299 4571 y(assignmen)n(t)30 b(optimization)h(has)g(a)g(structure)g
(similar)g(to)g(the)h(co)r(de)g(for)f(app)r(end)g(ab)r(o)n(v)n(e,)g(in)
299 4670 y(that)25 b(it)h(has)f(separate)f(co)r(de)h(for)g(the)g(base)g
(case,)g(and)g(that)h(the)f(co)r(de)h(for)e(the)i(recursiv)n(e)e(case)
299 4770 y(is)36 b(mostly)f(a)h(lo)r(op.)61 b(In)36 b(this)g(case)f
(the)h(lo)r(op)f(has)h(t)n(w)n(o)f(termination)g(conditions:)53
b(w)n(e)36 b(exit)299 4870 y(the)f(lo)r(op)g(if)g(either)g(Init)g(is)g
(a)f(leaf)h(or)f(if)h(it)h(is)e(a)h(tree)f(no)r(de)h(whose)f(k)n(ey)g
(is)h(equal)g(to)f(Key)-7 b(.)299 4969 y(The)31 b(lo)r(op)f(b)r(o)r(dy)
h(puts)g(the)g(address)f(of)h(Init)g(in)n(to)f(a)h(register)e(\(sa)n(y)
h(r5\),)h(records)e(the)i(result)299 5069 y(of)g(the)g(comparison)e(b)r
(et)n(w)n(een)i(Key)f(and)g(Curk)n(ey)g(in)h(another)f(register)f(\(sa)
n(y)h(r6\),)h(and)g(sets)299 5169 y(the)g(register)f(con)n(taining)f
(Init)j(to)f(either)f(Left)i(or)e(Righ)n(t)h(dep)r(ending)g(on)g(the)g
(result)f(of)h(the)1752 5325 y(37)p eop
%%Page: 38 38
38 37 bop 299 438 a Fk(:-)43 b(pred)f(insert\(tree\(int)o(,)c(T\),)k
(int,)g(T,)h(tree\(int,)c(T\)\).)299 538 y(:-)k(mode)f(insert\(in,)d
(in,)j(in,)h(out\))f(is)g(det.)299 737 y(insert\(Init,)c(Key,)k(Val,)g
(Final\))f(:-)648 837 y(Init)g(==)i(leaf,)648 936 y(Final)e(:=)i
(tree\(leaf,)c(Key,)j(Val,)g(leaf\).)299 1036 y(insert\(Init,)c(Key,)k
(Val,)g(Final\))f(:-)648 1136 y(Init)g(==)i(tree\(Left,)d(Curkey,)p
1830 1136 27 4 v 72 w(,)j(Right\),)648 1235 y(compare\(Key,)38
b(Curkey,)j(Result\),)648 1335 y(\()996 1435 y(Result)g(=)j(lt,)996
1534 y(insert\(Left,)39 b(Key,)j(Val,)g(Nleft\),)996
1634 y(Final)g(:=)h(tree\(Nleft,)c(Key,)i(Val,)h(Right\))648
1733 y(;)996 1833 y(Result)f(=)j(eq,)996 1933 y(Final)e(:=)h
(tree\(Left,)c(Key,)j(Val,)g(Right\))648 2032 y(;)996
2132 y(Result)f(=)j(gt,)996 2232 y(insert\(Right,)38
b(Key,)k(Val,)g(Nright\),)996 2331 y(Final)g(:=)h(tree\(Left,)c(Key,)j
(Val,)g(Nright\))648 2431 y(\).)754 2755 y Fd(FIGURE)j(5.6.)25
b Fc(Mercury)g(co)r(de)h(for)h(binary)e(searc)n(h)h(tree)g(insertion)
299 2977 y Fp(comparison.)34 b(If)25 b(w)n(e)g(exited)g(the)g(lo)r(op)g
(b)r(ecause)f(Init)i(is)e(a)h(leaf,)g(the)g(co)r(de)g(follo)n(wing)f
(the)h(lo)r(op)299 3076 y(allo)r(cates)30 b(a)h(new)g(tree)g(no)r(de,)h
(\014lls)f(it)h(with)g(Key)-7 b(,)31 b(V)-7 b(al)32 b(and)f(t)n(w)n(o)f
(leaf)h(subtrees)g(and)g(puts)g(it)299 3176 y(in)g(either)g(the)g(left)
h(or)e(righ)n(t)g(subtree)h(\014eld)g(of)g(the)g(tree)g(cell)g(p)r(oin)
n(ted)g(to)g(b)n(y)f(r5)g(dep)r(ending)299 3276 y(on)e(the)g(v)-5
b(alue)28 b(of)g(r6.)38 b(If)28 b(w)n(e)g(exited)g(the)h(lo)r(op)f(b)r
(ecause)f(Key)h(w)n(as)f(equal)g(to)h(the)h(k)n(ey)e(\014eld)i(of)299
3375 y(Init,)f(the)g(co)r(de)f(simply)h(o)n(v)n(erwrites)d(the)j(v)-5
b(alue)28 b(\014eld)g(of)f(the)h(last)g(Init)g(with)g(V)-7
b(al.)0 3674 y Fm(6.)41 b(Status)32 b(of)g(the)f(Mercury)i(system)299
3840 y Fp(W)-7 b(e)29 b(designed)f(the)h(Mercury)e(execution)h
(algorithm)g(in)g(Octob)r(er)g(1993.)38 b(W)-7 b(e)29
b(started)e(w)n(ork-)299 3940 y(ing)k(on)f(a)h(Mercury)f(compiler)g(in)
h(No)n(v)n(em)n(b)r(er)f(1993.)45 b(Seman)n(tic)31 b(analysis)e
(started)h(w)n(orking)299 4039 y(around)k(Ma)n(y)h(1994.)59
b(W)-7 b(e)36 b(started)f(generating)g(co)r(de)g(around)g(August)g
(1994;)j(w)n(e)d(started)299 4139 y(w)n(ork)22 b(on)h(optimizations)h
(v)n(ery)e(so)r(on)h(after)g(while)h(con)n(tin)n(uing)f(to)h(expand)f
(the)h(class)f(of)g(pred-)299 4239 y(icates)g(w)n(e)g(generated)f(co)r
(de)i(for.)34 b(The)24 b(compiler)f(successfully)g(compiled)g(itself)h
(to)g(a)f(\014xp)r(oin)n(t)299 4338 y(on)j(24)g(F)-7
b(ebruary)25 b(1995.)34 b(The)27 b(\014rst)f(b)r(eta)h(test)f(release)f
(of)i(the)f(system)h(\(v)n(ersion)e(0.1\))h(w)n(as)f(on)299
4438 y(8)32 b(April)h(1995.)50 b(The)32 b(\014rst)h(public)g(release)e
(of)i(the)g(system)f(\(v)n(ersion)f(0.3\))h(w)n(as)g(on)g(18)g(July)299
4538 y(1995.)54 b(V)-7 b(ersion)34 b(0.4,)h(whic)n(h)f(w)n(as)f
(released)f(on)i(14)f(Septem)n(b)r(er)i(1995,)e(added)h(supp)r(ort)g
(for)299 4637 y(higher-order)23 b(predicates)i(and)h(included)g(a)g
(preliminary)f(v)n(ersion)f(of)i(the)g(Mercury)f(pro\014ler.)299
4737 y(V)-7 b(ersion)32 b(0.5,)h(released)e(on)h(15)f(F)-7
b(ebruary)32 b(1995,)g(added)g(c)n(hec)n(king)f(of)i(uniqueness)f
(annota-)299 4836 y(tions)27 b(on)h(mo)r(de)f(declarations.)399
4936 y(Since)37 b(Mercury)f(is)i(a)e(pure)i(language,)g(the)f(compiler)
g(cannot)g(use)g(failure)g(to)g(reco)n(v)n(er)299 5036
y(memory)-7 b(.)43 b(Without)31 b(garbage)c(collection,)j(it)h(can)e
(correctly)g(compile)g(some)h(but)g(not)g(all)g(of)299
5135 y(the)24 b(141)f(mo)r(dules)h(in)h(the)f(compiler)g(and)g(the)g
(standard)g(library)-7 b(.)34 b(T)-7 b(o)24 b(allo)n(w)f(the)h
(compiler)g(to)1752 5325 y(38)p eop
%%Page: 39 39
39 38 bop 299 394 a Fp(compile)27 b(the)g(remaining)f(mo)r(dules,)h(w)n
(e)g(link)n(ed)g(our)f(run)n(time)h(system)g(with)g(Hans)g(Bo)r(ehm's)
299 493 y(conserv)-5 b(ativ)n(e)22 b(garbage)g(collector)h(for)h(C)g
([2].)35 b(This)25 b(requires)d(that)j(w)n(e)f(de\014ne)g(incr)p
2924 493 25 4 v 30 w(hp)g(to)g(call)299 593 y(gc)p 383
593 V 29 w(mallo)r(c.)42 b(W)-7 b(e)29 b(are)g(also)f(w)n(orking)f(on)i
(a)g(nativ)n(e)g(garbage)e(collector)h(for)g(Mercury)-7
b(,)29 b(since)g(a)299 692 y(compacting)e(collector)f(ma)n(y)h(lead)g
(to)h(b)r(etter)g(lo)r(calit)n(y)-7 b(.)399 792 y(As)25
b(of)g(v)n(ersion)f(0.5,)i(the)f(Mercury)g(compiler)g(do)r(es)g(not)g
(y)n(et)g(implemen)n(t)h(structure)f(reuse,)299 892 y(and)30
b(hence)g(it)g(cannot)f(implemen)n(t)i(destructiv)n(e)e(assignmen)n(t)g
(either.)44 b(Although)30 b(the)g(com-)299 991 y(piler)35
b(do)r(es)h(not)f(y)n(et)h(attempt)g(to)g(create)e(opp)r(ortunities)i
(for)f(last)g(call)h(optimization)f(and)299 1091 y(hence)40
b(tail)h(recursion)e(optimization)h(b)n(y)g(adapting)g(the)h(argumen)n
(t)e(passing)g(con)n(v)n(en)n(tion)299 1191 y(suggested)32
b(in)h(section)g(5.2,)h(it)f(do)r(es)g(p)r(erform)g(last)g(call)g
(optimization)f(whenev)n(er)h(the)g(last)299 1290 y(call)i(lea)n(v)n
(es)g(the)h(righ)n(t)f(v)-5 b(alues)36 b(in)g(the)g(righ)n(t)g
(registers.)60 b(This)36 b(happ)r(ens)g(surprisingly)e(fre-)299
1390 y(quen)n(tly)27 b(in)h(real)f(programs)e(due)j(to)f(the)h(p)r
(opularit)n(y)f(of)g(the)h(accum)n(ulator-passing)d(st)n(yle)i(of)299
1489 y(programming;)35 b(for)f(example,)i(three)e(of)g(the)g(ten)h(b)r
(enc)n(hmark)f(programs)d(from)j(section)g(7)299 1589
y(con)n(tain)28 b(predicates)h(that)g(the)h(compiler)f(can)g(optimize)g
(in)h(this)f(w)n(a)n(y)-7 b(.)41 b(The)29 b(Mercury)f(com-)299
1689 y(piler)36 b(also)f(implemen)n(ts)i(middle)f(recursion)f
(optimization.)63 b(The)36 b(co)r(de)g(for)g(app)r(end)g(with)299
1788 y(this)26 b(optimization)g(in)g(section)f(5.2)g(w)n(as)g
(generated)g(b)n(y)g(the)h(compiler)g(\(the)g(other)f(examples)299
1888 y(in)38 b(section)g(5)f(b)r(eing)h(handwritten\);)44
b(w)n(e)37 b(disabled)h(this)g(optimization)g(when)g(generating)299
1988 y(the)24 b(examples)g(in)g(section)f(3.3,)h(since)g(the)g
(optimization)g(had)g(not)g(b)r(een)g(co)n(v)n(ered)e(up)j(to)e(that)
299 2087 y(p)r(oin)n(t)g(in)f(the)h(pap)r(er.)35 b(The)22
b(compiler)g(also)g(implemen)n(ts)g(sev)n(eral)f(other)h(high-lev)n(el)
f(optimiza-)299 2187 y(tions,)34 b(including)e(automatic)h(inlining,)h
(common)e(sub)r(expression)f(elimination,)j(predicate)299
2286 y(sp)r(ecialization)28 b(to)h(eliminate)h(un)n(used)f(argumen)n
(ts,)f(sp)r(ecialization)g(of)i(higher-order)c(predi-)299
2386 y(cates)31 b(when)h(their)g(higher-order)d(argumen)n(ts)i(are)g
(kno)n(wn,)h(and)f(the)i(reuse)e(of)g(the)i(storage)299
2486 y(of)27 b(terms)h(that)g(o)r(ccur)f(more)f(than)i(once)f(in)h(a)f
(predicate.)399 2585 y(The)d(compiler)h(implemen)n(ts)g(a)f(whole)h
(host)f(of)h(lo)n(w-lev)n(el)e(optimizations.)36 b(These)24
b(include)299 2685 y(constructing)c(ground)g(terms)h(at)g(compile)g
(time,)i(stac)n(k)d(slot)h(allo)r(cation)f(using)g(graph)g(colour-)299
2785 y(ing,)36 b(shortcircuiting)d(of)h(jumps)h(to)f(jumps)h(and)f(to)g
(calls,)i(shortcircuiting)d(of)h(call)g(return)299 2884
y(addresses)23 b(p)r(oin)n(ting)h(to)g(jumps,)h(replacemen)n(t)f(of)g
(jumps)h(b)n(y)f(the)g(target)g(co)r(de,)h(replacemen)n(t)299
2984 y(of)g(calls)g(that)g(p)r(erform)g(only)g(the)g(pro)r(cedure)g
(epilogue)f(after)h(return)g(b)n(y)g(tail)g(calls,)g(elimina-)299
3083 y(tion)e(of)g(useless)f(jumps)h(and)g(jumps)g(around)f(jumps,)i
(elimination)f(of)g(dead)g(lab)r(els)f(and)h(co)r(de,)299
3183 y(dela)n(ying)29 b(the)h(creation)f(of)h(stac)n(k)f(frames)g(as)g
(long)h(as)f(p)r(ossible,)h(and)g(v)-5 b(alue)30 b(n)n(um)n(b)r(ering)f
(on)299 3283 y(extended)23 b(basic)g(blo)r(c)n(ks)f(to)h(eliminate)g
(useless)g(assignmen)n(ts)f(and)h(common)f(sub)r(expressions)299
3382 y(and)h(to)g(put)g(v)-5 b(alues)23 b(used)g(more)f(than)h(once)g
(in)n(to)g(registers.)33 b(These)23 b(lo)n(w-lev)n(el)e(optimizations)
299 3482 y(w)n(ere)27 b(switc)n(hed)g(on)g(for)g(all)h(of)f(the)h
(examples)f(in)h(section)f(3)g(except)h(the)g(\014rst.)0
3781 y Fm(7.)41 b(P)m(erformance)32 b(results)299 3947
y Fp(In)c(this)g(section)g(w)n(e)f(compare)g(the)h(p)r(erformance)f(of)
h(Mercury)f(programs)e(with)j(the)h(p)r(erfor-)299 4046
y(mance)e(of)h(programs)d(written)j(in)g(other)f(logic)f(programming)g
(languages.)299 4312 y Fj(7.1.)49 b(Backgr)-5 b(ound)299
4462 y Fp(Mercury)32 b(allo)n(ws)g(programmers)e(to)j(c)n(ho)r(ose)f
(what)h(com)n(binations)f(of)h(GNU)h(C)f(extensions)299
4561 y(they)23 b(w)n(ould)f(lik)n(e)h(to)g(use)f(b)n(y)h(sp)r(ecifying)
g(what)g(w)n(e)f(call)h(a)f Fl(gr)l(ade)31 b Fp(as)22
b(a)g(command)h(line)g(option.)299 4661 y(There)32 b(are)g(six)g(main)g
(grades,)h(none,)g(reg,)g(jump,)i(fast,)f(asm)p 2298
4661 V 29 w(jump)g(and)e(asm)p 2857 4661 V 30 w(fast,)h(whose)299
4760 y(c)n(haracteristics)27 b(are)i(sho)n(wn)g(in)h(table)g(7.1.)42
b(Not)30 b(all)g(grades)e(are)h(a)n(v)-5 b(ailable)28
b(on)i(all)f(systems.)299 4860 y(Grade)19 b(none)g(yields)g(p)r
(ortable)g(ANSI)h(C)f(co)r(de.)34 b(Eac)n(h)18 b(grade)g(can)h(b)r(e)h
(used)f(without)h(a)f(garbage)299 4960 y(collector)33
b(or)g(with)i(Hans)f(Bo)r(ehm's)g(conserv)-5 b(ativ)n(e)33
b(garbage)f(collector)h(for)h(C,)g(as)g(w)n(e)g(ha)n(v)n(e)299
5059 y(describ)r(ed)g(earlier;)j(programmers)c(can)h(ask)g(for)g(Bo)r
(ehm's)h(garbage)d(collector)i(b)n(y)g(adding)299 5159
y(the)28 b(su\016x)f(\\.gc")g(after)g(the)h(grade)e(option.)1752
5325 y(39)p eop
%%Page: 40 40
40 39 bop 375 315 2838 5 v 373 414 5 100 v 425 384 a
Fp(GNU)28 b(C)g(extension)p 1329 414 V 1346 414 V 328
w(none)p 1616 414 V 99 w(reg)p 1827 414 V 99 w(jump)p
2114 414 V 100 w(fast)p 2345 414 V 100 w(asm)p 2546 384
25 4 v 29 w(jump)p 2805 414 5 100 v 101 w(asm)p 3006
384 25 4 v 29 w(fast)p 3210 414 5 100 v 375 418 2838
5 v 373 518 5 100 v 425 488 a(global)e(register)g(v)-5
b(ariables)p 1329 518 V 1346 518 V 198 w(no)p 1616 518
V 99 w(y)n(es)p 1827 518 V 198 w(no)p 2114 518 V 120
w(y)n(es)p 2345 518 V 372 w(no)p 2805 518 V 293 w(y)n(es)p
3210 518 V 373 618 V 425 588 a(non-lo)r(cal)26 b(gotos)p
1329 618 V 1346 618 V 508 w(no)p 1616 618 V 123 w(no)p
1827 618 V 175 w(y)n(es)p 2114 618 V 119 w(y)n(es)p 2345
618 V 348 w(y)n(es)p 2805 618 V 293 w(y)n(es)p 3210 618
V 373 717 V 425 687 a(assem)n(bly)g(lab)r(els)p 1329
717 V 1346 717 V 499 w(no)p 1616 717 V 123 w(no)p 1827
717 V 198 w(no)p 2114 717 V 144 w(no)p 2345 717 V 348
w(y)n(es)p 2805 717 V 293 w(y)n(es)p 3210 717 V 375 721
2838 5 v 713 948 a Fd(T)-7 b(ABLE)43 b(7.1.)25 b Fc(The)h(use)g(of)g
(GNU)f(C)h(extensions)g(b)n(y)f(Mercury)h(grades)399
1170 y Fp(The)34 b(Mercury)f(run)n(time)h(system)g(is)h(implemen)n(ted)
g(as)e(a)h(shared)f(library)g(on)h(mac)n(hines)299 1269
y(that)22 b(supp)r(ort)g(shared)f(libraries)g(\(really)g(shared)g(ob)5
b(jects\))22 b(in)h(a)e(w)n(a)n(y)g(that)i(do)r(es)e(not)h(in)n
(terfere)299 1369 y(with)31 b(our)f(use)h(of)g(GNU)h(C)f(extensions,)g
(and)f(as)h(a)f(traditional)g(library)g(on)g(mac)n(hines)g(that)299
1469 y(do)35 b(not.)58 b(The)35 b(run-time)g(system)g(con)n(tains)f
(the)h(driv)n(er)f(routine)g(for)h(grades)e(that)i(do)g(not)299
1568 y(use)e(nonlo)r(cal)f(gotos)g(\(see)h(section)g(3\).)54
b(It)34 b(also)e(de\014nes)h(sev)n(eral)e(system-pro)n(vided)h(lab)r
(els,)299 1668 y(including)37 b(the)h(one)f(that)g(handles)g(failures.)
65 b(The)37 b(run)n(time)g(system)g(is)g(also)g(resp)r(onsible)299
1768 y(for)32 b(the)g(initial)g(allo)r(cation)g(of)g(memory)f(for)h
(the)g(v)-5 b(arious)31 b(data)h(areas.)49 b(This)32
b(allo)r(cation)f(is)299 1867 y(careful)d(to)g(place)g(the)h(data)f
(areas)f(in)h(suc)n(h)h(a)f(w)n(a)n(y)f(that)i(their)f(initial)h(areas)
d(do)j(not)f(collide)299 1967 y(in)33 b(direct-mapp)r(ed)f(cac)n(hes.)
51 b(This)33 b(reduces)f(collisions)f(in)i(mac)n(hines)f(with)h
(set-asso)r(ciativ)n(e)299 2066 y(cac)n(hes)d(as)h(w)n(ell.)49
b(While)32 b(this)g(step)f(do)r(esn't)h(h)n(urt)f(large)g(programs,)f
(omitting)i(it)g(can)f(slo)n(w)299 2166 y(do)n(wn)c(small)g(programs)f
(b)n(y)h(more)g(than)g(30\045.)399 2266 y(On)32 b(Unix)h(mac)n(hines)f
(that)i(supp)r(ort)e(the)h(mprotect)g(system)g(call,)h(whic)n(h)e
(includes)h(ma-)299 2365 y(c)n(hines)g(running)g(Solaris)f(2.x,)i(IRIX)
f(5.x,)i(OSF/1)d(and)h(man)n(y)g(other)f(mo)r(dern)h(v)n(ersions)f(of)
299 2465 y(Unix,)h(the)f(run-time)g(system)g(sets)f(up)i(\\red)e
(zones")f(to)n(w)n(ards)g(the)i(ends)g(of)g(the)g(heap)g(and)299
2565 y(the)e(stac)n(ks.)43 b(Access)29 b(to)h(a)g(red)f(zone)h(will)g
(result)g(in)g(a)f(signal)g(b)r(eing)i(deliv)n(ered)e(to)h(the)g(pro-)
299 2664 y(cess.)59 b(Our)35 b(nativ)n(e)g(Mercury)f(garbage)f
(collector)h(is)i(based)e(on)h(the)h(idea)f(that)h(the)g(signal)299
2764 y(handler)28 b(that)g(is)h(noti\014ed)f(on)g(o)n(v)n(er\015o)n(w)e
(will)j(unprotect)f(enough)g(reserv)n(ed)e(memory)i(in)g(the)299
2863 y(redzone)d(to)h(let)h(the)g(computation)f(reac)n(h)f(its)h(next)h
(jump)g(p)r(oin)n(t,)g(but)g(it)g(will)f(o)n(v)n(erride)e(b)r(oth)299
2963 y(the)g(success)e(and)i(failure)f(con)n(tin)n(uations)f(to)h
(redirect)g(them)h(to)f(the)h(garbage)d(collector.)35
b(The)299 3063 y(garbage)c(collector)h(will)i(th)n(us)f(get)g(con)n
(trol)f(at)h(a)g(p)r(oin)n(t)h(where)f(the)g(\\shap)r(es")f(of)i(the)f
(con-)299 3162 y(ten)n(ts)27 b(of)g(registers)f(and)h(stac)n(k)f(slots)
h(\(if)h(an)n(y\))e(are)h(kno)n(wn.)36 b(\(This)27 b(approac)n(h)e(had)
j(problems)299 3262 y(with)d(earlier)e(v)n(ersions)f(of)i(Unix,)i(but)f
(w)n(orks)d(just)j(\014ne)g(with)g(more)e(mo)r(dern)h(v)n(ersions.\))35
b(This)299 3362 y(garbage)23 b(collector)h(is)h(not)g(\014nished)g(y)n
(et,)h(but)g(this)f(is)g(not)g(a)g(problem)g(since)g(the)g(b)r(enc)n
(hmark)299 3461 y(programs)g(do)i(not)h(use)g(enough)e(memory)h(to)h
(require)e(an)n(y)h(garbage)e(collection.)299 3727 y
Fj(7.2.)49 b(Sp)-5 b(e)g(e)g(d)34 b(tests)299 3876 y
Fp(W)-7 b(e)20 b(ha)n(v)n(e)e(tested)h(the)h(sp)r(eed)f(of)g(the)h
(Mercury)e(implemen)n(tation)i(on)f(a)f(set)i(of)f(standard)f(Prolog)
299 3976 y(b)r(enc)n(hmarks)32 b(whic)n(h)h(w)n(e)g(ha)n(v)n(e)g
(translated)f(to)h(Mercury)-7 b(.)53 b(In)34 b(most)f(cases)f(the)i
(translation)299 4076 y(w)n(as)27 b(simply)g(a)h(matter)f(of)h
(\014guring)f(out)g(and)h(adding)f(the)h(prop)r(er)f(declarations.)36
b(W)-7 b(e)28 b(made)299 4175 y(only)39 b(t)n(w)n(o)g(other)g(kinds)g
(of)h(c)n(hanges.)71 b(First,)43 b(in)c(one)h(case)e(w)n(e)h(had)h(to)f
(comp)r(ensate)g(for)299 4275 y(Mercury's)c(lac)n(k)f(of)i(the)h(\\)p
Fk(=\\=)p Fp(")c(op)r(erator.)60 b(Second,)38 b(in)e(some)g(b)r(enc)n
(hmarks,)h(the)f(Prolog)299 4374 y(co)r(de)27 b(has)f(predicates)g
(that)i(either)f(enforce)f(determinism)h(through)g(cuts,)g(or)f(don't)h
(enforce)299 4474 y(determinism)e(ev)n(en)g(though)g(it)h(is)f
(required;)g(for)g(Mercury)-7 b(,)25 b(w)n(e)g(con)n(v)n(erted)e(these)
j(predicates)299 4574 y(to)h(use)h(switc)n(hes)f(or)g(if-then-elses.)
399 4673 y(W)-7 b(e)41 b(ran)f(the)h(b)r(enc)n(hmarks)f(on)g(Mercury)g
(v)n(ersion)f(0.5-b)r(eta)h(and)g(on)h(six)f(other)h(logic)299
4773 y(programming)34 b(systems:)54 b(SWI-Prolog)34 b(1.9.0)h([35],)j
(NU-Prolog)c(1.6.4)i([31],)h(w)n(amcc)f(2.21)299 4873
y([4],)27 b(Quin)n(tus)g(Prolog)f(3.2,)g(SICStus)i(Prolog)d(2.1)i([3])g
(and)g(Aquarius)g(Prolog)e(1.0)i([32];)g(these)299 4972
y(v)n(ersions)19 b(are)g(the)i(latest)g(w)n(e)f(had)g(access)g(to.)34
b(W)-7 b(e)21 b(w)n(ould)f(ha)n(v)n(e)g(lik)n(ed)g(to)g(run)h(the)g(b)r
(enc)n(hmarks)299 5072 y(on)33 b(some)g(other)g(systems)h(as)f(w)n
(ell,)i(P)-7 b(ARMA)34 b([30])f(and)g(T)-7 b(urb)r(o)34
b(Erlang)e([8])h(in)h(particular,)299 5171 y(but)28 b(w)n(e)f(do)h(not)
f(ha)n(v)n(e)g(access)f(to)h(those.)1752 5325 y(40)p
eop
%%Page: 41 41
41 40 bop 399 394 a Fp(F)-7 b(or)25 b(all)h(the)h(Mercury)e(b)r(enc)n
(hmarks)h(w)n(e)g(rep)r(ort)f(on,)i(the)f(co)r(de)g(w)n(e)g(tested)h
(came)f(straigh)n(t)299 493 y(out)k(of)f(the)i(compiler;)f(w)n(e)g(did)
g(not)g(mo)r(dify)g(an)n(y)f(of)h(them)g(in)g(an)n(y)f(w)n(a)n(y)-7
b(.)43 b(Since)30 b(the)g(b)r(enc)n(h-)299 593 y(marks)22
b(do)i(not)f(b)r(ene\014t)i(signi\014can)n(tly)e(from)g(an)n(y)g
(optimizations)g(requiring)f(in)n(terpro)r(cedural)299
692 y(analysis,)h(our)f(p)r(erformance)g(results)h(indicate)g(directly)
g(the)h(e\013ectiv)n(eness)e(of)h(the)h(execution)299
792 y(mo)r(del)k(w)n(e)f(describ)r(ed)g(in)h(section)f(3.)399
892 y(SWI-Prolog,)c(NU-Prolog)f(and)j(probably)e(Quin)n(tus)i(Prolog)d
(are)i(b)n(yteco)r(de)g(in)n(terpreters.)299 991 y(The)34
b(compact)g(option)g(of)g(SICStus)g(is)g(also)f(a)h(b)n(yteco)r(de)g
(in)n(terpreter,)g(while)h(its)f(fastco)r(de)299 1091
y(option)e(is)g(a)h(nativ)n(e)f(co)r(de)g(compiler)g(\(the)h(fastco)r
(de)f(w)n(e)g(tested)h(is)f(not)h(the)g(one)f(describ)r(ed)299
1191 y(in)i([9],)h(but)f(based)f(on)g(the)h(results)f(rep)r(orted)g(in)
h(that)g(pap)r(er,)h(our)e(results)g(w)n(ould)g(not)g(b)r(e)299
1290 y(m)n(uc)n(h)e(di\013eren)n(t)g(if)h(it)g(w)n(ere\).)47
b(Aquarius)31 b(is)g(also)f(a)h(nativ)n(e)g(co)r(de)g(compiler.)48
b(Aquarius)30 b(has)299 1390 y(an)23 b(option)h(asking)f(the)h
(compiler)f(to)h(p)r(erform)g(global)e(analysis)h(on)g(the)i(program;)e
(w)n(e)g(tested)299 1489 y(Aquarius)32 b(b)r(oth)i(with)g(and)f
(without)g(this)h(option.)53 b(W)-7 b(amcc)33 b(compiles)g(to)g(C)g
(and)g(then)h(to)299 1589 y(ob)5 b(ject)27 b(co)r(de;)h(the)g(results)f
(w)n(e)g(rep)r(ort)g(use)g(the)h(-fast)p 1997 1589 25
4 v 30 w(math)g(option.)399 1689 y(NU-Prolog,)g(SICStus)j(Prolog)d(and)
i(Aquarius)g(Prolog)e(allo)n(w)h(programmers)f(to)i(supply)299
1788 y(declarations,)25 b(but)i(do)f(not)h(require)e(it.)37
b(W)-7 b(e)27 b(therefore)f(tested)h(eac)n(h)e(of)i(these)f(systems)g
(b)r(oth)299 1888 y(with)32 b(and)f(without)h(declarations.)47
b(NU-Prolog's)30 b(when)h(declarations)f(and)i(SICStus)f(Pro-)299
1988 y(log's)24 b(blo)r(c)n(k)h(declarations)f(sp)r(ecify)i(that)g(a)f
(predicate)f(should)i(b)r(e)g(called)f(only)g(when)g(certain)299
2087 y(v)-5 b(ariables)27 b(ha)n(v)n(e)h(b)r(een)h(b)r(ound.)40
b(The)28 b(declarations)f(cause)h(c)n(hec)n(ks)f(to)i(b)r(e)g(made)f
(at)h(run)n(time,)299 2187 y(so)35 b(they)h(are)f(a)h(source)f(of)h(o)n
(v)n(erhead.)60 b(Ho)n(w)n(ev)n(er,)36 b(with)h(the)f(help)g(of)g
(these)g(declarations,)299 2286 y(programmers)29 b(can)j(write)g
(programs)e(that)i(use)g(coroutining,)g(whic)n(h)g(substan)n(tially)g
(sp)r(eed)299 2386 y(up)26 b(some)g(programs.)34 b(The)26
b(NU-Prolog)e(compiler)i(also)f(uses)h(the)g(declarations)f(to)h
(generate)299 2486 y(b)r(etter)i(co)r(de)f(for)g(indexing.)399
2585 y(Aquarius's)c(declarations)f(can)i(sp)r(ecify)h(that)f(an)g
(argumen)n(t)f(of)h(a)g(predicate)g(is)g(ground)f(at)299
2685 y(the)29 b(time)g(of)g(the)g(call,)f(that)h(it)g(is)f(already)g
(dereferenced)f(at)i(the)g(call,)f(and)h(that)g(it)g(is)f(a)h(list)299
2785 y(or)g(an)g(in)n(teger.)42 b(Although)29 b(these)h(declarations)e
(cannot)h(b)r(e)h(used)f(to)h(ac)n(hiev)n(e)e(coroutining,)299
2884 y(they)j(can)h(sp)r(eed)f(up)h(the)g(program.)46
b(The)31 b(problem)g(with)h(these)g(declarations)d(is)j(that)f(the)299
2984 y(Aquarius)20 b(compiler)h(do)r(es)g(not)g(catc)n(h)g(incorrect)f
(declarations)f(ev)n(en)i(though)g(they)h(can)e(cause)299
3083 y(the)25 b(program)e(to)i(crash.)35 b(This)25 b(is)g(a)f
(signi\014can)n(t)g(concern,)h(since)g(the)g(declarations)f(are)f
(quite)299 3183 y(easy)28 b(to)h(get)g(wrong.)40 b(The)29
b(declarations)e(yield)i(signi\014can)n(t)g(sp)r(eedups)g(for)g(only)f
(t)n(w)n(o)g(of)i(our)299 3283 y(ten)e(b)r(enc)n(hmarks)e(in)i(the)g
(presence)f(of)h(program)d(analysis.)399 3382 y(The)j(nativ)n(e)g(co)r
(de)h(generators)d(of)i(SICStus)h(Prolog)d(and)j(Aquarius)f(Prolog)e
(eac)n(h)i(target)299 3482 y(a)k(small)f(n)n(um)n(b)r(er)h(of)g
(platforms.)50 b(W)-7 b(e)33 b(ran)e(the)i(b)r(enc)n(hmarks)e(on)h(the)
g(fastest)g(mac)n(hine)g(w)n(e)299 3582 y(ha)n(v)n(e)j(access)g(to)h
(that)h(can)f(run)g(binaries)g(generated)f(b)n(y)h(these)g(systems.)63
b(This)36 b(mac)n(hine)299 3681 y(is)h(a)h(Sun)g(SP)-7
b(AR)n(Cserv)n(er)35 b(1000)h(with)i(four)g(50)e(MHz)i(TI)g(Sup)r(erSP)
-7 b(AR)n(C)38 b(pro)r(cessors)d(and)299 3781 y(256)k(megab)n(ytes)h
(of)g(memory)g(running)h(SunOS)g(5.3)e(\(Solaris)h(2.3\).)76
b(Eac)n(h)39 b(pro)r(cessor)g(is)299 3880 y(rated)30
b(at)g(60.3)g(SPECin)n(t92,)f(and)i(has)f(a)g(4-w)n(a)n(y)e(asso)r
(ciativ)n(e)h(16)h(Kb)g(I-cac)n(he)f(and)i(a)f(5-w)n(a)n(y)299
3980 y(asso)r(ciativ)n(e)h(20)i(Kb)g(D-cac)n(he,)h(bac)n(k)n(ed)f(b)n
(y)g(1)g(Mb)h(of)f(uni\014ed)h(secondary)e(cac)n(he.)53
b(None)34 b(of)299 4080 y(our)e(tests)g(used)h(more)e(than)i(one)f(pro)
r(cessor,)g(but)h(the)g(presence)f(of)g(the)h(other)f(pro)r(cessors)299
4179 y(signi\014can)n(tly)26 b(reduced)g(the)h(e\013ect)g(of)f(other)g
(mac)n(hine)g(loads)g(on)g(our)g(b)r(enc)n(hmarks.)36
b(W)-7 b(e)27 b(ran)299 4279 y(the)36 b(b)r(enc)n(hmarks)f(in)h(m)n
(ultiuser)g(mo)r(de)g(on)f(a)h(mostly)f(quiescen)n(t)h(mac)n(hine)f(at)
h(nigh)n(t.)61 b(T)-7 b(o)299 4379 y(eliminate)36 b(the)g(e\013ects)h
(of)f(an)n(y)f(bac)n(kground)f(loads)h(as)g(far)h(as)f(p)r(ossible,)j
(ev)n(ery)c(result)i(w)n(e)299 4478 y(rep)r(ort)25 b(is)h(the)g(b)r
(est)g(one)g(out)g(of)g(eigh)n(t)f(or)g(more)g(trials.)36
b(\(The)26 b(Aquarius)f(compiler)g(do)r(es)h(not)299
4578 y(run)19 b(under)h(Solaris)e(2)h(due)h(to)g(di\013erences)f(in)h
(assem)n(bler)e(formats,)j(so)e(w)n(e)g(compiled)h(Aquarius)299
4677 y(b)r(enc)n(hmarks)30 b(on)h(another)f(mac)n(hine)h(running)f
(SunOS)i(4.1.2,)e(although)h(of)g(course)f(w)n(e)h(ran)299
4777 y(the)d(resulting)f(executables)g(on)g(the)h(SP)-7
b(AR)n(Cserv)n(er)26 b(1000.\))399 4877 y(T)-7 b(able)32
b(7.2)h(con)n(tains)f(summaries)g(of)i(our)e(timing)i(results,)g(using)
f(the)g(arithmetic,)i(geo-)299 4976 y(metric)g(and)g(harmonic)f(means)h
(resp)r(ectiv)n(ely)-7 b(.)59 b(These)35 b(n)n(um)n(b)r(ers)f(are)h
(deriv)n(ed)f(from)h(table)299 5076 y(7.3,)40 b(whic)n(h)e(sho)n(ws)f
(the)i(sp)r(eed)f(of)g(eac)n(h)g(v)-5 b(arian)n(t)37
b(of)h(eac)n(h)f(system)h(on)g(eac)n(h)f(b)r(enc)n(hmark.)299
5176 y(\(The)30 b(\014rst)f(t)n(w)n(o)f(columns)h(mean)h(the)f(same)g
(thing)h(in)g(the)f(t)n(w)n(o)g(tables,)h(although)e(table)i(7.3)1752
5325 y(41)p eop
%%Page: 42 42
42 41 bop 466 315 2656 5 v 464 414 5 100 v 516 384 a
Fp(system)p 891 414 V 179 w(v)-5 b(arian)n(t)p 2236 414
V 2253 414 V 1120 w(arith)p 2541 414 V 99 w(geom)p 2830
414 V 99 w(harm)p 3119 414 V 466 418 2656 5 v 466 435
V 464 535 5 100 v 516 505 a(SWI)p 891 535 V 2236 535
V 2253 535 V 1669 w(1.00)p 2541 535 V 139 w(1.00)p 2830
535 V 140 w(1.00)p 3119 535 V 466 539 2656 5 v 464 638
5 100 v 516 609 a(NU)p 891 638 V 303 w(no)28 b(declarations)p
2236 638 V 2253 638 V 851 w(1.84)p 2541 638 V 139 w(1.77)p
2830 638 V 140 w(1.72)p 3119 638 V 464 738 V 891 738
V 943 708 a(declarations)p 2236 738 V 2253 738 V 967
w(4.92)p 2541 738 V 139 w(2.17)p 2830 738 V 140 w(1.67)p
3119 738 V 466 742 2656 5 v 464 842 5 100 v 516 812 a(w)n(amcc)p
891 842 V 2236 842 V 2253 842 V 1587 w(3.35)p 2541 842
V 139 w(3.25)p 2830 842 V 140 w(3.14)p 3119 842 V 466
846 2656 5 v 464 946 5 100 v 516 916 a(Quin)n(tus)p 891
946 V 2236 946 V 2253 946 V 1541 w(4.22)p 2541 946 V
139 w(3.92)p 2830 946 V 140 w(3.74)p 3119 946 V 466 950
2656 5 v 464 1049 5 100 v 516 1020 a(SICStus)p 891 1049
V 134 w(compactco)r(de,)f(no)h(declarations)p 2236 1049
V 2253 1049 V 332 w(2.09)p 2541 1049 V 139 w(2.05)p 2830
1049 V 140 w(2.02)p 3119 1049 V 464 1149 V 891 1149 V
943 1119 a(compactco)r(de,)f(declarations)p 2236 1149
V 2253 1149 V 448 w(4.10)p 2541 1149 V 139 w(2.26)p 2830
1149 V 140 w(1.88)p 3119 1149 V 464 1249 V 891 1249 V
943 1219 a(fastco)r(de,)h(no)f(declarations)p 2236 1249
V 2253 1249 V 505 w(7.45)p 2541 1249 V 139 w(7.12)p 2830
1249 V 140 w(6.83)p 3119 1249 V 464 1348 V 891 1348 V
943 1318 a(fastco)r(de,)h(declarations)p 2236 1348 V
2253 1348 V 620 w(5.77)p 2541 1348 V 139 w(3.70)p 2830
1348 V 140 w(3.15)p 3119 1348 V 466 1352 2656 5 v 464
1452 5 100 v 516 1422 a(Aquarius)p 891 1452 V 98 w(no)g(declarations,)e
(no)h(global)f(analysis)p 2236 1452 V 2253 1452 V 115
w(12.76)p 2541 1452 V 98 w(11.23)p 2830 1452 V 139 w(9.87)p
3119 1452 V 464 1552 V 891 1552 V 943 1522 a(declarations,)g(no)i
(global)e(analysis)p 2236 1552 V 2253 1552 V 230 w(16.09)p
2541 1552 V 98 w(13.80)p 2830 1552 V 98 w(12.26)p 3119
1552 V 464 1651 V 891 1651 V 943 1621 a(no)i(declarations,)e(global)g
(analysis)p 2236 1651 V 2253 1651 V 230 w(24.79)p 2541
1651 V 98 w(21.49)p 2830 1651 V 98 w(18.42)p 3119 1651
V 464 1751 V 891 1751 V 943 1721 a(declarations,)g(global)h(analysis)p
2236 1751 V 2253 1751 V 345 w(28.92)p 2541 1751 V 98
w(22.96)p 2830 1751 V 98 w(19.00)p 3119 1751 V 466 1755
2656 5 v 464 1855 5 100 v 516 1825 a(Mercury)p 891 1855
V 121 w(none)h(grade,)e(Bo)r(ehm)h(gc)p 2236 1855 V 2253
1855 V 552 w(10.99)p 2541 1855 V 139 w(8.08)p 2830 1855
V 140 w(6.36)p 3119 1855 V 464 1954 V 891 1954 V 943
1924 a(none)h(grade,)e(no)h(gc)p 2236 1954 V 2253 1954
V 719 w(16.11)p 2541 1954 V 98 w(14.64)p 2830 1954 V
98 w(13.39)p 3119 1954 V 464 2054 V 891 2054 V 943 2024
a(asm)p 1092 2024 25 4 v 30 w(fast)g(grade,)g(Bo)r(ehm)g(gc)p
2236 2054 5 100 v 2253 2054 V 417 w(23.41)p 2541 2054
V 98 w(12.97)p 2830 2054 V 139 w(9.24)p 3119 2054 V 464
2154 V 891 2154 V 943 2124 a(asm)p 1092 2124 25 4 v 30
w(fast)g(grade,)g(no)g(gc)p 2236 2154 5 100 v 2253 2154
V 584 w(43.86)p 2541 2154 V 98 w(39.33)p 2830 2154 V
98 w(36.52)p 3119 2154 V 466 2158 2656 5 v 938 2384 a
Fd(T)-7 b(ABLE)43 b(7.2.)25 b Fc(Av)n(erages)h(of)g(b)r(enc)n(hmark)e
(sp)r(eed)i(ratios)299 2606 y Fp(has)i(the)g(system)g(and)g(v)-5
b(arian)n(t)27 b(names)h(in)g(compressed)f(form.\))39
b(All)28 b(sp)r(eeds)g(in)h(these)f(tables)299 2706 y(are)36
b(normalized)g(to)h(the)g(sp)r(eed)h(of)f(SWI-Prolog,)g(a)f(freely)h(a)
n(v)-5 b(ailable)36 b(system.)65 b(The)37 b(ra)n(w)299
2805 y(timing)28 b(data,)g(user-mo)r(de)f(times)h(required)f(to)g(pro)r
(duce)h(all)g(solutions)f(for)g(one)h(iteration)f(of)299
2905 y(eac)n(h)22 b(b)r(enc)n(hmark)g(on)g(eac)n(h)h(system)f(v)-5
b(arian)n(t,)23 b(is)g(accessible)e(through)h(our)g(W)-7
b(orld)23 b(Wide)g(W)-7 b(eb)299 3005 y(page.)36 b(The)28
b(times)g(w)n(ere)e(pro)r(duced)i(b)n(y)f(running)g(eac)n(h)g(b)r(enc)n
(hmark)g(man)n(y)g(times,)h(in)g(a)f(fail-)299 3104 y(ure)22
b(driv)n(en)g(lo)r(op)g(for)g(the)h(Prolog)d(b)r(enc)n(hmarks)h(and)i
(in)f(its)h(equiv)-5 b(alen)n(t)22 b(in)h(a)f(test)h(harness)e(for)299
3204 y(Mercury)-7 b(,)31 b(and)g(dividing)h(the)f(total)g(user-mo)r(de)
g(run)n(time)g(b)n(y)g(the)h(n)n(um)n(b)r(er)f(of)g(rep)r(etitions;)299
3303 y(this)d(eliminates)f(the)h(uncertain)n(t)n(y)f(in)n(v)n(olv)n(ed)
f(in)i(measuring)e(small)i(times.)399 3403 y(The)d(b)r(enc)n(hmarks)f
(w)n(e)h(used)g(are)f(standard)h(Prolog)d(b)r(enc)n(hmarks)j(whic)n(h)g
(w)n(e)g(ha)n(v)n(e)f(trans-)299 3503 y(lated)c(to)g(Mercury)-7
b(.)34 b(Crypt)20 b(solv)n(es)e(a)i(cryptoarithmetic)f(puzzle.)35
b(Deriv)20 b(sym)n(b)r(olically)f(di\013er-)299 3602
y(en)n(tiates)24 b(four)g(functions)g(of)h(a)e(single)h(v)-5
b(ariable.)35 b(Nrev)24 b(rev)n(erses)e(a)i(list)g(of)h(30)e(elemen)n
(ts)h(using)299 3702 y(the)i(naiv)n(e)f(algorithm.)35
b(P)n(oly)24 b(sym)n(b)r(olically)h(raises)f(1+x+y+z)g(to)h(the)h(ten)n
(th)g(p)r(o)n(w)n(er.)36 b(Prime)299 3802 y(\014nds)21
b(all)f(primes)h(up)g(to)f(100.)34 b(Qsort)19 b(quic)n(ksorts)g(a)h
(list)h(of)g(50)f(in)n(tegers)g(using)g(di\013erence)h(lists.)299
3901 y(Queen)34 b(\014nds)g(all)g(safe)f(placemen)n(ts)h(of)g(9)f
(queens)h(on)g(a)f(9x9)g(c)n(hessb)r(oard.)55 b(Cqueen)33
b(is)h(the)299 4001 y(same)24 b(b)r(enc)n(hmark)g(after)h(it)g(has)g(b)
r(een)g(put)g(through)g(the)g(source-to-source)c(transformation)299
4100 y(of)i(Seki)g(and)h(F)-7 b(uruk)i(a)n(w)n(a)21 b([24].)35
b(Query)22 b(\014nds)i(coun)n(tries)e(with)i(appro)n(ximately)d(equal)i
(p)r(opula-)299 4200 y(tion)j(densit)n(y)-7 b(.)36 b(T)-7
b(ak)26 b(is)g(an)g(arti\014cial)f(b)r(enc)n(hmark,)h(originally)e
(written)i(in)h(Lisp;)f(it)h(is)f(hea)n(vily)299 4300
y(recursiv)n(e)e(and)h(do)r(es)g(lots)h(of)f(simple)h(in)n(teger)e
(arithmetic.)36 b(Deriv,)26 b(nrev,)g(primes,)f(qsort)g(and)299
4399 y(tak)c(are)f(en)n(tirely)g(deterministic,)j(p)r(oly)e(is)g
(mostly)g(deterministic)g(with)h(some)e(semidetermin-)299
4499 y(istic)34 b(co)r(de,)i(and)e(cqueen,)h(crypt,)h(queen)e(and)g
(query)f(ha)n(v)n(e)g(signi\014can)n(t)h(amoun)n(ts)f(of)h(b)r(oth)299
4599 y(nondeterministic)27 b(and)h(either)f(deterministic)h(or)f
(semideterministic)h(co)r(de.)399 4698 y(W)-7 b(e)18
b(curren)n(tly)g(supp)r(ort)g(Mercury)g(on)g(six)g(platforms:)32
b(SP)-7 b(AR)n(C/Solaris)16 b(2.x,)k(MIPS/IRIX)299 4798
y(5.x,)39 b(MIPS/Ultrix)d(4.3,)j(Alpha/OSF/1)c(3.x,)k(x86/Lin)n(ux)d
(and)g(x86/BSDI)g(1.1.)65 b(All)37 b(six)299 4897 y(platforms)26
b(supp)r(ort)g(GNU)i(C)e(global)g(register)f(v)-5 b(ariables.)35
b(Fiv)n(e)26 b(supp)r(ort)h(GNU)g(C)g(nonlo)r(cal)299
4997 y(gotos)f(\(the)j(exception)f(is)f(the)i(Alpha\),)f(although)f
(under)h(IRIX)g(the)g(use)g(of)g(nonlo)r(cal)f(gotos)299
5097 y(in)n(terferes)34 b(with)h(shared)f(libraries.)57
b(These)35 b(\014v)n(e)g(also)e(supp)r(ort)i(assem)n(bler)e(lab)r(els.)
59 b(Giv)n(en)1752 5325 y(42)p eop
%%Page: 43 43
43 42 bop 299 394 a Fp(this)23 b(wide)g(a)n(v)-5 b(ailabilit)n(y)21
b(of)h(these)h(three)g(gcc)f(extensions,)g(the)h(asm)p
2412 394 25 4 v 30 w(fast)f(grade)g(is)g(m)n(uc)n(h)h(more)299
493 y(represen)n(tativ)n(e)f(of)j(Mercury's)e(p)r(erformance)h(than)h
(the)f(none)h(grade,)f(whic)n(h)g(w)n(e)g(include)h(for)299
593 y(purp)r(oses)i(of)g(comparison)f(in)i(tables)f(7.2)g(and)g(7.3.)
399 692 y(None)21 b(of)h(the)h(b)r(enc)n(hmarks)e(require)f(garbage)g
(collection)h(when)i(run)e(just)i(once.)34 b(The)22 b(Pro-)299
792 y(log)f(systems)g(don't)i(need)f(garbage)d(collection)j(ev)n(en)f
(when)h(they)g(are)f(run)h(man)n(y)g(times,)h(since)299
892 y(the)36 b(failure)f(driv)n(en)f(lo)r(op)h(in)h(the)g(b)r(enc)n
(hmark)f(harness)f(reco)n(v)n(ers)e(all)j(memory)-7 b(.)60
b(Bo)r(ehm's)299 991 y(garbage)35 b(collector)i(has)h(no)f(similar)g
(facilit)n(y)h(for)g(c)n(heap)f(reco)n(v)n(ery)e(of)j(memory)f(on)h
(bac)n(k-)299 1091 y(trac)n(king,)29 b(whic)n(h)h(leads)f(to)h(rep)r
(eated)f(garbage)f(collections)h(when)h(running)g(the)g(allo)r(cation)
299 1191 y(in)n(tensiv)n(e)j(b)r(enc)n(hmarks)f(man)n(y)g(times.)54
b(This)33 b(e\013ect)h(reduces)e(the)i(apparen)n(t)e(p)r(erformance)299
1290 y(of)26 b(Mercury)f(v)-5 b(arian)n(ts)24 b(using)i(Bo)r(ehm's)g
(garbage)d(collector)i(in)h(tables)g(7.2)f(and)h(7.3)f(in)h(a)g(w)n(a)n
(y)299 1390 y(that)i(do)r(es)g(not)g(o)r(ccur)f(in)i(realistic)e
(programs)f(\(see)i(section)f(7.3\).)38 b(In)29 b(an)n(y)e(case,)g(giv)
n(en)g(that)299 1489 y(our)e(design)h(for)g(the)g(nativ)n(e)g(Mercury)f
(garbage)f(collector)h(do)r(es)h(not)g(su\013er)g(from)g(this)h(prob-)
299 1589 y(lem,)e(and)g(that)g(the)g(b)r(eha)n(vior)f(of)g(a)h(system)f
(with)h(this)g(nativ)n(e)g(collector)e(is)i(iden)n(tical)f(during)299
1689 y(forw)n(ard)32 b(execution)h(with)h(the)g(b)r(eha)n(vior)f(of)g
(a)h(system)f(with)h(no)f(gc,)i(the)f(results)f(without)299
1788 y(garbage)f(collection)h(are)h(m)n(uc)n(h)g(more)f(represen)n
(tativ)n(e)g(of)h(Mercury's)f(p)r(oten)n(tial)h(than)g(the)299
1888 y(results)27 b(with)h(Bo)r(ehm's)f(conserv)-5 b(ativ)n(e)26
b(garbage)f(collector.)399 1988 y(T)-7 b(able)22 b(7.2)g(sho)n(ws)f
(Mercury)h(to)g(b)r(e)h(the)g(fastest)g(system)f(o)n(v)n(erall)f(with)i
(all)f(three)h(a)n(v)n(eraging)299 2087 y(metho)r(ds.)46
b(Using)30 b(the)h(harmonic)f(mean,)h(the)g(asm)p 1968
2087 V 29 w(fast)g(grade)e(of)i(Mercury)e(is)h(92\045)g(faster)299
2187 y(than)22 b(the)h(fastest)g(v)-5 b(arian)n(t)21
b(of)h(Aquarius.)35 b(It)22 b(outp)r(erforms)g(SICStus)h(fastco)r(de)f
(b)n(y)g(a)g(factor)g(of)299 2286 y(5.3,)k(Quin)n(tus)g(Prolog)f(b)n(y)
h(a)g(factor)g(of)g(9.8,)g(w)n(amcc)g(b)n(y)h(a)f(factor)g(of)g(11.6,)g
(and)g(all)g(the)h(other)299 2386 y(systems)e(w)n(e)h(measured)f(b)n(y)
h(factors)f(ranging)f(from)i(18)f(to)h(36.)35 b(Using)26
b(the)g(geometric)f(mean,)299 2486 y(Mercury)g(is)g(71\045)h(faster)f
(than)h(Aquarius,)f(while)h(using)g(the)g(arithmetic)g(mean,)g(Mercury)
f(is)299 2585 y(52\045)g(faster.)36 b(F)-7 b(or)26 b(a)n(v)n(eraging)d
(rates,)j(the)g(harmonic)g(mean)g(is)g(the)h(most)f(appropriate)e(of)i
(the)299 2685 y(three)e(a)n(v)n(eraging)d(metho)r(ds,)k(since)e(it)i
(is)f(the)g(one)g(least)f(in\015uenced)i(b)n(y)f(a)f(single)h(go)r(o)r
(d)f(result.)299 2785 y(F)-7 b(or)31 b(example,)i(table)g(7.3)e(sho)n
(ws)g(that)h(declarations)f(slo)n(w)g(do)n(wn)h(SICStus)g(compact)g(co)
r(de)299 2884 y(on)f(ev)n(ery)f(b)r(enc)n(hmark)g(except)h(one)g
(\(queen\),)i(y)n(et)e(the)g(arithmetic)g(and)g(geometric)f(means)299
2984 y(sho)n(w)22 b(SICStus)i(compact)f(co)r(de)g(to)g(b)r(e)h(faster)e
(with)i(declarations)e(than)h(without,)i(due)e(to)g(the)299
3083 y(big)k(sp)r(eedup)h(made)g(p)r(ossible)f(b)n(y)g(declarations)f
(on)h(that)h(one)g(b)r(enc)n(hmark.)399 3183 y(Mercury)21
b(is)i(the)h(fastest)f(system)g(on)f(all)h(ten)g(b)r(enc)n(hmarks,)g
(Aquarius)g(with)g(analysis)f(and)299 3283 y(declarations)27
b(is)i(the)g(next)g(fastest)g(system.)41 b(Its)29 b(sp)r(eed)g(comes)f
(closest)g(to)h(Mercury)f(on)g(the)299 3382 y(t)n(w)n(o)g(smallest)g(b)
r(enc)n(hmarks,)g(nrev)g(and)h(tak,)g(while)g(its)g(relativ)n(e)e(p)r
(erformance)h(is)h(w)n(orst)e(on)299 3482 y(the)h(t)n(w)n(o)f(largest)f
(b)r(enc)n(hmarks,)h(crypt)g(and)g(p)r(oly)-7 b(.)399
3582 y(Mercury's)36 b(sp)r(eed)h(on)h(nrev)f(dep)r(ends)g(on)h(either)f
(its)h(t)n(w)n(o)e(predicates)h(b)r(eing)h(declared)299
3681 y(without)j(p)r(olymorphism,)i(or)c(the)i(optimization)f(to)g
(remo)n(v)n(e)e(un)n(used)j(argumen)n(ts)e(b)r(eing)299
3781 y(switc)n(hed)34 b(on.)58 b(If)35 b(the)h(predicates)d(are)h
(declared)g(p)r(olymorphic)g(and)g(the)h(optimization)g(is)299
3880 y(not)27 b(switc)n(hed)g(on,)h(the)f(o)n(v)n(erhead)f(of)h
(passing)f(around)h(a)g(p)r(oin)n(ter)g(to)g(a)g(t)n(yp)r(e)p
2771 3880 V 30 w(info)g(structure)299 3980 y(whic)n(h)21
b(is)h(nev)n(er)f(used)g(slo)n(ws)g(do)n(wn)g(the)h(asm)p
1716 3980 V 29 w(fast)g(grade)e(of)i(Mercury)e(b)n(y)i(ab)r(out)f
(16\045)g(on)g(this)299 4080 y(b)r(enc)n(hmark.)35 b(Only)25
b(t)n(w)n(o)f(of)i(the)f(other)g(b)r(enc)n(hmarks,)f(queen)h(and)g
(cqueen,)h(ha)n(v)n(e)e(an)n(y)g(predi-)299 4179 y(cates)h(that)h(are)e
(naturally)h(p)r(olymorphic;)g(the)h(impact)g(of)f(unoptimized)h(p)r
(olymorphism)f(on)299 4279 y(Mercury's)h(sp)r(eed)i(on)f(these)h(b)r
(enc)n(hmarks)f(is)g(less)g(than)h(2\045.)399 4379 y(NU-Prolog)37
b(and)i(SICStus)g(b)r(oth)h(p)r(erform)f(v)n(ery)f(w)n(ell)h(on)f(the)i
(nine-queens)f(program)299 4478 y(when)c(declarations)f(are)g(turned)h
(on.)60 b(The)35 b(complexit)n(y)g(of)g(this)g(b)r(enc)n(hmark)g(is)g
(factorial)299 4578 y(when)27 b(executed)h(left-to-righ)n(t,)e(but)i
(the)g(declarations)e(enable)h(coroutining)f(whic)n(h)h(reduces)299
4677 y(this)21 b(to)f(p)r(olynomial.)34 b(Nev)n(ertheless,)21
b(the)g(Mercury)f(execution)g(algorithm)f(is)i(so)f(m)n(uc)n(h)g
(faster)299 4777 y(than)26 b(the)g(execution)g(algorithms)e(of)i
(NU-Prolog)e(and)i(SICStus,)h(that)f(for)f(nine)i(queens)e(the)299
4877 y(constan)n(t)h(factor)h(out)n(w)n(eighs)f(the)i(big-O)e(adv)-5
b(an)n(tage,)26 b(whic)n(h)h(asserts)f(itself)i(slo)n(wly)-7
b(.)36 b(F)-7 b(or)26 b(ten)299 4976 y(queens,)d(NU-Prolog)e(with)i
(coroutining)f(is)g(less)h(than)f(t)n(wice)h(as)f(fast)h(as)f(Mercury;)
h(for)f(elev)n(en)299 5076 y(queens,)27 b(it)h(is)g(sligh)n(tly)f(o)n
(v)n(er)f(four)h(times)h(as)f(fast.)399 5176 y(Comparing)i(the)j(ra)n
(w)d(execution)i(times)g(for)g(queen)g(with)g(cqueen)g(sho)n(ws)f(that)
h(ev)n(en)g(on)1752 5325 y(43)p eop
%%Page: 44 44
44 43 bop 304 315 2979 5 v 302 414 5 100 v 563 414 V
750 414 V 767 414 V 839 384 a Fp(cqu)p 1014 414 V 134
w(cry)p 1261 414 V 131 w(der)p 1508 414 V 124 w(nrv)p
1756 414 V 134 w(p)r(ol)p 2003 414 V 146 w(pri)p 2250
414 V 138 w(qst)p 2497 414 V 111 w(qun)p 2745 414 V 127
w(qry)p 2992 414 V 170 w(tak)p 3281 414 V 304 418 2979
5 v 304 435 V 302 535 5 100 v 354 505 a(SWI)p 563 535
V 750 535 V 767 535 V 345 w(1.0)p 1014 535 V 140 w(1.0)p
1261 535 V 141 w(1.0)p 1508 535 V 140 w(1.0)p 1756 535
V 140 w(1.0)p 2003 535 V 140 w(1.0)p 2250 535 V 141 w(1.0)p
2497 535 V 140 w(1.0)p 2745 535 V 140 w(1.0)p 2992 535
V 182 w(1.0)p 3281 535 V 304 539 2979 5 v 302 638 5 100
v 354 609 a(NU)p 563 638 V 137 w(-)p 750 638 V 767 638
V 217 w(1.5)p 1014 638 V 140 w(1.4)p 1261 638 V 141 w(1.5)p
1508 638 V 140 w(3.4)p 1756 638 V 140 w(1.8)p 2003 638
V 140 w(1.6)p 2250 638 V 141 w(1.6)p 2497 638 V 140 w(1.6)p
2745 638 V 140 w(1.9)p 2992 638 V 182 w(2.2)p 3281 638
V 302 738 V 563 738 V 615 708 a(d)p 750 738 V 767 738
V 199 w(1.6)p 1014 738 V 140 w(1.2)p 1261 738 V 141 w(0.9)p
1508 738 V 140 w(3.4)p 1756 738 V 140 w(1.6)p 2003 738
V 140 w(1.7)p 2250 738 V 141 w(1.2)p 2497 738 V 98 w(33.8)p
2745 738 V 140 w(1.9)p 2992 738 V 182 w(1.9)p 3281 738
V 304 742 2979 5 v 302 842 5 100 v 354 812 a(w)n(cc)p
563 842 V 750 842 V 767 842 V 374 w(4.3)p 1014 842 V
140 w(4.3)p 1261 842 V 141 w(2.2)p 1508 842 V 140 w(3.7)p
1756 842 V 140 w(3.0)p 2003 842 V 140 w(3.5)p 2250 842
V 141 w(2.8)p 2497 842 V 140 w(4.1)p 2745 842 V 140 w(2.0)p
2992 842 V 182 w(3.7)p 3281 842 V 304 846 2979 5 v 302
946 5 100 v 354 916 a(Qui)p 563 946 V 750 946 V 767 946
V 372 w(3.8)p 1014 946 V 140 w(3.5)p 1261 946 V 141 w(2.8)p
1508 946 V 98 w(10.4)p 1756 946 V 140 w(3.6)p 2003 946
V 140 w(3.5)p 2250 946 V 141 w(3.5)p 2497 946 V 140 w(4.3)p
2745 946 V 140 w(3.4)p 2992 946 V 182 w(3.4)p 3281 946
V 304 950 2979 5 v 302 1049 5 100 v 354 1020 a(SI)p 563
1049 V 185 w(c)p 750 1049 V 767 1049 V 208 w(2.1)p 1014
1049 V 140 w(2.1)p 1261 1049 V 141 w(1.6)p 1508 1049
V 140 w(3.0)p 1756 1049 V 140 w(2.2)p 2003 1049 V 140
w(1.7)p 2250 1049 V 141 w(1.8)p 2497 1049 V 140 w(2.1)p
2745 1049 V 140 w(1.8)p 2992 1049 V 182 w(2.5)p 3281
1049 V 302 1149 V 563 1149 V 615 1119 a(cd)p 750 1149
V 767 1149 V 162 w(1.9)p 1014 1149 V 140 w(1.8)p 1261
1149 V 141 w(1.3)p 1508 1149 V 140 w(1.9)p 1756 1149
V 140 w(1.9)p 2003 1149 V 140 w(1.5)p 2250 1149 V 141
w(1.4)p 2497 1149 V 98 w(25.3)p 2745 1149 V 140 w(1.7)p
2992 1149 V 182 w(2.2)p 3281 1149 V 302 1249 V 563 1249
V 615 1219 a(f)p 750 1249 V 767 1249 V 220 w(6.1)p 1014
1249 V 140 w(6.0)p 1261 1249 V 141 w(6.8)p 1508 1249
V 98 w(12.1)p 1756 1249 V 140 w(7.9)p 2003 1249 V 140
w(5.7)p 2250 1249 V 141 w(6.9)p 2497 1249 V 140 w(6.8)p
2745 1249 V 140 w(4.4)p 2992 1249 V 140 w(11.6)p 3281
1249 V 302 1348 V 563 1348 V 615 1318 a(fd)p 750 1348
V 767 1348 V 174 w(3.5)p 1014 1348 V 140 w(3.1)p 1261
1348 V 141 w(2.4)p 1508 1348 V 140 w(2.2)p 1756 1348
V 140 w(3.2)p 2003 1348 V 140 w(2.7)p 2250 1348 V 141
w(2.2)p 2497 1348 V 98 w(30.8)p 2745 1348 V 140 w(3.9)p
2992 1348 V 182 w(3.8)p 3281 1348 V 304 1352 2979 5 v
302 1452 5 100 v 354 1422 a(Aq)p 563 1452 V 155 w(-)p
750 1452 V 767 1452 V 176 w(16.2)p 1014 1452 V 139 w(7.3)p
1261 1452 V 141 w(7.2)p 1508 1452 V 98 w(15.7)p 1756
1452 V 140 w(9.8)p 2003 1452 V 140 w(8.1)p 2250 1452
V 99 w(14.7)p 2497 1452 V 98 w(15.9)p 2745 1452 V 140
w(4.5)p 2992 1452 V 140 w(28.0)p 3281 1452 V 302 1552
V 563 1552 V 615 1522 a(d)p 750 1552 V 767 1552 V 158
w(17.5)p 1014 1552 V 139 w(7.4)p 1261 1552 V 141 w(7.9)p
1508 1552 V 98 w(19.4)p 1756 1552 V 99 w(12.6)p 2003
1552 V 139 w(9.0)p 2250 1552 V 99 w(16.7)p 2497 1552
V 98 w(17.4)p 2745 1552 V 140 w(8.6)p 2992 1552 V 140
w(44.3)p 3281 1552 V 302 1651 V 563 1651 V 615 1621 a(a)p
750 1651 V 767 1651 V 162 w(25.9)p 1014 1651 V 139 w(7.5)p
1261 1651 V 99 w(15.7)p 1508 1651 V 98 w(36.9)p 1756
1651 V 99 w(18.8)p 2003 1651 V 98 w(11.7)p 2250 1651
V 98 w(32.6)p 2497 1651 V 98 w(26.1)p 2745 1651 V 98
w(18.2)p 2992 1651 V 140 w(54.5)p 3281 1651 V 302 1751
V 563 1751 V 615 1721 a(ad)p 750 1751 V 767 1751 V 116
w(25.9)p 1014 1751 V 139 w(7.6)p 1261 1751 V 99 w(15.8)p
1508 1751 V 98 w(36.8)p 1756 1751 V 99 w(18.9)p 2003
1751 V 98 w(12.9)p 2250 1751 V 98 w(32.8)p 2497 1751
V 98 w(26.1)p 2745 1751 V 98 w(18.2)p 2992 1751 V 140
w(94.2)p 3281 1751 V 304 1755 2979 5 v 302 1855 5 100
v 354 1825 a(Mer)p 563 1855 V 115 w(ng)p 750 1855 V 767
1855 V 116 w(13.4)p 1014 1855 V 139 w(6.1)p 1261 1855
V 141 w(2.7)p 1508 1855 V 140 w(4.1)p 1756 1855 V 140
w(7.2)p 2003 1855 V 140 w(6.4)p 2250 1855 V 141 w(4.7)p
2497 1855 V 140 w(7.7)p 2745 1855 V 98 w(24.1)p 2992
1855 V 140 w(33.6)p 3281 1855 V 302 1954 V 563 1954 V
615 1924 a(n)p 750 1954 V 767 1954 V 158 w(19.0)p 1014
1954 V 98 w(12.5)p 1261 1954 V 140 w(6.6)p 1508 1954
V 98 w(14.2)p 1756 1954 V 99 w(15.0)p 2003 1954 V 98
w(12.3)p 2250 1954 V 98 w(10.3)p 2497 1954 V 98 w(12.8)p
2745 1954 V 98 w(24.4)p 2992 1954 V 140 w(33.9)p 3281
1954 V 302 2054 V 563 2054 V 615 2024 a(ag)p 750 2054
V 767 2054 V 120 w(22.8)p 1014 2054 V 139 w(7.3)p 1261
2054 V 141 w(4.1)p 1508 2054 V 140 w(4.9)p 1756 2054
V 99 w(10.1)p 2003 2054 V 139 w(8.4)p 2250 2054 V 141
w(8.5)p 2497 2054 V 98 w(12.2)p 2745 2054 V 98 w(39.9)p
2992 2054 V 99 w(116.0)p 3281 2054 V 302 2154 V 563 2154
V 615 2124 a(a)p 750 2154 V 767 2154 V 162 w(49.1)p 1014
2154 V 98 w(29.1)p 1261 2154 V 98 w(25.8)p 1508 2154
V 98 w(40.2)p 1756 2154 V 99 w(40.0)p 2003 2154 V 98
w(23.6)p 2250 2154 V 98 w(39.8)p 2497 2154 V 98 w(33.9)p
2745 2154 V 98 w(40.2)p 2992 2154 V 99 w(116.8)p 3281
2154 V 304 2158 2979 5 v 463 2384 a Fd(T)-7 b(ABLE)43
b(7.3.)25 b Fc(Benc)n(hmark)f(sp)r(eed)i(ratios)h(on)f(SP)-6
b(AR)n(Cserv)n(er)24 b(1000,)k(SWI-Prolog)e(=)f(1)299
2606 y Fp(systems)i(that)g(can)g(coroutine,)f(compiling)h(a)n(w)n(a)n
(y)f(the)h(coroutining)f(impro)n(v)n(es)g(p)r(erformance)299
2706 y(signi\014can)n(tly)-7 b(.)74 b(With)42 b(NU-Prolog,)f(the)g
(impro)n(v)n(emen)n(t)e(is)h(82\045;)46 b(with)41 b(SICStus)g(Prolog,)
299 2805 y(the)35 b(impro)n(v)n(emen)n(t)e(is)i(196\045)e(for)h
(compact)h(co)r(de)f(and)h(338\045)e(for)h(fastco)r(de.)58
b(This)35 b(is)f(wh)n(y)299 2905 y(w)n(e)41 b(prefer)g(source-lev)n(el)
e(program)g(transformations)g([15,)13 b(24])41 b(to)g(coroutining.)77
b(W)-7 b(e)42 b(are)299 3005 y(w)n(orking)30 b(on)h(a)g(stream)g
(AND-parallel)g(implemen)n(tation)h(of)f(Mercury)g(that)h(will)g
(subsume)299 3104 y(the)g(functionalit)n(y)f(o\013ered)g(b)n(y)h
(coroutining)e(systems.)48 b(The)32 b(parallel)e(v)n(ersion)g(of)i
(Mercury)299 3204 y(will)d(w)n(ork)f(for)g(programs)f(with)j(circular)e
(data)g(dep)r(endencies,)i(whic)n(h)f(the)h(curren)n(t)e(system)299
3303 y(do)r(es)f(not)h(allo)n(w.)399 3403 y(With)34 b(NU-Prolog)d(and)i
(SICStus)h(Prolog,)f(it)g(is)h(striking)e(that)i(although)e
(declarations)299 3503 y(can)g(sp)r(eed)i(up)f(the)g(program)e
(dramatically)h(b)n(y)h(inducing)g(coroutining)f(\(as)g(in)h(queen\))h
(or)299 3602 y(sligh)n(tly)k(b)n(y)g(allo)n(wing)f(b)r(etter)h
(indexing)h(\(e.g.)69 b(NU-Prolog)36 b(on)i(cqueen\),)j(they)e(can)f
(also)299 3702 y(cause)31 b(ma)5 b(jor)31 b(slo)n(wdo)n(wns)g(due)h(to)
g(the)h(o)n(v)n(erhead)d(incurred)h(b)n(y)h(the)g(run)n(time)h(c)n(hec)
n(ks)e(they)299 3802 y(cause)h(to)g(b)r(e)h(generated.)51
b(This)32 b(is)g(one)h(reason)d(wh)n(y)j(Prolog)d(programmers)g
(traditionally)299 3901 y(dislik)n(e)h(declarations.)48
b(This)32 b(shouldn't)g(b)r(e)g(a)f(problem)h(with)g(Mercury)-7
b(,)32 b(since)f(our)g(results)299 4001 y(sho)n(w)c(that)g(the)h
(Mercury)f(compiler)g(puts)h(declarations)e(to)h(go)r(o)r(d)g(use.)399
4100 y(The)i(tables)g(sho)n(w)f(that)h(Mercury)g(b)r(ene\014ts)g
(signi\014can)n(tly)g(from)g(its)g(use)g(of)g(the)h(GNU)g(C)299
4200 y(extensions.)36 b(The)28 b(most)f(imp)r(ortan)n(t)g(extension)h
(is)f(the)h(use)f(of)h(global)e(register)h(v)-5 b(ariables)26
b(to)299 4300 y(k)n(eep)g(the)h(most)f(imp)r(ortan)n(t)g(abstract)f
(mac)n(hine)h(registers)f(in)i(the)g(registers)d(of)j(the)g(ph)n
(ysical)299 4399 y(mac)n(hine.)51 b(The)33 b(pa)n(y)n(o\013)e(from)i
(this)g(is)f(large)f(in)i(program)e(size)h(as)g(w)n(ell)g(as)g
(execution)g(time)299 4499 y(b)r(ecause)19 b(the)i(alternativ)n(e)e(is)
g(accessing)g(memory)-7 b(,)21 b(or)e(at)h(least)f(the)i(cac)n(he,)f
(on)g(ev)n(ery)f(reference)299 4599 y(to)i(a)h(virtual)f(mac)n(hine)g
(register,)g(and)h(these)f(o)r(ccur)g(on)h(almost)f(ev)n(ery)f(line)i
(of)f(co)r(de.)35 b(Without)299 4698 y(gcc's)e(nonlo)r(cal)g(gotos,)g
(eac)n(h)g(transfer)g(of)h(con)n(trol)e(costs)h(t)n(w)n(o)g(jump)h
(instructions)g(\(to)f(the)299 4798 y(driv)n(er)39 b(and)h(to)g(the)h
(destination\))g(plus)f(p)r(ossibly)g(one)g(more)g(bac)n(k)f(to)h(the)h
(start)f(of)g(the)299 4897 y(unrolled)24 b(lo)r(op)h(of)g(the)g(driv)n
(er.)35 b(This)25 b(cost)f(is)h(incurred)f(ev)n(en)h(when)g(falling)g
(through)f(a)h(lab)r(el.)299 4997 y(With)h(gcc's)e(nonlo)r(cal)g
(gotos,)h(the)g(costs)g(are)f(one)g(jump)i(instruction)f(and)g(zero)f
(instructions)299 5097 y(resp)r(ectiv)n(ely)-7 b(.)41
b(F)-7 b(or)29 b(jumps)h(within)g(a)f(single)g(C)g(function,)h(these)g
(jumps)g(are)e(alw)n(a)n(ys)g(simple)1752 5325 y(44)p
eop
%%Page: 45 45
45 44 bop 678 315 2231 5 v 676 414 5 100 v 728 384 a
Fp(System)p 1565 414 V 628 w(compile)27 b(time)100 b(\014le)28
b(size)99 b(run)27 b(time)p 2907 414 V 678 418 2231 5
v 676 518 5 100 v 728 488 a(NU-Prolog)p 1565 518 V 545
w(8.4)g(min)n(utes)107 b(1.9)27 b(Mb)201 b(116)54 b(s)p
2907 518 V 676 618 V 728 588 a(SICStus)28 b(compactco)r(de)p
1565 618 V 146 w(7.2)f(min)n(utes)107 b(4.4)27 b(Mb)201
b(101)54 b(s)p 2907 618 V 676 717 V 728 687 a(SICStus)28
b(fastco)r(de)p 1565 717 V 278 w(13.6)e(min)n(utes)107
b(7.4)27 b(Mb)233 b(71.1s)p 2907 717 V 676 817 V 728
787 a(Mercury)26 b(asm)p 1209 787 25 4 v 30 w(fast.gc)p
1565 817 5 100 v 155 w(61.8)g(min)n(utes)107 b(2.2)27
b(Mb)233 b(18.5s)p 2907 817 V 678 821 2231 5 v 796 1047
a Fd(T)-7 b(ABLE)43 b(7.4.)25 b Fc(The)h(Mercury)g(compiler)f(as)h(a)g
(large)h(b)r(enc)n(hmark)299 1269 y Fp(direct)19 b(jumps.)35
b(When)21 b(not)e(using)h(assem)n(bler)e(lab)r(els,)j(jumps)f(b)r(et)n
(w)n(een)g(di\013eren)n(t)g(C)f(functions)299 1369 y(are)33
b(indirect)g(jumps)i(in)f(whic)n(h)f(the)h(address)f(to)g(jump)i(to)f
(is)f(fetc)n(hed)h(from)g(a)f(v)-5 b(ariable)32 b(in)299
1469 y(memory)i(\(see)h(section)f(3.1\).)58 b(The)35
b(use)g(of)g(assem)n(bler)e(lab)r(els)i(impro)n(v)n(es)e(p)r
(erformance)h(b)n(y)299 1568 y(turning)23 b(jumps)g(b)r(et)n(w)n(een)g
(C)h(functions)f(in)n(to)g(direct)g(jumps)g(as)g(w)n(ell,)h(but)f(a)g
(more)f(imp)r(ortan)n(t)299 1668 y(b)r(ene\014t)e(is)f(that)g(it)h(a)n
(v)n(oids)d(long)i(startup)g(times.)34 b(\(Without)20
b(assem)n(bler)e(lab)r(els,)j(ev)n(ery)c(mo)r(dule)299
1768 y(of)h(the)h(program)e(m)n(ust)h(b)r(e)h(paged)f(in)h(at)f
(startup)g(to)g(initialize)h(the)g(v)-5 b(ariables)17
b(used)i(b)n(y)f(indirect)299 1867 y(jumps.\))399 1967
y(The)24 b(sp)r(eeds)g(reac)n(hed)f(b)n(y)g(the)i(asm)p
1523 1967 25 4 v 29 w(fast)f(and)g(none)g(grades)f(of)h(Mercury)f(on)h
(the)g(SP)-7 b(AR)n(C-)299 2066 y(serv)n(er)24 b(1000)f(on)j(the)g
(nrev)f(b)r(enc)n(hmark)g(corresp)r(ond)f(to)h(4.68)f(Megalips)h(and)g
(1.65)g(Megalips)299 2166 y(resp)r(ectiv)n(ely)-7 b(.)68
b(\(A)39 b(single)f(execution)g(of)g(the)h(naiv)n(e)f(rev)n(erse)e(b)r
(enc)n(hmark)i(coun)n(ts)f(as)h(496)299 2266 y(logical)25
b(inferences;)h(\\lips")g(is)g(logical)f(inferences)h(p)r(er)h
(second.\))36 b(Applying)27 b(the)f(destructiv)n(e)299
2365 y(assignmen)n(t)34 b(optimization)g(from)h(section)f(5.3)g(to)h
(app)r(end)g(b)n(y)f(hand)h(raises)f(the)h(sp)r(eed)g(of)299
2465 y(nrev)29 b(to)g(10.00)e(Megalips)i(with)g(the)h(asm)p
1644 2465 V 29 w(fast)g(grade,)e(whic)n(h)h(is)g(as)g(fast)g(as)g(a)g
(handwritten)299 2565 y(C)f(program)d(compiled)j(with)g(full)g
(optimization.)299 2830 y Fj(7.3.)49 b(Pr)-5 b(o)g(gr)g(am)34
b(size)h(and)f(c)-5 b(ompile)34 b(time)299 2980 y Fp(The)e(Mercury)f
(compiler)h(is)g(a)g(large)f(program,)g(approac)n(hing)f(a)i(h)n
(undred)g(thousand)g(lines)299 3079 y(of)e(co)r(de.)45
b(It)30 b(is)g(mostly)g(written)h(in)f(the)h(in)n(tersection)e(of)h
(three)g(languages,)f(Mercury)-7 b(,)30 b(NU-)299 3179
y(Prolog)21 b(and)j(SICStus)g(Prolog)d(\(some)i(primitiv)n(es)h(ha)n(v)
n(e)e(three)h(separate)g(implemen)n(tations\).)299 3279
y(W)-7 b(e)42 b(ha)n(v)n(e)e(therefore)g(used)i(the)f(compiler)g(as)g
(a)g(v)n(ery)f(large)g(test)i(case)e(to)h(compare)f(the)299
3378 y(p)r(erformance)27 b(of)i(these)f(three)h(implemen)n(tations.)39
b(The)29 b(results)f(of)h(these)f(comparisons)f(are)299
3478 y(summarized)h(in)h(T)-7 b(able)28 b(7.4.)39 b(The)28
b(\014rst)g(column)h(giv)n(es)e(the)i(time)g(to)g(compile)f(the)h
(Mercury)299 3577 y(compiler)d(and)g(link)g(it)h(with)g(the)g(Mercury)e
(library)-7 b(.)35 b(The)27 b(second)e(column)i(giv)n(es)e(the)i(size)f
(of)299 3677 y(the)j(resulting)f(sa)n(v)n(e)g(\014le)g(or)g(stripp)r
(ed)h(executable)g(\(statically)f(link)n(ed\).)41 b(The)29
b(third)g(column)299 3777 y(giv)n(es)f(the)h(running)f(time)i(of)f(the)
g(executable)g(for)f(a)g(t)n(ypical)h(compilation)f(task:)39
b(compiling)299 3876 y(a)27 b(medium-sized)h(\(400)e(line\))i(mo)r
(dule)g(from)f(the)h(compiler.)399 3976 y(The)i(third)h(column)f(sho)n
(ws)g(that)h(Mercury)e(retains)h(its)g(e\016ciency)h(for)f(large)f
(programs.)299 4076 y(In)c(fact,)h(the)g(sp)r(eed)g(adv)-5
b(an)n(tage)24 b(of)h(Mercury)f(asm)p 1914 4076 V 29
w(fast.gc)h(o)n(v)n(er)f(SICStus)i(fastco)r(de)f(is)g(m)n(uc)n(h)299
4175 y(greater)18 b(for)i(this)h(large)e(program)f(\(3.8\))i(than)h(it)
g(is)f(for)g(the)h(small)f(b)r(enc)n(hmarks)f(\(1.4\).)34
b(W)-7 b(e)21 b(see)299 4275 y(similar)32 b(e\013ects)h(when)g(w)n(e)g
(compare)e(Mercury)h(asm)p 2008 4275 V 29 w(fast.gc)h(with)g(SICStus)h
(compactco)r(de)299 4374 y(\(5.5)27 b(vs)g(4.6\))g(and)h(NU-Prolog)d
(\(6.3)i(vs)g(5.4\).)399 4474 y(The)g(second)g(column)g(sho)n(ws)g
(that)g(unlik)n(e)h(SICStus)g(fastco)r(de,)f(Mercury)f(do)r(es)h(not)h
(ha)n(v)n(e)299 4574 y(a)39 b(problem)h(with)g(co)r(de)g(size.)74
b(Although)40 b(w)n(e)f(generate)g(a)h(separate)e(co)r(de)i(sequence)f
(for)299 4673 y(eac)n(h)27 b(mo)r(de)h(of)g(a)g(predicate,)f(this)i(do)
r(es)e(not)h(cause)g(an)n(y)f(problems)g(with)i(co)r(de)e(size)h(for)g
(t)n(w)n(o)299 4773 y(reasons.)35 b(First,)27 b(v)n(ery)f(few)i
(predicates)f(are)f(used)h(in)h(more)e(than)i(one)f(mo)r(de;)g(the)h
(frequency)299 4873 y(of)41 b(predicates)g(with)g(more)g(than)g(one)g
(declared)f(mo)r(de)i(in)f(the)h(Mercury)e(compiler)h(and)299
4972 y(standard)23 b(library)h(is)g(ab)r(out)h(5\045.)35
b(Second,)25 b(the)g(co)r(de)g(for)f(eac)n(h)f(mo)r(de)i(is)g(small)f
(b)r(ecause)g(it)h(is)299 5072 y(sp)r(ecialized,)i(whereas)f(the)i(co)r
(de)g(emitted)g(b)n(y)f(a)g(con)n(v)n(en)n(tional)f(Prolog)f(compiler)i
(has)g(to)g(b)r(e)299 5171 y(prepared)g(to)g(handle)h(all)g(p)r
(ossible)g(data\015o)n(w)e(patterns)i(\(e.g.)37 b(indexing)28
b(co)r(de)g(t)n(ypically)f(has)1752 5325 y(45)p eop
%%Page: 46 46
46 45 bop 299 394 a Fp(to)26 b(b)r(e)g(prepared)f(for)h(the)g(p)r
(ossibilit)n(y)g(that)g(the)h(v)-5 b(ariable)25 b(to)h(b)r(e)g(indexed)
g(on)g(is)g(not)g(b)r(ound\).)299 493 y(When)33 b(w)n(e)f(ran)g(these)h
(b)r(enc)n(hmarks,)g(the)g(Mercury)e(compiler)h(and)h(standard)f
(library)f(had)299 593 y(a)d(total)h(of)g(2.4)f(Mb)i(of)e(source)g(co)r
(de.)41 b(Compiling)29 b(2.4)f(Mb)h(of)g(source)f(co)r(de)h(in)n(to)f
(2.2)h(Mb)g(of)299 692 y(ob)5 b(ject)29 b(co)r(de)g(is)h(go)r(o)r(d)e
(p)r(erformance)h(ev)n(en)g(for)f(compilers)h(for)g(imp)r(erativ)n(e)g
(languages)e(suc)n(h)299 792 y(as)34 b(C,)h(and)f(it)i(is)e(ev)n(en)h
(b)r(etter)g(when)g(one)f(considers)g(the)h(high)f(lev)n(el)h(nature)f
(of)h(Mercury)299 892 y(co)r(de.)399 991 y(The)22 b(\014rst)h(column)f
(sho)n(ws)g(that)g(the)h(Mercury)f(compiler)g(tak)n(es)g(roughly)f(six)
h(times)h(longer)299 1091 y(to)32 b(compile)g(the)g(compiler)g(than)g
(NU-Prolog)e(or)h(SICStus)h(Prolog.)48 b(The)32 b(larger)f(compila-)299
1191 y(tion)22 b(time)h(is)g(understandable,)g(giv)n(en)e(that)i(the)g
(Mercury)e(compiler)h(do)r(es)g(m)n(uc)n(h)h(more)e(w)n(ork)299
1290 y(than)28 b(the)h(compilers)f(for)f(the)i(Prolog)d(dialects.)39
b(It)29 b(is)f(usually)g(not)g(a)g(problem)g(in)g(practice,)299
1390 y(since)22 b(Mercury)f(supp)r(orts)h(separate)f(compilation)g(and)
i(the)f(recompilation)f(of)h(a)g(t)n(ypical)g(size)299
1489 y(mo)r(dule)j(is)f(quite)h(quic)n(k.)36 b(Nev)n(ertheless,)24
b(reducing)g(compilation)g(times)h(is)g(still)g(w)n(orth)n(while.)299
1589 y(The)30 b(steps)g(w)n(e)g(ha)n(v)n(e)f(tak)n(en)g(to)h(this)g
(end)h(include)f(limiting)h(the)f(n)n(um)n(b)r(er)g(of)g(Mercury)f
(pro-)299 1689 y(cedures)d(in)h(a)f(single)g(C)g(function)i(\(to)e
(limit)i(the)f(impact)f(of)h(quadratic)f(algorithms)f(in)i(gcc's)299
1788 y(optimizer\),)e(c)n(ho)r(osing)f(b)r(etter)h(data)f(represen)n
(tations)f(in)i(the)h(compiler,)e(and)h(reimplemen)n(t-)299
1888 y(ing)35 b(some)g(predicates)f(sho)n(wn)h(to)g(b)r(e)h(exp)r
(ensiv)n(e)f(b)n(y)g(the)h(pro\014ler.)59 b(Of)35 b(course,)h(since)f
(the)299 1988 y(Mercury)26 b(compiler)g(is)h(written)h(in)f(Mercury)-7
b(,)26 b(an)n(y)g(new)i(general-purp)r(ose)c(optimization)j(w)n(e)299
2087 y(implemen)n(t)j(will)f(also)f(sp)r(eed)h(up)h(the)f(compiler)f
(itself)i(\(if)g(w)n(e)f(discoun)n(t)f(the)i(time)g(tak)n(en)e(b)n(y)
299 2187 y(the)g(new)g(optimization)f(itself)6 b(\).)399
2286 y(A)n(t)28 b(the)h(momen)n(t)g(ab)r(out)f(one)g(third)h(of)g(the)f
(Mercury)g(to)g(ob)5 b(ject)29 b(co)r(de)f(translation)f(time)299
2386 y(is)35 b(accoun)n(ted)f(for)g(b)n(y)h(gcc)g({O2)e(con)n(v)n
(erting)h(C)h(co)r(de)f(to)h(ob)5 b(ject)35 b(co)r(de.)59
b(W)-7 b(e)35 b(could)g(there-)299 2486 y(fore)30 b(sp)r(eed)h(up)g
(the)g(o)n(v)n(erall)e(compilation)h(pro)r(cess)g(for)g(Mercury)g
(programs)f(b)n(y)h(compiling)299 2585 y(directly)36
b(to)g(ob)5 b(ject)37 b(co)r(de.)63 b(This)37 b(could)f(get)g(sev)n
(eral)f(b)r(ene\014ts)i(b)r(ey)n(ond)f(the)h(ob)n(vious)e(one)299
2685 y(of)h(a)n(v)n(oiding)f(an)i(extra)e(pass)h(in)n(v)n(olving)f
(\014le)i(I/O.)f(The)g(C)h(compiler)f(curren)n(tly)f(p)r(erforms)299
2785 y(optimizations)40 b(w)n(e)h(kno)n(w)f(to)h(b)r(e)h(unnecessary)d
(or)h(ine\013ectiv)n(e)i(for)e(the)i(co)r(de)e(w)n(e)h(gener-)299
2884 y(ate,)f(while)d(other)g(optimizations)g(could)h(b)r(e)f(made)h
(more)e(e\013ectiv)n(e)i(and/or)e(sp)r(eeded)h(up)299
2984 y(with)i(access)f(to)g(Mercury)g(source-lev)n(el)f(seman)n(tic)h
(information.)70 b(Ho)n(w)n(ev)n(er,)39 b(generating)299
3083 y(nativ)n(e)33 b(co)r(de)g(directly)g(w)n(ould)f(require)h(us)g
(to)g(exp)r(end)g(time)h(and)f(e\013ort)g(on)g(reimplemen)n(t-)299
3183 y(ing)d(w)n(ell-understo)r(o)r(d)f(tec)n(hniques)h(and)g(w)n(ould)
f(sacri\014ce)g(the)i(p)r(ortabilit)n(y)e(of)h(the)h(Mercury)299
3283 y(implemen)n(tation)h(for)g(the)g(sak)n(e)f(of)i(v)n(ery)e(small)g
(impro)n(v)n(emen)n(ts.)50 b(F)-7 b(or)31 b(the)i(time)g(b)r(eing,)g(w)
n(e)299 3382 y(prefer)27 b(to)g(sp)r(end)h(our)f(time)h(more)f(pro)r
(ductiv)n(ely)g(b)n(y)g(in)n(v)n(estigating)f(higher)h(lev)n(el)g
(optimiza-)299 3482 y(tions.)57 b(Ev)n(en)n(tually)-7
b(,)35 b(ho)n(w)n(ev)n(er,)f(w)n(e)g(ma)n(y)f(write)h(nativ)n(e)g(co)r
(de)g(generators)e(to)i(supplemen)n(t,)299 3582 y(not)27
b(replace,)g(the)h(C)g(co)r(de)f(generator.)0 3831 y
Fm(8.)41 b(Conclusion)299 3980 y Fp(T)-7 b(raditionally)29
b(most)h(p)r(eople)g(ha)n(v)n(e)f(equated)h(logic)g(programming)e(with)
j(Prolog,)d(and)i(con-)299 4080 y(cluded)40 b(that)g(logic)e
(programming)g(is)h(not)h(suitable)f(for)g(writing)g(application)g
(programs)299 4179 y(except)24 b(in)h(narro)n(w)d(domains.)35
b(One)24 b(ma)5 b(jor)23 b(reason)f(for)i(this)g(is)g(that)h(most)f
(implemen)n(tations)299 4279 y(of)33 b(Prolog)f(are)g(quite)i(slo)n(w,)
g(and)g(fast)f(implemen)n(tations)h(of)f(Prolog)e(exist)j(on)f(only)g
(a)g(few)299 4379 y(platforms.)56 b(Prolog)31 b(programmers)h(usually)h
(attac)n(k)g(e\016ciency)h(problems)g(b)n(y)g(using)f(non-)299
4478 y(logical)24 b(constructs,)h(e.g.)36 b(b)n(y)25
b(putting)g(in)h(cuts)f(to)h(prev)n(en)n(t)e(the)i(exploration)d(of)j
(parts)e(of)h(the)299 4578 y(searc)n(h)e(space.)35 b(These)24
b(constructs)g(destro)n(y)f(the)i(declarativ)n(e)d(reading)i(of)g(the)h
(program,)e(and)299 4677 y(complicate)33 b(the)i(job)f(of)f(the)i
(compiler)e(ev)n(en)g(further.)56 b(Another)34 b(ma)5
b(jor)32 b(problem)i(is)f(that)299 4777 y(Prolog)22 b(o\013ers)h(no)h
(supp)r(ort)g(for)f(the)i(construction)e(of)h(large)f(reliable)g(soft)n
(w)n(are)f(systems.)35 b(F)-7 b(or)299 4877 y(example,)35
b(when)e(a)h(piece)f(of)h(co)r(de)f(in)n(tended)h(to)g(alw)n(a)n(ys)d
(succeed)i(fails)h(instead,)h(the)f(pro-)299 4976 y(grammer)d(has)i(no)
f(help)i(in)f(tracing)f(the)h(cause)f(of)h(the)h(failure,)f(and)g(when)
g(an)g(imp)r(ortan)n(t)299 5076 y(data)27 b(structure)g(c)n(hanges,)g
(the)h(programmer)d(has)i(no)h(help)f(in)h(\014nding)g(all)g(the)g
(parts)f(of)g(the)299 5176 y(program)e(that)j(m)n(ust)g(b)r(e)g(up)r
(dated.)1752 5325 y(46)p eop
%%Page: 47 47
47 46 bop 399 394 a Fp(Our)24 b(approac)n(h)e(represen)n(ts)i(a)g
(clean)h(break)e(with)j(logic)d(programming)g(tradition)h(in)h(that)299
493 y(w)n(e)37 b(designed)h(Mercury)f(according)f(to)i(the)g
(principles)g(of)g(soft)n(w)n(are)e(engineering.)67 b(Since)299
593 y(w)n(e)27 b(w)n(an)n(ted)f(to)h(realize)f(the)i(adv)-5
b(an)n(tages)25 b(promised)i(b)n(y)g(logic)f(programming,)f(Mercury)h
(is)h(a)299 692 y(purely)32 b(declarativ)n(e)g(language)f(with)i(no)g
(non-logical)e(features;)k(ev)n(en)d(I/O)h(is)f(declarativ)n(e.)299
792 y(The)c(mo)r(dule)h(system)f(helps)h(groups)e(of)h(programmers)e
(co)r(op)r(erate)i(in)g(the)h(construction)f(of)299 892
y(large)f(programs.)39 b(The)29 b(t)n(yp)r(e,)g(mo)r(de)g(and)g
(determinism)g(declarations)e(w)n(e)h(require)g(pro)n(vide)299
991 y(imp)r(ortan)n(t)18 b(do)r(cumen)n(tation)h(that)g(can)g(b)r(e)g
(relied)g(up)r(on)g(b)n(y)f(main)n(tenance)h(programmers)d(and)299
1091 y(help)33 b(the)g(compiler)g(prev)n(en)n(t)f(a)g(large)g(ma)5
b(jorit)n(y)32 b(of)h(program)d(errors.)51 b(They)33
b(also)f(pro)n(vide)299 1191 y(information)38 b(that)i(the)g(compiler)e
(can)h(use)g(to)g(mak)n(e)g(the)g(implemen)n(tation)h(m)n(uc)n(h)f
(more)299 1290 y(e\016cien)n(t.)j(T)n(yp)r(e)30 b(information)e(allo)n
(ws)g(the)i(compiler)f(to)g(sp)r(ecialize)g(term)h(represen)n(tations;)
299 1390 y(mo)r(de)h(and)h(determinism)f(information)g(allo)n(ws)f(it)i
(to)f(sp)r(ecialize)g(the)h(co)r(de)f(generated)f(e.g.)299
1489 y(for)c(parameter)f(passing)h(and)g(for)g(uni\014cations.)36
b(Ev)n(en)26 b(though)g(our)g(compiler)g(do)r(es)g(not)h(y)n(et)299
1589 y(implemen)n(t)35 b(an)n(y)f(global)f(optimizations,)j(our)d(b)r
(enc)n(hmark)h(results)g(con\014rm)g(the)h(sup)r(erior)299
1689 y(sp)r(eed)c(of)g(this)g(approac)n(h)e(compared)h(with)h
(traditional)f(approac)n(hes)f(that)i(cannot)g(rely)f(on)299
1788 y(access)c(to)i(suc)n(h)f(information.)399 1888
y(The)f(Mercury)g(compiler)g(and)h(standard)f(library)f(are)h(written)h
(in)g(Mercury)f(itself.)37 b(They)299 1988 y(consist)i(of)g(ab)r(out)g
(88,000)e(lines)i(of)g(co)r(de)g(so)g(far.)71 b(Of)39
b(these)h(lines)f(ab)r(out)g(56\045)f(con)n(tain)299
2087 y(co)r(de)23 b(and)h(ab)r(out)g(14\045)f(con)n(tain)g
(declarations,)g(with)h(the)g(rest)f(b)r(eing)h(commen)n(ts)f
(\(12\045\))h(and)299 2187 y(whitespace)36 b(\(18\045\).)65
b(The)37 b(system)f(is)h(th)n(us)g(represen)n(tativ)n(e)e(of)i(the)g
(program)e(size)h(range)299 2286 y(for)k(whic)n(h)g(Mercury)g(w)n(as)f
(designed)h(\(thousands)h(to)f(millions)g(of)h(lines)f(of)h(co)r(de\).)
75 b(Our)299 2386 y(exp)r(erience)39 b(with)h(writing)f(this)h(co)r(de)
f(con\014rms)g(our)g(exp)r(ectations)g(ab)r(out)g(the)h(sup)r(erior)299
2486 y(soft)n(w)n(are)35 b(engineering)h(qualities)h(of)g(the)g
(language,)h(one)f(example)g(b)r(eing)g(our)f(abilit)n(y)h(to)299
2585 y(dev)n(elop)27 b(this)h(m)n(uc)n(h)f(high-lev)n(el)g(co)r(de)g
(in)h(little)g(more)f(than)h(4)f(p)r(erson-y)n(ears.)399
2685 y(When)k(w)n(e)f(program)f(in)i(C,)f(C++)g(or)g(Prolog,)f(w)n(e)i
(are)e(used)i(to)f(ha)n(ving)g(to)h(c)n(hase)e(do)n(wn)299
2785 y(most)g(bugs)g(fairly)f(lab)r(oriously)-7 b(.)41
b(This)29 b(also)f(happ)r(ened)h(in)h(the)f(early)g(part)f(of)h(our)g
(dev)n(elop-)299 2884 y(men)n(t)k(of)f(the)h(Mercury)f(compiler.)51
b(Ho)n(w)n(ev)n(er,)32 b(once)g(w)n(e)g(got)g(Mercury's)f(t)n(yp)r(e,)j
(mo)r(de)f(and)299 2984 y(determinism)38 b(c)n(hec)n(ks)f(w)n(orking,)i
(the)g(n)n(um)n(b)r(er)f(of)g(bugs)g(w)n(e)f(had)h(to)g(c)n(hase)f
(ourselv)n(es,)i(as)299 3083 y(opp)r(osed)30 b(to)h(the)g(compiler)f(p)
r(oin)n(ting)g(them)h(out,)h(dropp)r(ed)e(dramatically)-7
b(.)45 b(No)n(w,)31 b(it)g(is)g(not)299 3183 y(un)n(usual)d(for)g(us)g
(to)h(add)f(a)g(signi\014can)n(t)f(piece)i(of)f(functionalit)n(y)-7
b(,)29 b(and)f(\014nd)h(that)g(after)f(\014xing)299 3283
y(the)k(errors)e(detected)i(b)n(y)g(the)g(compiler,)h(the)f(co)r(de)g
(runs)f(correctly)g(the)h(\014rst)g(time.)50 b(Some)299
3382 y(of)28 b(the)g(p)r(eople)g(outside)f(the)h(core)f(Mercury)g(dev)n
(elopmen)n(t)g(team)h(who)f(ha)n(v)n(e)g(used)h(Mercury)299
3482 y(rep)r(ort)f(the)h(same)f(exp)r(erience.)399 3582
y(Mercury)20 b(is)i(in)f(some)g(resp)r(ects)h(a)f(less)g(expressiv)n(e)
f(language)g(than)i(Prolog.)32 b(F)-7 b(or)21 b(example,)299
3681 y(the)30 b(mo)r(de)g(system)f(requires)g(Mercury)f(programs)g(to)h
(ha)n(v)n(e)g(\014xed)h(data\015o)n(w)e(patterns,)i(and)299
3781 y(prev)n(en)n(ts)h(them)h(from)f(using)h(uni\014cations)f(that)h
(w)n(ould)g(mak)n(e)f(one)g(free)h(v)-5 b(ariable)30
b(an)i(alias)299 3880 y(for)27 b(another.)37 b(While)28
b(writing)f(more)g(than)h(100,000)d(lines)j(of)g(Mercury)e(co)r(de)i
(\(the)g(compiler)299 3980 y(and)i(some)f(small)h(applications,)g
(including)h(a)e(scanner)g(generator)f(and)i(an)g(in)n(terpreter)f(for)
299 4080 y(pure)k(Prolog\),)g(w)n(e)h(ha)n(v)n(e)e(bump)r(ed)j(in)n(to)
e(these)h(limitations)g(v)n(ery)e(rarely)-7 b(.)54 b(Ev)n(en)32
b(then,)k(w)n(e)299 4179 y(found)29 b(them)h(easy)f(to)g(co)r(de)g
(around,)g(and)g(found)g(the)h(resulting)f(co)r(de)g(to)g(b)r(e)h
(easier)e(to)h(un-)299 4279 y(derstand)g(than)h(the)g(original.)41
b(This)30 b(is)f(consisten)n(t)g(with)h(the)g(exp)r(eriences)f(rep)r
(orted)g(in)h([6])299 4379 y(and)e([30].)37 b(W)-7 b(e)28
b(consider)f(Mercury's)f(limitations)i(to)g(b)r(e)g(more)f(than)h(w)n
(orth)n(while)f(consider-)299 4478 y(ing)k(the)h(b)r(ene\014ts)g(they)f
(bring)g(in)g(terms)g(of)h(pro)r(ductivit)n(y)-7 b(,)32
b(reliabilit)n(y)-7 b(,)31 b(understandabilit)n(y)-7
b(,)299 4578 y(main)n(tainabilit)n(y)g(,)27 b(and)g(e\016ciency)-7
b(.)399 4677 y(W)g(e)24 b(w)n(ould)g(lik)n(e)g(to)g(thank)g(P)n(eter)f
(Ross)g(for)h(his)g(w)n(ork)f(on)g(the)i(Mercury)e(pro\014ler,)h
(Andrew)299 4777 y(Bromage)37 b(and)j(Simon)g(T)-7 b(a)n(ylor)37
b(for)i(implemen)n(ting)h(some)f(optimizations,)j(T)n(yson)d(Do)n(wd)
299 4877 y(for)33 b(his)h(w)n(ork)e(on)h(the)h(nativ)n(e)f(Mercury)g
(garbage)e(collector,)j(Da)n(vid)f(Je\013ery)g(for)h(his)f(w)n(ork)299
4976 y(on)j(the)h(Mercury/C)e(in)n(terface,)j(Jane)e(Langley)f(for)h
(her)h(w)n(ork)e(on)h(the)h(fron)n(t)f(end)h(of)f(the)299
5076 y(compiler,)c(Will)f(Winsb)r(orough,)h(Je\013)f(Sc)n(h)n(ultz)g
(and)h(Andrew)f(T)-7 b(a)n(ylor)29 b(for)i(our)g(discussions,)299
5176 y(P)n(eter)h(Sc)n(hac)n(h)n(te)h(for)f(running)h(the)h(Quin)n(tus)
f(Prolog)f(b)r(enc)n(hmarks)g(for)h(us,)i(Da)n(vid)e(Kemp,)1752
5325 y(47)p eop
%%Page: 48 48
48 47 bop 299 394 a Fp(James)26 b(Harland,)g(Ja)n(y)n(en)f(V)-7
b(aghani,)26 b(Kotagiri)f(Ramamohanarao,)f(Je\013)j(Sc)n(h)n(ultz,)g
(Lee)f(Naish)299 493 y(and)36 b(Philip)h(Dart)f(for)g(their)g(commen)n
(ts)g(on)g(drafts)g(of)h(this)f(pap)r(er,)i(and)f(the)f(Australian)299
593 y(Researc)n(h)22 b(Council)i(and)f(the)h(Cen)n(tre)f(for)h(In)n
(telligen)n(t)f(Decision)g(Systems)h(for)f(their)h(supp)r(ort.)399
692 y(F)-7 b(or)35 b(directions)g(on)g(ho)n(w)g(to)g(obtain)h(the)g
(Mercury)e(system,)k(please)d(consult)g(our)g(W)-7 b(eb)299
792 y(page)27 b(at)g Fk(http://www.cs.mu)o(.oz)o(.a)o(u/m)o(er)o(cu)o
(ry/)o(me)o(rcu)o(ry)o(.ht)o(ml)o Fp(.)299 1091 y Fm(REFERENCES)414
1249 y Fc(1.)67 b(H.)33 b(Ait-Kaci.)57 b Fa(Warr)l(en)-8
b('s)36 b(abstr)l(act)h(machine:)49 b(a)35 b(tutorial)g(r)l(e)l(c)l
(onstruction)p Fc(.)61 b(MIT)33 b(Press,)540 1340 y(1991.)414
1431 y(2.)67 b(H.)31 b(Bo)r(ehm)f(and)g(M.)h(W)-6 b(eiser.)50
b(Garbage)32 b(collection)g(in)f(an)f(unco)r(op)r(erativ)n(e)h(en)n
(vironmen)n(t.)540 1523 y Fa(Softwar)l(e)e(Pr)l(actic)l(e)g(and)f(Exp)l
(erienc)l(e)p Fc(,)g(18:807{820,)i(1988.)414 1614 y(3.)67
b(M.)40 b(Carlsson)h(and)e(J.)h(Widen.)74 b(SICStus-Prolog)40
b(user's)g(man)n(ual.)74 b(T)-6 b(ec)n(hnical)40 b(Rep)r(ort)540
1705 y(88007B,)29 b(Sw)n(edish)c(Institute)g(of)i(Computer)e(Science,)h
(Kista,)g(Sw)n(eden,)g(1988.)414 1797 y(4.)67 b(P)-6
b(.)29 b(Co)r(dognet)g(and)f(D.)h(Diaz.)43 b(w)n(amcc:)c(Compiling)29
b(Prolog)h(to)f(C.)43 b(In)28 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)k(of)e
(the)540 1888 y(Twelfth)36 b(International)h(Confer)l(enc)l(e)h(on)e(L)
l(o)l(gic)g(Pr)l(o)l(gr)l(amming)p Fc(,)j(pages)d(317{331,)k(Kana-)540
1979 y(ga)n(w)n(a,)28 b(Japan,)e(June)g(1995.)414 2071
y(5.)67 b(S.)26 b(K.)f(Debra)n(y)g(and)g(D.)g(S.)h(W)-6
b(arren.)34 b(Detection)25 b(and)h(optimisation)g(of)g(functional)g
(compu-)540 2162 y(tations)k(in)g(Prolog.)47 b(In)28
b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)33 b(of)e(the)h(Thir)l(d)f
(International)h(Confer)l(enc)l(e)g(on)f(L)l(o)l(gic)540
2253 y(Pr)l(o)l(gr)l(amming)p Fc(,)c(pages)g(490{504,)h(London,)e
(England,)g(June)g(1986.)414 2345 y(6.)67 b(W.)25 b(Drab)r(en)n(t.)33
b(Do)24 b(logic)j(programs)e(resem)n(ble)f(programs)h(in)g(con)n(v)n
(en)n(tional)g(languages?)43 b(In)540 2436 y Fa(Pr)l(o)l(c)l(e)l(e)l
(dings)25 b(of)d(the)i(F)-6 b(ourth)24 b(IEEE)e(Symp)l(osium)h(on)g(L)l
(o)l(gic)g(Pr)l(o)l(gr)l(amming)p Fc(,)f(pages)g(389{396,)540
2527 y(San)k(F)-6 b(rancisco,)27 b(California,)h(August)d(1987.)414
2619 y(7.)67 b(D.)34 b(Gudeman,)h(S.)f(K.)g(Debra)n(y)-6
b(,)35 b(and)f(K.)g(DeBossc)n(here.)60 b(jc:)51 b(an)34
b(e\016cien)n(t)g(and)g(p)r(ortable)540 2710 y(sequen)n(tial)e
(implemen)n(tation)e(of)i(Jan)n(us.)52 b(In)31 b Fa(Pr)l(o)l(c)l(e)l(e)
l(dings)k(of)d(the)i(International)g(Confer-)540 2801
y(enc)l(e)i(and)f(Symp)l(osium)f(on)h(L)l(o)l(gic)g(Pr)l(o)l(gr)l
(amming)p Fc(,)i(pages)d(399{416,)k(W)-6 b(ashington,)36
b(D.C.,)540 2892 y(No)n(v)n(em)n(b)r(er)24 b(1992.)414
2984 y(8.)67 b(B.)38 b(Hausman.)66 b(Carp)r(e)38 b(diem,)h(some)d
(implemen)n(tation)g(asp)r(ects)h(of)h(Turb)r(o)f(Erlang.)68
b(In)540 3075 y Fa(Pr)l(o)l(c)l(e)l(e)l(dings)24 b(of)d(the)h(Workshop)
h(on)e(Pr)l(actic)l(al)i(Implementations)f(and)g(Systems)h(Exp)l
(erienc)l(e)540 3166 y(in)k(L)l(o)l(gic)h(Pr)l(o)l(gr)l(amming)p
Fc(,)f(pages)g(1{12,)g(Budap)r(est,)f(Hungary)-6 b(,)25
b(June)h(1993.)414 3258 y(9.)67 b(R.)25 b(C.)h(Ha)n(ygo)r(o)r(d.)34
b(Nativ)n(e)25 b(co)r(de)g(compilation)h(in)f(SICStus)f(Prolog.)35
b(In)25 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)k(of)e(the)540
3349 y(Eleventh)35 b(International)g(Confer)l(enc)l(e)g(on)f(L)l(o)l
(gic)g(Pr)l(o)l(gr)l(amming)p Fc(,)h(pages)e(190{204,)k(San)n(ta)540
3440 y(Margherita)27 b(Ligure,)g(Italy)-6 b(,)25 b(June)h(1994.)376
3532 y(10.)67 b(F.)36 b(Henderson,)h(T.)f(Con)n(w)n(a)n(y)-6
b(,)39 b(Z.)c(Somogyi,)j(and)d(D.)g(Je\013ery)-6 b(.)63
b(The)35 b(Mercury)g(language)540 3623 y(reference)23
b(man)n(ual.)29 b(T)-6 b(ec)n(hnical)23 b(Rep)r(ort)f(96/10,)j
(Departmen)n(t)20 b(of)k(Computer)d(Science,)i(Uni-)540
3714 y(v)n(ersit)n(y)i(of)i(Melb)r(ourne,)f(Melb)r(ourne,)h(Australia,)
g(1996.)376 3806 y(11.)67 b(F.)28 b(Henderson,)f(Z.)h(Somogyi,)f(and)g
(T.)h(Con)n(w)n(a)n(y)-6 b(.)39 b(Compiling)28 b(logic)h(programs)e(to)
h(C)f(using)540 3897 y(GNU)19 b(C)h(as)g(a)g(p)r(ortable)h(assem)n
(bler.)j(T)-6 b(ec)n(hnical)21 b(Rep)r(ort)e(96/12,)k(Departmen)n(t)18
b(of)i(Computer)540 3988 y(Science,)26 b(Univ)n(ersit)n(y)f(of)i(Melb)r
(ourne,)f(Melb)r(ourne,)h(Australia,)f(1996.)376 4080
y(12.)67 b(F.)27 b(Henderson,)g(Z.)g(Somogyi,)f(and)h(T.)g(Con)n(w)n(a)
n(y)-6 b(.)37 b(Determinism)25 b(analysis)j(in)f(the)f(Mercury)540
4171 y(compiler.)50 b(T)-6 b(ec)n(hnical)31 b(Rep)r(ort)g(95/25,)j
(Departmen)n(t)29 b(of)j(Computer)e(Science,)j(Univ)n(ersit)n(y)540
4262 y(of)27 b(Melb)r(ourne,)f(Melb)r(ourne,)h(Australia,)g(August)e
(1995.)376 4354 y(13.)67 b(F.)31 b(J.)g(Henderson.)48
b(Strong)31 b(mo)r(des)f(can)g(c)n(hange)h(the)f(w)n(orld!)67
b(T)-6 b(ec)n(hnical)31 b(Rep)r(ort)f(93/25,)540 4445
y(Departmen)n(t)21 b(of)j(Computer)e(Science,)i(Univ)n(ersit)n(y)e(of)i
(Melb)r(ourne,)g(Melb)r(ourne,)g(Australia,)540 4536
y(Octob)r(er)i(1993.)376 4628 y(14.)67 b(P)-6 b(.)26
b(M.)g(Hill)g(and)g(J.)g(W.)g(Llo)n(yd.)34 b Fa(The)28
b(G\177)-39 b(odel)28 b(pr)l(o)l(gr)l(amming)h(language)p
Fc(.)35 b(MIT)26 b(Press,)h(1994.)376 4719 y(15.)67 b(D.)24
b(B.)h(Kemp,)f(K.)g(Ramamohanarao,)h(I.)f(Balbin,)i(and)e(K.)g
(Meenakshi.)33 b(Propagating)26 b(con-)540 4810 y(strain)n(ts)f(in)g
(recursiv)n(e)g(deductiv)n(e)e(databases.)34 b(In)24
b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)k(of)f(the)g(First)g(North)h(A)n(mer-)
540 4902 y(ic)l(an)g(Confer)l(enc)l(e)h(on)f(L)l(o)l(gic)g(Pr)l(o)l(gr)
l(amming)p Fc(,)f(pages)g(981{998,)i(Clev)n(eland,)d(Ohio,)h(Octob)r
(er)540 4993 y(1989.)1752 5325 y Fp(48)p eop
%%Page: 49 49
49 48 bop 376 394 a Fc(16.)67 b(F.)23 b(Kluzniak.)28
b(T)n(yp)r(e)22 b(syn)n(thesis)f(for)i(ground)f(Prolog.)30
b(In)22 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)k(of)e(the)h(F)-6
b(ourth)25 b(Inter-)540 485 y(national)h(Confer)l(enc)l(e)h(on)f(L)l(o)
l(gic)g(Pr)l(o)l(gr)l(amming)p Fc(,)f(pages)g(788{816,)i(Melb)r(ourne,)
d(Australia,)540 576 y(June)i(1987.)376 667 y(17.)67
b(J.)30 b(W.)g(Llo)n(yd.)44 b(Declarativ)n(e)30 b(error)g(diagnosis.)47
b Fa(New)31 b(Gener)l(ation)h(Computing)p Fc(,)f(5\(2\):133{)540
759 y(154,)c(1987.)376 850 y(18.)67 b(A.)28 b(Marien,)h(G.)f(Janssen,)h
(A.)e(Mulk)n(ers,)i(and)e(M.)h(Bruyno)r(oghe.)40 b(The)28
b(impact)f(of)h(abstract)540 941 y(in)n(terpretations:)56
b(an)36 b(exp)r(erimen)n(t)e(in)i(co)r(de)g(generation.)66
b(In)35 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)40 b(of)c(the)i(Sixth)540
1033 y(International)d(Confer)l(enc)l(e)g(on)e(L)l(o)l(gic)h(Pr)l(o)l
(gr)l(amming)p Fc(,)h(pages)e(33{47,)j(Lisb)r(oa,)f(P)n(ortugal,)540
1124 y(June)26 b(1989.)376 1215 y(19.)67 b(R.)27 b(Milner.)41
b(A)26 b(prop)r(osal)j(for)f(standard)f(ML.)40 b(In)27
b Fa(Confer)l(enc)l(e)j(R)l(e)l(c)l(or)l(d)h(of)e(the)g(A)n(CM)g(Sym-)
540 1307 y(p)l(osium)c(on)g(LISP)g(and)g(F)-6 b(unctional)25
b(Pr)l(o)l(gr)l(amming)p Fc(,)g(pages)f(184{197,)i(Austin,)d(T)-6
b(exas,)24 b(July)540 1398 y(1984.)376 1489 y(20.)67
b(A.)41 b(Mulk)n(ers,)46 b(W.)41 b(Winsb)r(orough,)46
b(and)40 b(M.)i(Bruyno)r(oghe.)81 b(Analysis)41 b(of)h(shared)f(data)
540 1581 y(structures)32 b(for)h(compile-time)e(garbage)j(collection)g
(in)e(logic)i(programs.)54 b(In)31 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)540
1672 y(of)36 b(the)h(Seventh)g(International)g(Confer)l(enc)l(e)h(on)e
(L)l(o)l(gic)g(Pr)l(o)l(gr)l(amming)p Fc(,)j(pages)d(747{762,)540
1763 y(Jerusalem,)27 b(Israel,)g(June)e(1990.)376 1855
y(21.)67 b(A.)27 b(Mycroft)i(and)e(R.)g(A.)g(O'Keefe.)40
b(A)27 b(p)r(olymorphic)g(t)n(yp)r(e)f(system)h(for)h(Prolog.)42
b Fa(A)n(rti\014cial)540 1946 y(Intel)t(ligenc)l(e)p
Fc(,)27 b(23:295{307,)i(1984.)376 2037 y(22.)67 b(L.)32
b(M.)h(P)n(ereira.)55 b(Rational)32 b(debugging)h(in)f(logic)h
(programming.)53 b(In)31 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)36
b(of)d(the)540 2129 y(Thir)l(d)j(International)g(Confer)l(enc)l(e)h(on)
f(L)l(o)l(gic)g(Pr)l(o)l(gr)l(amming)p Fc(,)h(pages)e(203{210,)40
b(London,)540 2220 y(England,)27 b(June)e(1986.)376 2311
y(23.)67 b(F.)26 b(Pfenning,)h(editor.)35 b Fa(T)-6 b(yp)l(es)28
b(in)f(lo)l(gic)h(pr)l(o)l(gr)l(amming)p Fc(.)35 b(MIT)27
b(Press,)g(1992.)376 2403 y(24.)67 b(H.)31 b(Seki)g(and)g(K.)h(F)-6
b(uruk)l(a)n(w)n(a.)50 b(Notes)32 b(on)f(transformation)h(tec)n
(hniques)f(for)h(generate)g(and)540 2494 y(test)26 b(logic)i(programs.)
35 b(In)25 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)30 b(of)e(the)h(F)-6
b(ourth)29 b(IEEE)e(Symp)l(osium)h(on)g(L)l(o)l(gic)h(Pr)l(o-)540
2585 y(gr)l(amming)p Fc(,)d(pages)h(215{223,)i(San)c(F)-6
b(rancisco,)27 b(California,)i(August)c(1987.)376 2677
y(25.)67 b(E.)26 b(Y.)g(Shapiro.)34 b Fa(A)n(lgorithm)28
b(pr)l(o)l(gr)l(am)h(debugging)p Fc(.)36 b(MIT)26 b(Press,)h(1983.)376
2768 y(26.)67 b(G.)23 b(Smolk)l(a.)k(Making)c(con)n(trol)f(and)g(data)g
(\015o)n(w)h(in)e(logic)j(programs)e(explicit.)29 b(In)21
b Fa(Confer)l(enc)l(e)540 2859 y(R)l(e)l(c)l(or)l(d)27
b(of)e(the)h(A)n(CM)f(Symp)l(osium)g(on)h(LISP)f(and)g(F)-6
b(unctional)26 b(Pr)l(o)l(gr)l(amming)p Fc(,)f(pages)f(311{)540
2951 y(322,)j(Austin,)f(T)-6 b(exas,)26 b(July)g(1984.)376
3042 y(27.)67 b(Z.)18 b(Somogyi.)k Fa(A)e(p)l(ar)l(al)t(lel)h(lo)l(gic)
f(pr)l(o)l(gr)l(amming)h(system)h(b)l(ase)l(d)g(on)f(str)l(ong)h(and)f
(pr)l(e)l(cise)g(mo)l(des)p Fc(.)540 3133 y(PhD)k(thesis,)i(Univ)n
(ersit)n(y)e(of)h(Melb)r(ourne,)h(Australia,)f(Jan)n(uary)g(1989.)376
3225 y(28.)67 b(Z.)37 b(Somogyi.)65 b(A)36 b(system)f(of)i(precise)g
(mo)r(des)e(for)i(logic)h(programs.)66 b(In)36 b Fa(Pr)l(o)l(c)l(e)l(e)
l(dings)j(of)540 3316 y(the)31 b(F)-6 b(ourth)32 b(International)g
(Confer)l(enc)l(e)g(on)e(L)l(o)l(gic)h(Pr)l(o)l(gr)l(amming)p
Fc(,)g(pages)f(769{787,)i(Mel-)540 3407 y(b)r(ourne,)26
b(Australia,)h(June)e(1987.)376 3499 y(29.)67 b(A.)39
b(T)-6 b(a)n(ylor.)73 b(LIPS)38 b(on)g(a)h(MIPS:)g(results)g(from)f(a)h
(Prolog)h(compiler)e(for)i(a)e(RISC.)72 b(In)540 3590
y Fa(Pr)l(o)l(c)l(e)l(e)l(dings)28 b(of)e(the)h(Seventh)g
(International)g(Confer)l(enc)l(e)h(on)e(L)l(o)l(gic)g(Pr)l(o)l(gr)l
(amming)p Fc(,)g(pages)540 3681 y(174{185,)j(Jerusalem,)d(Israel,)h
(June)f(1990.)376 3773 y(30.)67 b(A.)33 b(T)-6 b(a)n(ylor.)57
b Fa(High)34 b(p)l(erformanc)l(e)i(Pr)l(olo)l(g)f(implementation)p
Fc(.)57 b(PhD)33 b(thesis,)j(Univ)n(ersit)n(y)c(of)540
3864 y(Sydney)-6 b(,)24 b(Australia,)j(June)e(1991.)376
3955 y(31.)67 b(J.)36 b(Thom)f(and)g(J.)h(Zob)r(el.)64
b(NU-Prolog)36 b(reference)h(man)n(ual.)62 b(T)-6 b(ec)n(hnical)36
b(Rep)r(ort)f(86/10,)540 4046 y(Departmen)n(t)21 b(of)j(Computer)e
(Science,)i(Univ)n(ersit)n(y)e(of)i(Melb)r(ourne,)g(Melb)r(ourne,)g
(Australia,)540 4138 y(1986.)376 4229 y(32.)67 b(P)-6
b(.)21 b(V)-6 b(an)20 b(Ro)n(y)f(and)h(A.)h(Despain.)26
b(High-p)r(erformance)20 b(logic)i(programming)e(with)h(the)f(Aquar-)
540 4320 y(ius)26 b(Prolog)i(compiler.)34 b Fa(IEEE)27
b(Computer)p Fc(,)g(25\(1\):54{68,)i(Jan)n(uary)d(1992.)376
4412 y(33.)67 b(P)-6 b(.)30 b(W)-6 b(adler.)47 b(Linear)31
b(t)n(yp)r(es)e(can)h(c)n(hange)g(the)g(w)n(orld!)65
b(In)29 b Fa(Pr)l(o)l(c)l(e)l(e)l(dings)34 b(of)d(the)h(IFIP)f(TC2)540
4503 y(Confer)l(enc)l(e)e(on)f(Pr)l(o)l(gr)l(amming)g(Conc)l(epts)i
(and)e(Metho)l(ds)p Fc(,)f(pages)g(547{566,)i(April)c(1990.)376
4594 y(34.)67 b(D.)28 b(H.)f(D.)h(W)-6 b(arren.)39 b(An)27
b(abstract)h(Prolog)i(instruction)d(set.)41 b(T)-6 b(ec)n(hnical)28
b(Rep)r(ort)f(309,)j(SRI)540 4686 y(In)n(ternational,)d(Menlo)f(P)n
(ark,)g(California,)j(Octob)r(er)d(1983.)376 4777 y(35.)67
b(J.)33 b(Wielemak)n(er.)55 b(SWI-Prolog)33 b(reference)g(man)n(ual.)54
b(T)-6 b(ec)n(hnical)33 b(rep)r(ort,)i(Departmen)n(t)c(of)540
4868 y(So)r(cial)c(Science)f(Informatics,)g(Univ)n(ersit)n(y)f(of)h
(Amsterdam,)e(Netherlands,)i(1993.)376 4960 y(36.)67
b(N.-F.)30 b(Zhou.)47 b(On)29 b(the)g(sc)n(heme)g(of)i(passing)g
(argumen)n(ts)e(in)h(stac)n(k)g(frames)g(for)h(Prolog.)48
b(In)540 5051 y Fa(Pr)l(o)l(c)l(e)l(e)l(dings)25 b(of)d(the)i(Eleventh)
g(International)g(Confer)l(enc)l(e)g(on)f(L)l(o)l(gic)g(Pr)l(o)l(gr)l
(amming)p Fc(,)g(pages)540 5142 y(159{174,)29 b(San)n(ta)c(Margherita)j
(Ligure,)e(Italy)-6 b(,)26 b(June)f(1994.)1752 5325 y
Fp(49)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
